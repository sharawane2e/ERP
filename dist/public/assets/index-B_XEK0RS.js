function $3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var u7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gg={exports:{}},qf={},Kg={exports:{}},hn={};var I2;function V3(){if(I2)return hn;I2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,S={};function E(j,x,C){this.props=j,this.context=x,this.refs=S,this.updater=C||y}E.prototype.isReactComponent={},E.prototype.setState=function(j,x){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,x,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function _(){}_.prototype=E.prototype;function O(j,x,C){this.props=j,this.context=x,this.refs=S,this.updater=C||y}var T=O.prototype=new _;T.constructor=O,D(T,E.prototype),T.isPureReactComponent=!0;var z=Array.isArray,ee=Object.prototype.hasOwnProperty,ae={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function te(j,x,C){var M,H={},ie=null,le=null;if(x!=null)for(M in x.ref!==void 0&&(le=x.ref),x.key!==void 0&&(ie=""+x.key),x)ee.call(x,M)&&!W.hasOwnProperty(M)&&(H[M]=x[M]);var ve=arguments.length-2;if(ve===1)H.children=C;else if(1<ve){for(var je=Array(ve),Te=0;Te<ve;Te++)je[Te]=arguments[Te+2];H.children=je}if(j&&j.defaultProps)for(M in ve=j.defaultProps,ve)H[M]===void 0&&(H[M]=ve[M]);return{$$typeof:t,type:j,key:ie,ref:le,props:H,_owner:ae.current}}function Q(j,x){return{$$typeof:t,type:j.type,key:x,ref:j.ref,props:j.props,_owner:j._owner}}function fe(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function U(j){var x={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(C){return x[C]})}var F=/\/+/g;function X(j,x){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):x.toString(36)}function Y(j,x,C,M,H){var ie=typeof j;(ie==="undefined"||ie==="boolean")&&(j=null);var le=!1;if(j===null)le=!0;else switch(ie){case"string":case"number":le=!0;break;case"object":switch(j.$$typeof){case t:case e:le=!0}}if(le)return le=j,H=H(le),j=M===""?"."+X(le,0):M,z(H)?(C="",j!=null&&(C=j.replace(F,"$&/")+"/"),Y(H,x,C,"",function(Te){return Te})):H!=null&&(fe(H)&&(H=Q(H,C+(!H.key||le&&le.key===H.key?"":(""+H.key).replace(F,"$&/")+"/")+j)),x.push(H)),1;if(le=0,M=M===""?".":M+":",z(j))for(var ve=0;ve<j.length;ve++){ie=j[ve];var je=M+X(ie,ve);le+=Y(ie,x,C,je,H)}else if(je=A(j),typeof je=="function")for(j=je.call(j),ve=0;!(ie=j.next()).done;)ie=ie.value,je=M+X(ie,ve++),le+=Y(ie,x,C,je,H);else if(ie==="object")throw x=String(j),Error("Objects are not valid as a React child (found: "+(x==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":x)+"). If you meant to render a collection of children, use an array instead.");return le}function we(j,x,C){if(j==null)return j;var M=[],H=0;return Y(j,M,"","",function(ie){return x.call(C,ie,H++)}),M}function ye(j){if(j._status===-1){var x=j._result;x=x(),x.then(function(C){(j._status===0||j._status===-1)&&(j._status=1,j._result=C)},function(C){(j._status===0||j._status===-1)&&(j._status=2,j._result=C)}),j._status===-1&&(j._status=0,j._result=x)}if(j._status===1)return j._result.default;throw j._result}var xe={current:null},se={transition:null},me={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function I(){throw Error("act(...) is not supported in production builds of React.")}return hn.Children={map:we,forEach:function(j,x,C){we(j,function(){x.apply(this,arguments)},C)},count:function(j){var x=0;return we(j,function(){x++}),x},toArray:function(j){return we(j,function(x){return x})||[]},only:function(j){if(!fe(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},hn.Component=E,hn.Fragment=r,hn.Profiler=a,hn.PureComponent=O,hn.StrictMode=n,hn.Suspense=f,hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,hn.act=I,hn.cloneElement=function(j,x,C){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var M=D({},j.props),H=j.key,ie=j.ref,le=j._owner;if(x!=null){if(x.ref!==void 0&&(ie=x.ref,le=ae.current),x.key!==void 0&&(H=""+x.key),j.type&&j.type.defaultProps)var ve=j.type.defaultProps;for(je in x)ee.call(x,je)&&!W.hasOwnProperty(je)&&(M[je]=x[je]===void 0&&ve!==void 0?ve[je]:x[je])}var je=arguments.length-2;if(je===1)M.children=C;else if(1<je){ve=Array(je);for(var Te=0;Te<je;Te++)ve[Te]=arguments[Te+2];M.children=ve}return{$$typeof:t,type:j.type,key:H,ref:ie,props:M,_owner:le}},hn.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},hn.createElement=te,hn.createFactory=function(j){var x=te.bind(null,j);return x.type=j,x},hn.createRef=function(){return{current:null}},hn.forwardRef=function(j){return{$$typeof:c,render:j}},hn.isValidElement=fe,hn.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:ye}},hn.memo=function(j,x){return{$$typeof:p,type:j,compare:x===void 0?null:x}},hn.startTransition=function(j){var x=se.transition;se.transition={};try{j()}finally{se.transition=x}},hn.unstable_act=I,hn.useCallback=function(j,x){return xe.current.useCallback(j,x)},hn.useContext=function(j){return xe.current.useContext(j)},hn.useDebugValue=function(){},hn.useDeferredValue=function(j){return xe.current.useDeferredValue(j)},hn.useEffect=function(j,x){return xe.current.useEffect(j,x)},hn.useId=function(){return xe.current.useId()},hn.useImperativeHandle=function(j,x,C){return xe.current.useImperativeHandle(j,x,C)},hn.useInsertionEffect=function(j,x){return xe.current.useInsertionEffect(j,x)},hn.useLayoutEffect=function(j,x){return xe.current.useLayoutEffect(j,x)},hn.useMemo=function(j,x){return xe.current.useMemo(j,x)},hn.useReducer=function(j,x,C){return xe.current.useReducer(j,x,C)},hn.useRef=function(j){return xe.current.useRef(j)},hn.useState=function(j){return xe.current.useState(j)},hn.useSyncExternalStore=function(j,x,C){return xe.current.useSyncExternalStore(j,x,C)},hn.useTransition=function(){return xe.current.useTransition()},hn.version="18.3.1",hn}var F2;function Tm(){return F2||(F2=1,Kg.exports=V3()),Kg.exports}var O2;function H3(){if(O2)return qf;O2=1;var t=Tm(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(c,f,p){var m,w={},A=null,y=null;p!==void 0&&(A=""+p),f.key!==void 0&&(A=""+f.key),f.ref!==void 0&&(y=f.ref);for(m in f)n.call(f,m)&&!o.hasOwnProperty(m)&&(w[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)w[m]===void 0&&(w[m]=f[m]);return{$$typeof:e,type:c,key:A,ref:y,props:w,_owner:a.current}}return qf.Fragment=r,qf.jsx=u,qf.jsxs=u,qf}var M2;function W3(){return M2||(M2=1,Gg.exports=H3()),Gg.exports}var i=W3(),yp={},Qg={exports:{}},Ia={},Zg={exports:{}},Yg={};var B2;function G3(){return B2||(B2=1,(function(t){function e(se,me){var I=se.length;se.push(me);e:for(;0<I;){var j=I-1>>>1,x=se[j];if(0<a(x,me))se[j]=me,se[I]=x,I=j;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var me=se[0],I=se.pop();if(I!==me){se[0]=I;e:for(var j=0,x=se.length,C=x>>>1;j<C;){var M=2*(j+1)-1,H=se[M],ie=M+1,le=se[ie];if(0>a(H,I))ie<x&&0>a(le,H)?(se[j]=le,se[ie]=I,j=ie):(se[j]=H,se[M]=I,j=M);else if(ie<x&&0>a(le,I))se[j]=le,se[ie]=I,j=ie;else break e}}return me}function a(se,me){var I=se.sortIndex-me.sortIndex;return I!==0?I:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],p=[],m=1,w=null,A=3,y=!1,D=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(se){for(var me=r(p);me!==null;){if(me.callback===null)n(p);else if(me.startTime<=se)n(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=r(p)}}function z(se){if(S=!1,T(se),!D)if(r(f)!==null)D=!0,ye(ee);else{var me=r(p);me!==null&&xe(z,me.startTime-se)}}function ee(se,me){D=!1,S&&(S=!1,_(te),te=-1),y=!0;var I=A;try{for(T(me),w=r(f);w!==null&&(!(w.expirationTime>me)||se&&!U());){var j=w.callback;if(typeof j=="function"){w.callback=null,A=w.priorityLevel;var x=j(w.expirationTime<=me);me=t.unstable_now(),typeof x=="function"?w.callback=x:w===r(f)&&n(f),T(me)}else n(f);w=r(f)}if(w!==null)var C=!0;else{var M=r(p);M!==null&&xe(z,M.startTime-me),C=!1}return C}finally{w=null,A=I,y=!1}}var ae=!1,W=null,te=-1,Q=5,fe=-1;function U(){return!(t.unstable_now()-fe<Q)}function F(){if(W!==null){var se=t.unstable_now();fe=se;var me=!0;try{me=W(!0,se)}finally{me?X():(ae=!1,W=null)}}else ae=!1}var X;if(typeof O=="function")X=function(){O(F)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,we=Y.port2;Y.port1.onmessage=F,X=function(){we.postMessage(null)}}else X=function(){E(F,0)};function ye(se){W=se,ae||(ae=!0,X())}function xe(se,me){te=E(function(){se(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){D||y||(D=!0,ye(ee))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(se){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var I=A;A=me;try{return se()}finally{A=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var I=A;A=se;try{return me()}finally{A=I}},t.unstable_scheduleCallback=function(se,me,I){var j=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?j+I:j):I=j,se){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=I+x,se={id:m++,callback:me,priorityLevel:se,startTime:I,expirationTime:x,sortIndex:-1},I>j?(se.sortIndex=I,e(p,se),r(f)===null&&se===r(p)&&(S?(_(te),te=-1):S=!0,xe(z,I-j))):(se.sortIndex=x,e(f,se),D||y||(D=!0,ye(ee))),se},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(se){var me=A;return function(){var I=A;A=me;try{return se.apply(this,arguments)}finally{A=I}}}})(Yg)),Yg}var q2;function K3(){return q2||(q2=1,Zg.exports=G3()),Zg.exports}var U2;function Q3(){if(U2)return Ia;U2=1;var t=Tm(),e=K3();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(s,l){u(s,l),u(s+"Capture",l)}function u(s,l){for(a[s]=l,s=0;s<l.length;s++)n.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},w={};function A(s){return f.call(w,s)?!0:f.call(m,s)?!1:p.test(s)?w[s]=!0:(m[s]=!0,!1)}function y(s,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,l,d,g){if(l===null||typeof l>"u"||y(s,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(s,l,d,g,N,k,G){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=N,this.mustUseProperty=d,this.propertyName=s,this.type=l,this.sanitizeURL=k,this.removeEmptyString=G}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];E[l]=new S(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(_,O);E[l]=new S(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(_,O);E[l]=new S(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(_,O);E[l]=new S(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,l,d,g){var N=E.hasOwnProperty(l)?E[l]:null;(N!==null?N.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(D(l,d,N,g)&&(d=null),g||N===null?A(l)&&(d===null?s.removeAttribute(l):s.setAttribute(l,""+d)):N.mustUseProperty?s[N.propertyName]=d===null?N.type===3?!1:"":d:(l=N.attributeName,g=N.attributeNamespace,d===null?s.removeAttribute(l):(N=N.type,d=N===3||N===4&&d===!0?"":""+d,g?s.setAttributeNS(g,l,d):s.setAttribute(l,d))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ae=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),se=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var I=Object.assign,j;function x(s){if(j===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);j=l&&l[1]||""}return`
`+j+s}var C=!1;function M(s,l){if(!s||C)return"";C=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(We){var g=We}Reflect.construct(s,[],l)}else{try{l.call()}catch(We){g=We}s.call(l.prototype)}else{try{throw Error()}catch(We){g=We}s()}}catch(We){if(We&&g&&typeof We.stack=="string"){for(var N=We.stack.split(`
`),k=g.stack.split(`
`),G=N.length-1,ge=k.length-1;1<=G&&0<=ge&&N[G]!==k[ge];)ge--;for(;1<=G&&0<=ge;G--,ge--)if(N[G]!==k[ge]){if(G!==1||ge!==1)do if(G--,ge--,0>ge||N[G]!==k[ge]){var _e=`
`+N[G].replace(" at new "," at ");return s.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",s.displayName)),_e}while(1<=G&&0<=ge);break}}}finally{C=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?x(s):""}function H(s){switch(s.tag){case 5:return x(s.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 2:case 15:return s=M(s.type,!1),s;case 11:return s=M(s.type.render,!1),s;case 1:return s=M(s.type,!0),s;default:return""}}function ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case W:return"Fragment";case ae:return"Portal";case Q:return"Profiler";case te:return"StrictMode";case X:return"Suspense";case Y:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case fe:return(s._context.displayName||"Context")+".Provider";case F:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case we:return l=s.displayName||null,l!==null?l:ie(s.type)||"Memo";case ye:l=s._payload,s=s._init;try{return ie(s(l))}catch{}}return null}function le(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(l);case 8:return l===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Te(s){var l=je(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var N=d.get,k=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return N.call(this)},set:function(G){g=""+G,k.call(this,G)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(G){g=""+G},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ge(s){s._valueTracker||(s._valueTracker=Te(s))}function at(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return s&&(g=je(s)?s.checked?"true":"false":s.value),s=g,s!==d?(l.setValue(s),!0):!1}function nt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ht(s,l){var d=l.checked;return I({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function re(s,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=ve(l.value!=null?l.value:d),s._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ke(s,l){l=l.checked,l!=null&&T(s,"checked",l,!1)}function Ve(s,l){ke(s,l);var d=ve(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?tt(s,l.type,d):l.hasOwnProperty("defaultValue")&&tt(s,l.type,ve(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function He(s,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,d||l===s.value||(s.value=l),s.defaultValue=l}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function tt(s,l,d){(l!=="number"||nt(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var yt=Array.isArray;function _t(s,l,d,g){if(s=s.options,l){l={};for(var N=0;N<d.length;N++)l["$"+d[N]]=!0;for(d=0;d<s.length;d++)N=l.hasOwnProperty("$"+s[d].value),s[d].selected!==N&&(s[d].selected=N),N&&g&&(s[d].defaultSelected=!0)}else{for(d=""+ve(d),l=null,N=0;N<s.length;N++){if(s[N].value===d){s[N].selected=!0,g&&(s[N].defaultSelected=!0);return}l!==null||s[N].disabled||(l=s[N])}l!==null&&(l.selected=!0)}}function oe(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return I({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ne(s,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(yt(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}s._wrapperState={initialValue:ve(d)}}function Fe(s,l){var d=ve(l.value),g=ve(l.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),l.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),g!=null&&(s.defaultValue=""+g)}function Re(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function $e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?$e(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ct,pt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,N){MSApp.execUnsafeLocalFunction(function(){return s(l,d,g,N)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ct.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Tt(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yn=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(s){yn.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),St[l]=St[s]})});function Cr(s,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||St.hasOwnProperty(s)&&St[s]?(""+l).trim():l+"px"}function yr(s,l){s=s.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,N=Cr(d,l[d],g);d==="float"&&(d="cssFloat"),g?s.setProperty(d,N):s[d]=N}}var pr=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ir(s,l){if(l){if(pr[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Rt(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function sr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var mr=null,cn=null,fr=null;function Vt(s){if(s=Pc(s)){if(typeof mr!="function")throw Error(r(280));var l=s.stateNode;l&&(l=Su(l),mr(s.stateNode,s.type,l))}}function hr(s){cn?fr?fr.push(s):fr=[s]:cn=s}function Jn(){if(cn){var s=cn,l=fr;if(fr=cn=null,Vt(s),l)for(s=0;s<l.length;s++)Vt(l[s])}}function Rn(s,l){return s(l)}function ii(){}var us=!1;function Gt(s,l,d){if(us)return s(l,d);us=!0;try{return Rn(s,l,d)}finally{us=!1,(cn!==null||fr!==null)&&(ii(),Jn())}}function Tn(s,l){var d=s.stateNode;if(d===null)return null;var g=Su(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Bt=!1;if(c)try{var br={};Object.defineProperty(br,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Bt=!1}function ur(s,l,d,g,N,k,G,ge,_e){var We=Array.prototype.slice.call(arguments,3);try{l.apply(d,We)}catch(vt){this.onError(vt)}}var At=!1,vr=null,ut=!1,rt=null,ot={onError:function(s){At=!0,vr=s}};function Ye(s,l,d,g,N,k,G,ge,_e){At=!1,vr=null,ur.apply(ot,arguments)}function it(s,l,d,g,N,k,G,ge,_e){if(Ye.apply(this,arguments),At){if(At){var We=vr;At=!1,vr=null}else throw Error(r(198));ut||(ut=!0,rt=We)}}function xt(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function jt(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Pt(s){if(xt(s)!==s)throw Error(r(188))}function Et(s){var l=s.alternate;if(!l){if(l=xt(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,g=l;;){var N=d.return;if(N===null)break;var k=N.alternate;if(k===null){if(g=N.return,g!==null){d=g;continue}break}if(N.child===k.child){for(k=N.child;k;){if(k===d)return Pt(N),s;if(k===g)return Pt(N),l;k=k.sibling}throw Error(r(188))}if(d.return!==g.return)d=N,g=k;else{for(var G=!1,ge=N.child;ge;){if(ge===d){G=!0,d=N,g=k;break}if(ge===g){G=!0,g=N,d=k;break}ge=ge.sibling}if(!G){for(ge=k.child;ge;){if(ge===d){G=!0,d=k,g=N;break}if(ge===g){G=!0,g=k,d=N;break}ge=ge.sibling}if(!G)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function Lt(s){return s=Et(s),s!==null?$t(s):null}function $t(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=$t(s);if(l!==null)return l;s=s.sibling}return null}var Kt=e.unstable_scheduleCallback,Ht=e.unstable_cancelCallback,Yt=e.unstable_shouldYield,_r=e.unstable_requestPaint,Nr=e.unstable_now,Br=e.unstable_getCurrentPriorityLevel,qr=e.unstable_ImmediatePriority,er=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,Kr=e.unstable_LowPriority,Qt=e.unstable_IdlePriority,dr=null,Jr=null;function Ts(s){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(dr,s,void 0,(s.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Yr,ai=Math.log,Ei=Math.LN2;function Yr(s){return s>>>=0,s===0?32:31-(ai(s)/Ei|0)|0}var En=64,gn=4194304;function oi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ao(s,l){var d=s.pendingLanes;if(d===0)return 0;var g=0,N=s.suspendedLanes,k=s.pingedLanes,G=d&268435455;if(G!==0){var ge=G&~N;ge!==0?g=oi(ge):(k&=G,k!==0&&(g=oi(k)))}else G=d&~N,G!==0?g=oi(G):k!==0&&(g=oi(k));if(g===0)return 0;if(l!==0&&l!==g&&(l&N)===0&&(N=g&-g,k=l&-l,N>=k||N===16&&(k&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)d=31-bn(l),N=1<<d,g|=s[d],l&=~N;return g}function $i(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(s,l){for(var d=s.suspendedLanes,g=s.pingedLanes,N=s.expirationTimes,k=s.pendingLanes;0<k;){var G=31-bn(k),ge=1<<G,_e=N[G];_e===-1?((ge&d)===0||(ge&g)!==0)&&(N[G]=$i(ge,l)):_e<=l&&(s.expiredLanes|=ge),k&=~ge}}function oa(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ol(){var s=En;return En<<=1,(En&4194240)===0&&(En=64),s}function Ml(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function ws(s,l,d){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-bn(l),s[l]=d}function q(s,l){var d=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<d;){var N=31-bn(d),k=1<<N;l[N]=0,g[N]=-1,s[N]=-1,d&=~k}}function pe(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var g=31-bn(d),N=1<<g;N&l|s[g]&l&&(s[g]|=l),d&=~N}}var he=0;function De(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Se,cr,es,gr,Wn,li=!1,ds=[],ci=null,fs=null,ui=null,Ua=new Map,Qe=new Map,$r=[],Bl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nl(s,l){switch(s){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Ua.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qe.delete(l.pointerId)}}function di(s,l,d,g,N,k){return s===null||s.nativeEvent!==k?(s={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:k,targetContainers:[N]},l!==null&&(l=Pc(l),l!==null&&cr(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),s)}function la(s,l,d,g,N){switch(l){case"focusin":return ci=di(ci,s,l,d,g,N),!0;case"dragenter":return fs=di(fs,s,l,d,g,N),!0;case"mouseover":return ui=di(ui,s,l,d,g,N),!0;case"pointerover":var k=N.pointerId;return Ua.set(k,di(Ua.get(k)||null,s,l,d,g,N)),!0;case"gotpointercapture":return k=N.pointerId,Qe.set(k,di(Qe.get(k)||null,s,l,d,g,N)),!0}return!1}function za(s){var l=ml(s.target);if(l!==null){var d=xt(l);if(d!==null){if(l=d.tag,l===13){if(l=jt(d),l!==null){s.blockedOn=l,Wn(s.priority,function(){es(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dn(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=Zs(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);wr=g,d.target.dispatchEvent(g),wr=null}else return l=Pc(d),l!==null&&cr(l),s.blockedOn=d,!1;l.shift()}return!0}function as(s,l,d){Dn(s)&&d.delete(l)}function Li(){li=!1,ci!==null&&Dn(ci)&&(ci=null),fs!==null&&Dn(fs)&&(fs=null),ui!==null&&Dn(ui)&&(ui=null),Ua.forEach(as),Qe.forEach(as)}function Es(s,l){s.blockedOn===l&&(s.blockedOn=null,li||(li=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Li)))}function So(s){function l(N){return Es(N,s)}if(0<ds.length){Es(ds[0],s);for(var d=1;d<ds.length;d++){var g=ds[d];g.blockedOn===s&&(g.blockedOn=null)}}for(ci!==null&&Es(ci,s),fs!==null&&Es(fs,s),ui!==null&&Es(ui,s),Ua.forEach(l),Qe.forEach(l),d=0;d<$r.length;d++)g=$r[d],g.blockedOn===s&&(g.blockedOn=null);for(;0<$r.length&&(d=$r[0],d.blockedOn===null);)za(d),d.blockedOn===null&&$r.shift()}var yi=z.ReactCurrentBatchConfig,jo=!0;function ql(s,l,d,g){var N=he,k=yi.transition;yi.transition=null;try{he=1,oo(s,l,d,g)}finally{he=N,yi.transition=k}}function Ul(s,l,d,g){var N=he,k=yi.transition;yi.transition=null;try{he=4,oo(s,l,d,g)}finally{he=N,yi.transition=k}}function oo(s,l,d,g){if(jo){var N=Zs(s,l,d,g);if(N===null)wu(s,l,g,Ri,d),nl(s,g);else if(la(N,s,l,d,g))g.stopPropagation();else if(nl(s,g),l&4&&-1<Bl.indexOf(s)){for(;N!==null;){var k=Pc(N);if(k!==null&&Se(k),k=Zs(s,l,d,g),k===null&&wu(s,l,g,Ri,d),k===N)break;N=k}N!==null&&g.stopPropagation()}else wu(s,l,g,null,d)}}var Ri=null;function Zs(s,l,d,g){if(Ri=null,s=sr(g),s=ml(s),s!==null)if(l=xt(s),l===null)s=null;else if(d=l.tag,d===13){if(s=jt(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Ri=s,null}function Ys(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Br()){case qr:return 1;case er:return 4;case ir:case Kr:return 16;case Qt:return 536870912;default:return 16}default:return 16}}var Di=null,_a=null,Ls=null;function fi(){if(Ls)return Ls;var s,l=_a,d=l.length,g,N="value"in Di?Di.value:Di.textContent,k=N.length;for(s=0;s<d&&l[s]===N[s];s++);var G=d-s;for(g=1;g<=G&&l[d-g]===N[k-g];g++);return Ls=N.slice(s,1<g?1-g:void 0)}function Xs(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function wi(){return!0}function Aa(){return!1}function Js(s){function l(d,g,N,k,G){this._reactName=d,this._targetInst=N,this.type=g,this.nativeEvent=k,this.target=G,this.currentTarget=null;for(var ge in s)s.hasOwnProperty(ge)&&(d=s[ge],this[ge]=d?d(k):k[ge]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?wi:Aa,this.isPropagationStopped=Aa,this}return I(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),l}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sl=Js(Vi),b=I({},Vi,{view:0,detail:0}),$=Js(b),de,be,Ee,Le=I({},b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ee&&(Ee&&s.type==="mousemove"?(de=s.screenX-Ee.screenX,be=s.screenY-Ee.screenY):be=de=0,Ee=s),de)},movementY:function(s){return"movementY"in s?s.movementY:be}}),Ke=Js(Le),ft=I({},Le,{dataTransfer:0}),wt=Js(ft),Ft=I({},b,{relatedTarget:0}),tr=Js(Ft),Lr=I({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),un=Js(Lr),vn=I({},Vi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qr=Js(vn),An=I({},Vi,{data:0}),In=Js(An),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=qs[s])?!!l[s]:!1}function Co(){return Ii}var il=I({},b,{key:function(s){if(s.key){var l=Fn[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Xs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ot[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(s){return s.type==="keypress"?Xs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),al=Js(il),zl=I({},Le,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Js(zl),ll=I({},b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),hi=Js(ll),$l=I({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vl=Js($l),fu=I({},Le,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),hu=Js(fu),Fi=[9,13,27,32],$a=c&&"CompositionEvent"in window,lo=null;c&&"documentMode"in document&&(lo=document.documentMode);var Ju=c&&"TextEvent"in window&&!lo,ca=c&&(!$a||lo&&8<lo&&11>=lo),cl=" ",xc=!1;function yc(s,l){switch(s){case"keyup":return Fi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pa=!1;function ua(s,l){switch(s){case"compositionend":return _o(l);case"keypress":return l.which!==32?null:(xc=!0,cl);case"textInput":return s=l.data,s===cl&&xc?null:s;default:return null}}function da(s,l){if(Pa)return s==="compositionend"||!$a&&yc(s,l)?(s=fi(),Ls=_a=Di=null,Pa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ca&&l.locale!=="ko"?null:l.data;default:return null}}var ul={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function co(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!ul[s.type]:l==="textarea"}function Ao(s,l,d,g){hr(g),l=sd(l,"onChange"),0<l.length&&(d=new sl("onChange","change",null,d,g),s.push({event:d,listeners:l}))}var Po=null,uo=null;function bs(s){xu(s,0)}function Hl(s){var l=tc(s);if(at(l))return s}function fo(s,l){if(s==="change")return l}var Va=!1;if(c){var Wl;if(c){var Gl="oninput"in document;if(!Gl){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),Gl=typeof wc.oninput=="function"}Wl=Gl}else Wl=!1;Va=Wl&&(!document.documentMode||9<document.documentMode)}function bc(){Po&&(Po.detachEvent("onpropertychange",ko),uo=Po=null)}function ko(s){if(s.propertyName==="value"&&Hl(uo)){var l=[];Ao(l,uo,s,sr(s)),Gt(bs,l)}}function dl(s,l,d){s==="focusin"?(bc(),Po=l,uo=d,Po.attachEvent("onpropertychange",ko)):s==="focusout"&&bc()}function fl(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hl(uo)}function Kl(s,l){if(s==="click")return Hl(l)}function hl(s,l){if(s==="input"||s==="change")return Hl(l)}function Ql(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var hs=typeof Object.is=="function"?Object.is:Ql;function Hi(s,l){if(hs(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var N=d[g];if(!f.call(l,N)||!hs(s[N],l[N]))return!1}return!0}function Nn(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function On(s,l){var d=Nn(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=l&&g>=l)return{node:d,offset:l-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Nn(d)}}function ps(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?ps(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Rs(){for(var s=window,l=nt();l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=nt(s.document)}return l}function Ha(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function pu(s){var l=Rs(),d=s.focusedElem,g=s.selectionRange;if(l!==d&&d&&d.ownerDocument&&ps(d.ownerDocument.documentElement,d)){if(g!==null&&Ha(d)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(s,d.value.length);else if(s=(l=d.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var N=d.textContent.length,k=Math.min(g.start,N);g=g.end===void 0?k:Math.min(g.end,N),!s.extend&&k>g&&(N=g,g=k,k=N),N=On(d,k);var G=On(d,g);N&&G&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==G.node||s.focusOffset!==G.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),s.removeAllRanges(),k>g?(s.addRange(l),s.extend(G.node,G.offset)):(l.setEnd(G.node,G.offset),s.addRange(l)))}}for(l=[],s=d;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)s=l[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Nc=c&&"documentMode"in document&&11>=document.documentMode,To=null,ed=null,Sc=null,td=!1;function gf(s,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;td||To==null||To!==nt(g)||(g=To,"selectionStart"in g&&Ha(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sc&&Hi(Sc,g)||(Sc=g,g=sd(ed,"onSelect"),0<g.length&&(l=new sl("onSelect","select",null,l,d),s.push({event:l,listeners:g}),l.target=To)))}function mu(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Zl={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Yl={},vf={};c&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function gu(s){if(Yl[s])return Yl[s];if(!Zl[s])return s;var l=Zl[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in vf)return Yl[s]=l[d];return s}var xf=gu("animationend"),yf=gu("animationiteration"),wf=gu("animationstart"),bf=gu("transitionend"),Nf=new Map,Sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(s,l){Nf.set(s,l),o(l,[s])}for(var jc=0;jc<Sf.length;jc++){var Oi=Sf[jc],ka=Oi.toLowerCase(),rd=Oi[0].toUpperCase()+Oi.slice(1);ho(ka,"on"+rd)}ho(xf,"onAnimationEnd"),ho(yf,"onAnimationIteration"),ho(wf,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(bf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bh=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function vu(s,l,d){var g=s.type||"unknown-event";s.currentTarget=d,it(g,l,void 0,s),s.currentTarget=null}function xu(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],N=g.event;g=g.listeners;e:{var k=void 0;if(l)for(var G=g.length-1;0<=G;G--){var ge=g[G],_e=ge.instance,We=ge.currentTarget;if(ge=ge.listener,_e!==k&&N.isPropagationStopped())break e;vu(N,ge,We),k=_e}else for(G=0;G<g.length;G++){if(ge=g[G],_e=ge.instance,We=ge.currentTarget,ge=ge.listener,_e!==k&&N.isPropagationStopped())break e;vu(N,ge,We),k=_e}}}if(ut)throw s=rt,ut=!1,rt=null,s}function Un(s,l){var d=l[Gi];d===void 0&&(d=l[Gi]=new Set);var g=s+"__bubble";d.has(g)||(yu(l,s,2,!1),d.add(g))}function nd(s,l,d){var g=0;l&&(g|=4),yu(d,s,g,l)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Xl(s){if(!s[Cc]){s[Cc]=!0,n.forEach(function(d){d!=="selectionchange"&&(Bh.has(d)||nd(d,!1,s),nd(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Cc]||(l[Cc]=!0,nd("selectionchange",!1,l))}}function yu(s,l,d,g){switch(Ys(l)){case 1:var N=ql;break;case 4:N=Ul;break;default:N=oo}d=N.bind(null,l,d,s),N=void 0,!Bt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),g?N!==void 0?s.addEventListener(l,d,{capture:!0,passive:N}):s.addEventListener(l,d,!0):N!==void 0?s.addEventListener(l,d,{passive:N}):s.addEventListener(l,d,!1)}function wu(s,l,d,g,N){var k=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var G=g.tag;if(G===3||G===4){var ge=g.stateNode.containerInfo;if(ge===N||ge.nodeType===8&&ge.parentNode===N)break;if(G===4)for(G=g.return;G!==null;){var _e=G.tag;if((_e===3||_e===4)&&(_e=G.stateNode.containerInfo,_e===N||_e.nodeType===8&&_e.parentNode===N))return;G=G.return}for(;ge!==null;){if(G=ml(ge),G===null)return;if(_e=G.tag,_e===5||_e===6){g=k=G;continue e}ge=ge.parentNode}}g=g.return}Gt(function(){var We=k,vt=sr(d),bt=[];e:{var mt=Nf.get(s);if(mt!==void 0){var Mt=sl,Xt=s;switch(s){case"keypress":if(Xs(d)===0)break e;case"keydown":case"keyup":Mt=al;break;case"focusin":Xt="focus",Mt=tr;break;case"focusout":Xt="blur",Mt=tr;break;case"beforeblur":case"afterblur":Mt=tr;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Ke;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=wt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=hi;break;case xf:case yf:case wf:Mt=un;break;case bf:Mt=Vl;break;case"scroll":Mt=$;break;case"wheel":Mt=hu;break;case"copy":case"cut":case"paste":Mt=Qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=ol}var rr=(l&4)!==0,$s=!rr&&s==="scroll",Me=rr?mt!==null?mt+"Capture":null:mt;rr=[];for(var Pe=We,Ue;Pe!==null;){Ue=Pe;var Ct=Ue.stateNode;if(Ue.tag===5&&Ct!==null&&(Ue=Ct,Me!==null&&(Ct=Tn(Pe,Me),Ct!=null&&rr.push(bu(Pe,Ct,Ue)))),$s)break;Pe=Pe.return}0<rr.length&&(mt=new Mt(mt,Xt,null,d,vt),bt.push({event:mt,listeners:rr}))}}if((l&7)===0){e:{if(mt=s==="mouseover"||s==="pointerover",Mt=s==="mouseout"||s==="pointerout",mt&&d!==wr&&(Xt=d.relatedTarget||d.fromElement)&&(ml(Xt)||Xt[bi]))break e;if((Mt||mt)&&(mt=vt.window===vt?vt:(mt=vt.ownerDocument)?mt.defaultView||mt.parentWindow:window,Mt?(Xt=d.relatedTarget||d.toElement,Mt=We,Xt=Xt?ml(Xt):null,Xt!==null&&($s=xt(Xt),Xt!==$s||Xt.tag!==5&&Xt.tag!==6)&&(Xt=null)):(Mt=null,Xt=We),Mt!==Xt)){if(rr=Ke,Ct="onMouseLeave",Me="onMouseEnter",Pe="mouse",(s==="pointerout"||s==="pointerover")&&(rr=ol,Ct="onPointerLeave",Me="onPointerEnter",Pe="pointer"),$s=Mt==null?mt:tc(Mt),Ue=Xt==null?mt:tc(Xt),mt=new rr(Ct,Pe+"leave",Mt,d,vt),mt.target=$s,mt.relatedTarget=Ue,Ct=null,ml(vt)===We&&(rr=new rr(Me,Pe+"enter",Xt,d,vt),rr.target=Ue,rr.relatedTarget=$s,Ct=rr),$s=Ct,Mt&&Xt)t:{for(rr=Mt,Me=Xt,Pe=0,Ue=rr;Ue;Ue=Jl(Ue))Pe++;for(Ue=0,Ct=Me;Ct;Ct=Jl(Ct))Ue++;for(;0<Pe-Ue;)rr=Jl(rr),Pe--;for(;0<Ue-Pe;)Me=Jl(Me),Ue--;for(;Pe--;){if(rr===Me||Me!==null&&rr===Me.alternate)break t;rr=Jl(rr),Me=Jl(Me)}rr=null}else rr=null;Mt!==null&&qh(bt,mt,Mt,rr,!1),Xt!==null&&$s!==null&&qh(bt,$s,Xt,rr,!0)}}e:{if(mt=We?tc(We):window,Mt=mt.nodeName&&mt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&mt.type==="file")var or=fo;else if(co(mt))if(Va)or=hl;else{or=fl;var Sr=dl}else(Mt=mt.nodeName)&&Mt.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(or=Kl);if(or&&(or=or(s,We))){Ao(bt,or,d,vt);break e}Sr&&Sr(s,mt,We),s==="focusout"&&(Sr=mt._wrapperState)&&Sr.controlled&&mt.type==="number"&&tt(mt,"number",mt.value)}switch(Sr=We?tc(We):window,s){case"focusin":(co(Sr)||Sr.contentEditable==="true")&&(To=Sr,ed=We,Sc=null);break;case"focusout":Sc=ed=To=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,gf(bt,d,vt);break;case"selectionchange":if(Nc)break;case"keydown":case"keyup":gf(bt,d,vt)}var jr;if($a)e:{switch(s){case"compositionstart":var Fr="onCompositionStart";break e;case"compositionend":Fr="onCompositionEnd";break e;case"compositionupdate":Fr="onCompositionUpdate";break e}Fr=void 0}else Pa?yc(s,d)&&(Fr="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Fr="onCompositionStart");Fr&&(ca&&d.locale!=="ko"&&(Pa||Fr!=="onCompositionStart"?Fr==="onCompositionEnd"&&Pa&&(jr=fi()):(Di=vt,_a="value"in Di?Di.value:Di.textContent,Pa=!0)),Sr=sd(We,Fr),0<Sr.length&&(Fr=new In(Fr,s,null,d,vt),bt.push({event:Fr,listeners:Sr}),jr?Fr.data=jr:(jr=_o(d),jr!==null&&(Fr.data=jr)))),(jr=Ju?ua(s,d):da(s,d))&&(We=sd(We,"onBeforeInput"),0<We.length&&(vt=new In("onBeforeInput","beforeinput",null,d,vt),bt.push({event:vt,listeners:We}),vt.data=jr))}xu(bt,l)})}function bu(s,l,d){return{instance:s,listener:l,currentTarget:d}}function sd(s,l){for(var d=l+"Capture",g=[];s!==null;){var N=s,k=N.stateNode;N.tag===5&&k!==null&&(N=k,k=Tn(s,d),k!=null&&g.unshift(bu(s,k,N)),k=Tn(s,l),k!=null&&g.push(bu(s,k,N))),s=s.return}return g}function Jl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function qh(s,l,d,g,N){for(var k=l._reactName,G=[];d!==null&&d!==g;){var ge=d,_e=ge.alternate,We=ge.stateNode;if(_e!==null&&_e===g)break;ge.tag===5&&We!==null&&(ge=We,N?(_e=Tn(d,k),_e!=null&&G.unshift(bu(d,_e,ge))):N||(_e=Tn(d,k),_e!=null&&G.push(bu(d,_e,ge)))),d=d.return}G.length!==0&&s.push({event:l,listeners:G})}var og=/\r\n?/g,lg=/\u0000|\uFFFD/g;function Uh(s){return(typeof s=="string"?s:""+s).replace(og,`
`).replace(lg,"")}function id(s,l,d){if(l=Uh(l),Uh(s)!==l&&d)throw Error(r(425))}function _c(){}var Nu=null,ec=null;function jf(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Cf=typeof setTimeout=="function"?setTimeout:void 0,zh=typeof clearTimeout=="function"?clearTimeout:void 0,$h=typeof Promise=="function"?Promise:void 0,cg=typeof queueMicrotask=="function"?queueMicrotask:typeof $h<"u"?function(s){return $h.resolve(null).then(s).catch(ug)}:Cf;function ug(s){setTimeout(function(){throw s})}function _f(s,l){var d=l,g=0;do{var N=d.nextSibling;if(s.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"){if(g===0){s.removeChild(N),So(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=N}while(d);So(l)}function Mi(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Ta(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),po="__reactFiber$"+Wi,Ac="__reactProps$"+Wi,bi="__reactContainer$"+Wi,Gi="__reactEvents$"+Wi,dg="__reactListeners$"+Wi,fg="__reactHandles$"+Wi;function ml(s){var l=s[po];if(l)return l;for(var d=s.parentNode;d;){if(l=d[bi]||d[po]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=Ta(s);s!==null;){if(d=s[po])return d;s=Ta(s)}return l}s=d,d=s.parentNode}return null}function Pc(s){return s=s[po]||s[bi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function tc(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Su(s){return s[Ac]||null}var Af=[],Eo=-1;function Wa(s){return{current:s}}function Ln(s){0>Eo||(s.current=Af[Eo],Af[Eo]=null,Eo--)}function Mn(s,l){Eo++,Af[Eo]=s.current,s.current=l}var gl={},pi=Wa(gl),Ki=Wa(!1),rc=gl;function kc(s,l){var d=s.type.contextTypes;if(!d)return gl;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var N={},k;for(k in d)N[k]=l[k];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=N),N}function Qi(s){return s=s.childContextTypes,s!=null}function ad(){Ln(Ki),Ln(pi)}function Vh(s,l,d){if(pi.current!==gl)throw Error(r(168));Mn(pi,l),Mn(Ki,d)}function Pf(s,l,d){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var N in g)if(!(N in l))throw Error(r(108,le(s)||"Unknown",N));return I({},d,g)}function nc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||gl,rc=pi.current,Mn(pi,s),Mn(Ki,Ki.current),!0}function Hh(s,l,d){var g=s.stateNode;if(!g)throw Error(r(169));d?(s=Pf(s,l,rc),g.__reactInternalMemoizedMergedChildContext=s,Ln(Ki),Ln(pi),Mn(pi,s)):Ln(Ki),Mn(Ki,d)}var Lo=null,ju=!1,h=!1;function v(s){Lo===null?Lo=[s]:Lo.push(s)}function P(s){ju=!0,v(s)}function R(){if(!h&&Lo!==null){h=!0;var s=0,l=he;try{var d=Lo;for(he=1;s<d.length;s++){var g=d[s];do g=g(!0);while(g!==null)}Lo=null,ju=!1}catch(N){throw Lo!==null&&(Lo=Lo.slice(s+1)),Kt(qr,R),N}finally{he=l,h=!1}}return null}var V=[],K=0,Z=null,J=0,ne=[],ce=0,Ce=null,Oe=1,ue="";function Ae(s,l){V[K++]=J,V[K++]=Z,Z=s,J=l}function Ie(s,l,d){ne[ce++]=Oe,ne[ce++]=ue,ne[ce++]=Ce,Ce=s;var g=Oe;s=ue;var N=32-bn(g)-1;g&=~(1<<N),d+=1;var k=32-bn(l)+N;if(30<k){var G=N-N%5;k=(g&(1<<G)-1).toString(32),g>>=G,N-=G,Oe=1<<32-bn(l)+N|d<<N|g,ue=k+s}else Oe=1<<k|d<<N|g,ue=s}function Je(s){s.return!==null&&(Ae(s,1),Ie(s,1,0))}function qe(s){for(;s===Z;)Z=V[--K],V[K]=null,J=V[--K],V[K]=null;for(;s===Ce;)Ce=ne[--ce],ne[ce]=null,ue=ne[--ce],ne[ce]=null,Oe=ne[--ce],ne[ce]=null}var Ze=null,Xe=null,st=!1,lt=null;function ar(s,l){var d=yo(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=s,l=s.deletions,l===null?(s.deletions=[d],s.flags|=16):l.push(d)}function Ut(s,l){switch(s.tag){case 5:var d=s.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Ze=s,Xe=Mi(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Ze=s,Xe=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ce!==null?{id:Oe,overflow:ue}:null,s.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=yo(18,null,null,0),d.stateNode=l,d.return=s,s.child=d,Ze=s,Xe=null,!0):!1;default:return!1}}function Vr(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zt(s){if(st){var l=Xe;if(l){var d=l;if(!Ut(s,l)){if(Vr(s))throw Error(r(418));l=Mi(d.nextSibling);var g=Ze;l&&Ut(s,l)?ar(g,d):(s.flags=s.flags&-4097|2,st=!1,Ze=s)}}else{if(Vr(s))throw Error(r(418));s.flags=s.flags&-4097|2,st=!1,Ze=s}}}function fn(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ze=s}function ms(s){if(s!==Ze)return!1;if(!st)return fn(s),st=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!jf(s.type,s.memoizedProps)),l&&(l=Xe)){if(Vr(s))throw Wr(),Error(r(418));for(;l;)ar(s,l),l=Mi(l.nextSibling)}if(fn(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(l===0){Xe=Mi(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}s=s.nextSibling}Xe=null}}else Xe=Ze?Mi(s.stateNode.nextSibling):null;return!0}function Wr(){for(var s=Xe;s;)s=Mi(s.nextSibling)}function zt(){Xe=Ze=null,st=!1}function kt(s){lt===null?lt=[s]:lt.push(s)}var Ns=z.ReactCurrentBatchConfig;function Tr(s,l,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,s));var N=g,k=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(G){var ge=N.refs;G===null?delete ge[k]:ge[k]=G},l._stringRef=k,l)}if(typeof s!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,s))}return s}function dn(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Gn(s){var l=s._init;return l(s._payload)}function ei(s){function l(Me,Pe){if(s){var Ue=Me.deletions;Ue===null?(Me.deletions=[Pe],Me.flags|=16):Ue.push(Pe)}}function d(Me,Pe){if(!s)return null;for(;Pe!==null;)l(Me,Pe),Pe=Pe.sibling;return null}function g(Me,Pe){for(Me=new Map;Pe!==null;)Pe.key!==null?Me.set(Pe.key,Pe):Me.set(Pe.index,Pe),Pe=Pe.sibling;return Me}function N(Me,Pe){return Me=Bc(Me,Pe),Me.index=0,Me.sibling=null,Me}function k(Me,Pe,Ue){return Me.index=Ue,s?(Ue=Me.alternate,Ue!==null?(Ue=Ue.index,Ue<Pe?(Me.flags|=2,Pe):Ue):(Me.flags|=2,Pe)):(Me.flags|=1048576,Pe)}function G(Me){return s&&Me.alternate===null&&(Me.flags|=2),Me}function ge(Me,Pe,Ue,Ct){return Pe===null||Pe.tag!==6?(Pe=Ug(Ue,Me.mode,Ct),Pe.return=Me,Pe):(Pe=N(Pe,Ue),Pe.return=Me,Pe)}function _e(Me,Pe,Ue,Ct){var or=Ue.type;return or===W?vt(Me,Pe,Ue.props.children,Ct,Ue.key):Pe!==null&&(Pe.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===ye&&Gn(or)===Pe.type)?(Ct=N(Pe,Ue.props),Ct.ref=Tr(Me,Pe,Ue),Ct.return=Me,Ct):(Ct=dp(Ue.type,Ue.key,Ue.props,null,Me.mode,Ct),Ct.ref=Tr(Me,Pe,Ue),Ct.return=Me,Ct)}function We(Me,Pe,Ue,Ct){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Ue.containerInfo||Pe.stateNode.implementation!==Ue.implementation?(Pe=zg(Ue,Me.mode,Ct),Pe.return=Me,Pe):(Pe=N(Pe,Ue.children||[]),Pe.return=Me,Pe)}function vt(Me,Pe,Ue,Ct,or){return Pe===null||Pe.tag!==7?(Pe=Lu(Ue,Me.mode,Ct,or),Pe.return=Me,Pe):(Pe=N(Pe,Ue),Pe.return=Me,Pe)}function bt(Me,Pe,Ue){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=Ug(""+Pe,Me.mode,Ue),Pe.return=Me,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case ee:return Ue=dp(Pe.type,Pe.key,Pe.props,null,Me.mode,Ue),Ue.ref=Tr(Me,null,Pe),Ue.return=Me,Ue;case ae:return Pe=zg(Pe,Me.mode,Ue),Pe.return=Me,Pe;case ye:var Ct=Pe._init;return bt(Me,Ct(Pe._payload),Ue)}if(yt(Pe)||me(Pe))return Pe=Lu(Pe,Me.mode,Ue,null),Pe.return=Me,Pe;dn(Me,Pe)}return null}function mt(Me,Pe,Ue,Ct){var or=Pe!==null?Pe.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return or!==null?null:ge(Me,Pe,""+Ue,Ct);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case ee:return Ue.key===or?_e(Me,Pe,Ue,Ct):null;case ae:return Ue.key===or?We(Me,Pe,Ue,Ct):null;case ye:return or=Ue._init,mt(Me,Pe,or(Ue._payload),Ct)}if(yt(Ue)||me(Ue))return or!==null?null:vt(Me,Pe,Ue,Ct,null);dn(Me,Ue)}return null}function Mt(Me,Pe,Ue,Ct,or){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return Me=Me.get(Ue)||null,ge(Pe,Me,""+Ct,or);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case ee:return Me=Me.get(Ct.key===null?Ue:Ct.key)||null,_e(Pe,Me,Ct,or);case ae:return Me=Me.get(Ct.key===null?Ue:Ct.key)||null,We(Pe,Me,Ct,or);case ye:var Sr=Ct._init;return Mt(Me,Pe,Ue,Sr(Ct._payload),or)}if(yt(Ct)||me(Ct))return Me=Me.get(Ue)||null,vt(Pe,Me,Ct,or,null);dn(Pe,Ct)}return null}function Xt(Me,Pe,Ue,Ct){for(var or=null,Sr=null,jr=Pe,Fr=Pe=0,_i=null;jr!==null&&Fr<Ue.length;Fr++){jr.index>Fr?(_i=jr,jr=null):_i=jr.sibling;var Pn=mt(Me,jr,Ue[Fr],Ct);if(Pn===null){jr===null&&(jr=_i);break}s&&jr&&Pn.alternate===null&&l(Me,jr),Pe=k(Pn,Pe,Fr),Sr===null?or=Pn:Sr.sibling=Pn,Sr=Pn,jr=_i}if(Fr===Ue.length)return d(Me,jr),st&&Ae(Me,Fr),or;if(jr===null){for(;Fr<Ue.length;Fr++)jr=bt(Me,Ue[Fr],Ct),jr!==null&&(Pe=k(jr,Pe,Fr),Sr===null?or=jr:Sr.sibling=jr,Sr=jr);return st&&Ae(Me,Fr),or}for(jr=g(Me,jr);Fr<Ue.length;Fr++)_i=Mt(jr,Me,Fr,Ue[Fr],Ct),_i!==null&&(s&&_i.alternate!==null&&jr.delete(_i.key===null?Fr:_i.key),Pe=k(_i,Pe,Fr),Sr===null?or=_i:Sr.sibling=_i,Sr=_i);return s&&jr.forEach(function(qc){return l(Me,qc)}),st&&Ae(Me,Fr),or}function rr(Me,Pe,Ue,Ct){var or=me(Ue);if(typeof or!="function")throw Error(r(150));if(Ue=or.call(Ue),Ue==null)throw Error(r(151));for(var Sr=or=null,jr=Pe,Fr=Pe=0,_i=null,Pn=Ue.next();jr!==null&&!Pn.done;Fr++,Pn=Ue.next()){jr.index>Fr?(_i=jr,jr=null):_i=jr.sibling;var qc=mt(Me,jr,Pn.value,Ct);if(qc===null){jr===null&&(jr=_i);break}s&&jr&&qc.alternate===null&&l(Me,jr),Pe=k(qc,Pe,Fr),Sr===null?or=qc:Sr.sibling=qc,Sr=qc,jr=_i}if(Pn.done)return d(Me,jr),st&&Ae(Me,Fr),or;if(jr===null){for(;!Pn.done;Fr++,Pn=Ue.next())Pn=bt(Me,Pn.value,Ct),Pn!==null&&(Pe=k(Pn,Pe,Fr),Sr===null?or=Pn:Sr.sibling=Pn,Sr=Pn);return st&&Ae(Me,Fr),or}for(jr=g(Me,jr);!Pn.done;Fr++,Pn=Ue.next())Pn=Mt(jr,Me,Fr,Pn.value,Ct),Pn!==null&&(s&&Pn.alternate!==null&&jr.delete(Pn.key===null?Fr:Pn.key),Pe=k(Pn,Pe,Fr),Sr===null?or=Pn:Sr.sibling=Pn,Sr=Pn);return s&&jr.forEach(function(z3){return l(Me,z3)}),st&&Ae(Me,Fr),or}function $s(Me,Pe,Ue,Ct){if(typeof Ue=="object"&&Ue!==null&&Ue.type===W&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case ee:e:{for(var or=Ue.key,Sr=Pe;Sr!==null;){if(Sr.key===or){if(or=Ue.type,or===W){if(Sr.tag===7){d(Me,Sr.sibling),Pe=N(Sr,Ue.props.children),Pe.return=Me,Me=Pe;break e}}else if(Sr.elementType===or||typeof or=="object"&&or!==null&&or.$$typeof===ye&&Gn(or)===Sr.type){d(Me,Sr.sibling),Pe=N(Sr,Ue.props),Pe.ref=Tr(Me,Sr,Ue),Pe.return=Me,Me=Pe;break e}d(Me,Sr);break}else l(Me,Sr);Sr=Sr.sibling}Ue.type===W?(Pe=Lu(Ue.props.children,Me.mode,Ct,Ue.key),Pe.return=Me,Me=Pe):(Ct=dp(Ue.type,Ue.key,Ue.props,null,Me.mode,Ct),Ct.ref=Tr(Me,Pe,Ue),Ct.return=Me,Me=Ct)}return G(Me);case ae:e:{for(Sr=Ue.key;Pe!==null;){if(Pe.key===Sr)if(Pe.tag===4&&Pe.stateNode.containerInfo===Ue.containerInfo&&Pe.stateNode.implementation===Ue.implementation){d(Me,Pe.sibling),Pe=N(Pe,Ue.children||[]),Pe.return=Me,Me=Pe;break e}else{d(Me,Pe);break}else l(Me,Pe);Pe=Pe.sibling}Pe=zg(Ue,Me.mode,Ct),Pe.return=Me,Me=Pe}return G(Me);case ye:return Sr=Ue._init,$s(Me,Pe,Sr(Ue._payload),Ct)}if(yt(Ue))return Xt(Me,Pe,Ue,Ct);if(me(Ue))return rr(Me,Pe,Ue,Ct);dn(Me,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"?(Ue=""+Ue,Pe!==null&&Pe.tag===6?(d(Me,Pe.sibling),Pe=N(Pe,Ue),Pe.return=Me,Me=Pe):(d(Me,Pe),Pe=Ug(Ue,Me.mode,Ct),Pe.return=Me,Me=Pe),G(Me)):d(Me,Pe)}return $s}var Ds=ei(!0),os=ei(!1),Us=Wa(null),ti=null,ts=null,pn=null;function Sn(){pn=ts=ti=null}function rs(s){var l=Us.current;Ln(Us),s._currentValue=l}function jn(s,l,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===d)break;s=s.return}}function gs(s,l){ti=s,pn=ts=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(La=!0),s.firstContext=null)}function vs(s){var l=s._currentValue;if(pn!==s)if(s={context:s,memoizedValue:l,next:null},ts===null){if(ti===null)throw Error(r(308));ts=s,ti.dependencies={lanes:0,firstContext:s}}else ts=ts.next=s;return l}var zn=null;function Ni(s){zn===null?zn=[s]:zn.push(s)}function Bn(s,l,d,g){var N=l.interleaved;return N===null?(d.next=d,Ni(l)):(d.next=N.next,N.next=d),l.interleaved=d,$n(s,g)}function $n(s,l){s.lanes|=l;var d=s.alternate;for(d!==null&&(d.lanes|=l),d=s,s=s.return;s!==null;)s.childLanes|=l,d=s.alternate,d!==null&&(d.childLanes|=l),d=s,s=s.return;return d.tag===3?d.stateNode:null}var Is=!1;function mi(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zi(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ss(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function js(s,l,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Cn&2)!==0){var N=g.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),g.pending=l,$n(s,d)}return N=g.interleaved,N===null?(l.next=l,Ni(g)):(l.next=N.next,N.next=l),g.interleaved=l,$n(s,d)}function Si(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,pe(s,d)}}function Vn(s,l){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var N=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var G={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};k===null?N=k=G:k=k.next=G,d=d.next}while(d!==null);k===null?N=k=l:k=k.next=l}else N=k=l;d={baseState:g.baseState,firstBaseUpdate:N,lastBaseUpdate:k,shared:g.shared,effects:g.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}function ji(s,l,d,g){var N=s.updateQueue;Is=!1;var k=N.firstBaseUpdate,G=N.lastBaseUpdate,ge=N.shared.pending;if(ge!==null){N.shared.pending=null;var _e=ge,We=_e.next;_e.next=null,G===null?k=We:G.next=We,G=_e;var vt=s.alternate;vt!==null&&(vt=vt.updateQueue,ge=vt.lastBaseUpdate,ge!==G&&(ge===null?vt.firstBaseUpdate=We:ge.next=We,vt.lastBaseUpdate=_e))}if(k!==null){var bt=N.baseState;G=0,vt=We=_e=null,ge=k;do{var mt=ge.lane,Mt=ge.eventTime;if((g&mt)===mt){vt!==null&&(vt=vt.next={eventTime:Mt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Xt=s,rr=ge;switch(mt=l,Mt=d,rr.tag){case 1:if(Xt=rr.payload,typeof Xt=="function"){bt=Xt.call(Mt,bt,mt);break e}bt=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=rr.payload,mt=typeof Xt=="function"?Xt.call(Mt,bt,mt):Xt,mt==null)break e;bt=I({},bt,mt);break e;case 2:Is=!0}}ge.callback!==null&&ge.lane!==0&&(s.flags|=64,mt=N.effects,mt===null?N.effects=[ge]:mt.push(ge))}else Mt={eventTime:Mt,lane:mt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},vt===null?(We=vt=Mt,_e=bt):vt=vt.next=Mt,G|=mt;if(ge=ge.next,ge===null){if(ge=N.shared.pending,ge===null)break;mt=ge,ge=mt.next,mt.next=null,N.lastBaseUpdate=mt,N.shared.pending=null}}while(!0);if(vt===null&&(_e=bt),N.baseState=_e,N.firstBaseUpdate=We,N.lastBaseUpdate=vt,l=N.shared.interleaved,l!==null){N=l;do G|=N.lane,N=N.next;while(N!==l)}else k===null&&(N.shared.lanes=0);Pu|=G,s.lanes=G,s.memoizedState=bt}}function Ea(s,l,d){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],N=g.callback;if(N!==null){if(g.callback=null,g=d,typeof N!="function")throw Error(r(191,N));N.call(g)}}}var Ga={},ri=Wa(Ga),Cs=Wa(Ga),vl=Wa(Ga);function Ro(s){if(s===Ga)throw Error(r(174));return s}function Tc(s,l){switch(Mn(vl,l),Mn(Cs,s),Mn(ri,Ga),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ze(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=ze(l,s)}Ln(ri),Mn(ri,l)}function mo(){Ln(ri),Ln(Cs),Ln(vl)}function Wh(s){Ro(vl.current);var l=Ro(ri.current),d=ze(l,s.type);l!==d&&(Mn(Cs,s),Mn(ri,d))}function kf(s){Cs.current===s&&(Ln(ri),Ln(Cs))}var Qn=Wa(0);function Ka(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Tf=[];function Ef(){for(var s=0;s<Tf.length;s++)Tf[s]._workInProgressVersionPrimary=null;Tf.length=0}var od=z.ReactCurrentDispatcher,ld=z.ReactCurrentBatchConfig,go=0,ns=null,Fs=null,_s=null,Ec=!1,Do=!1,Lc=0,hg=0;function zs(){throw Error(r(321))}function cd(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!hs(s[d],l[d]))return!1;return!0}function Cu(s,l,d,g,N,k){if(go=k,ns=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,od.current=s===null||s.memoizedState===null?p3:m3,s=d(g,N),Do){k=0;do{if(Do=!1,Lc=0,25<=k)throw Error(r(301));k+=1,_s=Fs=null,l.updateQueue=null,od.current=g3,s=d(g,N)}while(Do)}if(od.current=Yh,l=Fs!==null&&Fs.next!==null,go=0,_s=Fs=ns=null,Ec=!1,l)throw Error(r(300));return s}function vo(){var s=Lc!==0;return Lc=0,s}function Qa(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _s===null?ns.memoizedState=_s=s:_s=_s.next=s,_s}function fa(){if(Fs===null){var s=ns.alternate;s=s!==null?s.memoizedState:null}else s=Fs.next;var l=_s===null?ns.memoizedState:_s.next;if(l!==null)_s=l,Fs=s;else{if(s===null)throw Error(r(310));Fs=s,s={memoizedState:Fs.memoizedState,baseState:Fs.baseState,baseQueue:Fs.baseQueue,queue:Fs.queue,next:null},_s===null?ns.memoizedState=_s=s:_s=_s.next=s}return _s}function _u(s,l){return typeof l=="function"?l(s):l}function ud(s){var l=fa(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=Fs,N=g.baseQueue,k=d.pending;if(k!==null){if(N!==null){var G=N.next;N.next=k.next,k.next=G}g.baseQueue=N=k,d.pending=null}if(N!==null){k=N.next,g=g.baseState;var ge=G=null,_e=null,We=k;do{var vt=We.lane;if((go&vt)===vt)_e!==null&&(_e=_e.next={lane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),g=We.hasEagerState?We.eagerState:s(g,We.action);else{var bt={lane:vt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};_e===null?(ge=_e=bt,G=g):_e=_e.next=bt,ns.lanes|=vt,Pu|=vt}We=We.next}while(We!==null&&We!==k);_e===null?G=g:_e.next=ge,hs(g,l.memoizedState)||(La=!0),l.memoizedState=g,l.baseState=G,l.baseQueue=_e,d.lastRenderedState=g}if(s=d.interleaved,s!==null){N=s;do k=N.lane,ns.lanes|=k,Pu|=k,N=N.next;while(N!==s)}else N===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function xl(s){var l=fa(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var g=d.dispatch,N=d.pending,k=l.memoizedState;if(N!==null){d.pending=null;var G=N=N.next;do k=s(k,G.action),G=G.next;while(G!==N);hs(k,l.memoizedState)||(La=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),d.lastRenderedState=k}return[k,g]}function Gh(){}function Lf(s,l){var d=ns,g=fa(),N=l(),k=!hs(g.memoizedState,N);if(k&&(g.memoizedState=N,La=!0),g=g.queue,hd(Qh.bind(null,d,g,s),[s]),g.getSnapshot!==l||k||_s!==null&&_s.memoizedState.tag&1){if(d.flags|=2048,ha(9,Rf.bind(null,d,g,N,l),void 0,null),Ci===null)throw Error(r(349));(go&30)!==0||Kh(d,l,N)}return N}function Kh(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=ns.updateQueue,l===null?(l={lastEffect:null,stores:null},ns.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function Rf(s,l,d,g){l.value=d,l.getSnapshot=g,Rc(l)&&dd(s)}function Qh(s,l,d){return d(function(){Rc(l)&&dd(s)})}function Rc(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!hs(s,d)}catch{return!0}}function dd(s){var l=$n(s,1);l!==null&&Bo(l,s,1,-1)}function Au(s){var l=Qa();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:s},l.queue=s,s=s.dispatch=h3.bind(null,ns,s),[l.memoizedState,s]}function ha(s,l,d,g){return s={tag:s,create:l,destroy:d,deps:g,next:null},l=ns.updateQueue,l===null?(l={lastEffect:null,stores:null},ns.updateQueue=l,l.lastEffect=s.next=s):(d=l.lastEffect,d===null?l.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,l.lastEffect=s)),s}function Io(){return fa().memoizedState}function Za(s,l,d,g){var N=Qa();ns.flags|=s,N.memoizedState=ha(1|l,d,void 0,g===void 0?null:g)}function sc(s,l,d,g){var N=fa();g=g===void 0?null:g;var k=void 0;if(Fs!==null){var G=Fs.memoizedState;if(k=G.destroy,g!==null&&cd(g,G.deps)){N.memoizedState=ha(l,d,k,g);return}}ns.flags|=s,N.memoizedState=ha(1|l,d,k,g)}function fd(s,l){return Za(8390656,8,s,l)}function hd(s,l){return sc(2048,8,s,l)}function Zh(s,l){return sc(4,2,s,l)}function pd(s,l){return sc(4,4,s,l)}function md(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Rv(s,l,d){return d=d!=null?d.concat([s]):null,sc(4,4,md.bind(null,l,s),d)}function pg(){}function Dv(s,l){var d=fa();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&cd(l,g[1])?g[0]:(d.memoizedState=[s,l],s)}function Iv(s,l){var d=fa();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&cd(l,g[1])?g[0]:(s=s(),d.memoizedState=[s,l],s)}function Fv(s,l,d){return(go&21)===0?(s.baseState&&(s.baseState=!1,La=!0),s.memoizedState=d):(hs(d,l)||(d=Ol(),ns.lanes|=d,Pu|=d,s.baseState=!0),l)}function d3(s,l){var d=he;he=d!==0&&4>d?d:4,s(!0);var g=ld.transition;ld.transition={};try{s(!1),l()}finally{he=d,ld.transition=g}}function Ov(){return fa().memoizedState}function f3(s,l,d){var g=Oc(s);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Mv(s))Bv(l,d);else if(d=Bn(s,l,d,g),d!==null){var N=ma();Bo(d,s,g,N),qv(d,l,g)}}function h3(s,l,d){var g=Oc(s),N={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Mv(s))Bv(l,N);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var G=l.lastRenderedState,ge=k(G,d);if(N.hasEagerState=!0,N.eagerState=ge,hs(ge,G)){var _e=l.interleaved;_e===null?(N.next=N,Ni(l)):(N.next=_e.next,_e.next=N),l.interleaved=N;return}}catch{}d=Bn(s,l,N,g),d!==null&&(N=ma(),Bo(d,s,g,N),qv(d,l,g))}}function Mv(s){var l=s.alternate;return s===ns||l!==null&&l===ns}function Bv(s,l){Do=Ec=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function qv(s,l,d){if((d&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,d|=g,l.lanes=d,pe(s,d)}}var Yh={readContext:vs,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useInsertionEffect:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useSyncExternalStore:zs,useId:zs,unstable_isNewReconciler:!1},p3={readContext:vs,useCallback:function(s,l){return Qa().memoizedState=[s,l===void 0?null:l],s},useContext:vs,useEffect:fd,useImperativeHandle:function(s,l,d){return d=d!=null?d.concat([s]):null,Za(4194308,4,md.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Za(4194308,4,s,l)},useInsertionEffect:function(s,l){return Za(4,2,s,l)},useMemo:function(s,l){var d=Qa();return l=l===void 0?null:l,s=s(),d.memoizedState=[s,l],s},useReducer:function(s,l,d){var g=Qa();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=f3.bind(null,ns,s),[g.memoizedState,s]},useRef:function(s){var l=Qa();return s={current:s},l.memoizedState=s},useState:Au,useDebugValue:pg,useDeferredValue:function(s){return Qa().memoizedState=s},useTransition:function(){var s=Au(!1),l=s[0];return s=d3.bind(null,s[1]),Qa().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,d){var g=ns,N=Qa();if(st){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ci===null)throw Error(r(349));(go&30)!==0||Kh(g,l,d)}N.memoizedState=d;var k={value:d,getSnapshot:l};return N.queue=k,fd(Qh.bind(null,g,k,s),[s]),g.flags|=2048,ha(9,Rf.bind(null,g,k,d,l),void 0,null),d},useId:function(){var s=Qa(),l=Ci.identifierPrefix;if(st){var d=ue,g=Oe;d=(g&~(1<<32-bn(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Lc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=hg++,l=":"+l+"r"+d.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},m3={readContext:vs,useCallback:Dv,useContext:vs,useEffect:hd,useImperativeHandle:Rv,useInsertionEffect:Zh,useLayoutEffect:pd,useMemo:Iv,useReducer:ud,useRef:Io,useState:function(){return ud(_u)},useDebugValue:pg,useDeferredValue:function(s){var l=fa();return Fv(l,Fs.memoizedState,s)},useTransition:function(){var s=ud(_u)[0],l=fa().memoizedState;return[s,l]},useMutableSource:Gh,useSyncExternalStore:Lf,useId:Ov,unstable_isNewReconciler:!1},g3={readContext:vs,useCallback:Dv,useContext:vs,useEffect:hd,useImperativeHandle:Rv,useInsertionEffect:Zh,useLayoutEffect:pd,useMemo:Iv,useReducer:xl,useRef:Io,useState:function(){return xl(_u)},useDebugValue:pg,useDeferredValue:function(s){var l=fa();return Fs===null?l.memoizedState=s:Fv(l,Fs.memoizedState,s)},useTransition:function(){var s=xl(_u)[0],l=fa().memoizedState;return[s,l]},useMutableSource:Gh,useSyncExternalStore:Lf,useId:Ov,unstable_isNewReconciler:!1};function Fo(s,l){if(s&&s.defaultProps){l=I({},l),s=s.defaultProps;for(var d in s)l[d]===void 0&&(l[d]=s[d]);return l}return l}function mg(s,l,d,g){l=s.memoizedState,d=d(g,l),d=d==null?l:I({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Xh={isMounted:function(s){return(s=s._reactInternals)?xt(s)===s:!1},enqueueSetState:function(s,l,d){s=s._reactInternals;var g=ma(),N=Oc(s),k=Ss(g,N);k.payload=l,d!=null&&(k.callback=d),l=js(s,k,N),l!==null&&(Bo(l,s,N,g),Si(l,s,N))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var g=ma(),N=Oc(s),k=Ss(g,N);k.tag=1,k.payload=l,d!=null&&(k.callback=d),l=js(s,k,N),l!==null&&(Bo(l,s,N,g),Si(l,s,N))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=ma(),g=Oc(s),N=Ss(d,g);N.tag=2,l!=null&&(N.callback=l),l=js(s,N,g),l!==null&&(Bo(l,s,g,d),Si(l,s,g))}};function Uv(s,l,d,g,N,k,G){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,k,G):l.prototype&&l.prototype.isPureReactComponent?!Hi(d,g)||!Hi(N,k):!0}function zv(s,l,d){var g=!1,N=gl,k=l.contextType;return typeof k=="object"&&k!==null?k=vs(k):(N=Qi(l)?rc:pi.current,g=l.contextTypes,k=(g=g!=null)?kc(s,N):gl),l=new l(d,k),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Xh,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=k),l}function $v(s,l,d,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==s&&Xh.enqueueReplaceState(l,l.state,null)}function gg(s,l,d,g){var N=s.stateNode;N.props=d,N.state=s.memoizedState,N.refs={},mi(s);var k=l.contextType;typeof k=="object"&&k!==null?N.context=vs(k):(k=Qi(l)?rc:pi.current,N.context=kc(s,k)),N.state=s.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(mg(s,l,k,d),N.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&Xh.enqueueReplaceState(N,N.state,null),ji(s,d,N,g),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function gd(s,l){try{var d="",g=l;do d+=H(g),g=g.return;while(g);var N=d}catch(k){N=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:l,stack:N,digest:null}}function vg(s,l,d){return{value:s,source:null,stack:d??null,digest:l??null}}function xg(s,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var v3=typeof WeakMap=="function"?WeakMap:Map;function Vv(s,l,d){d=Ss(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){ip||(ip=!0,Rg=g),xg(s,l)},d}function Hv(s,l,d){d=Ss(-1,d),d.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var N=l.value;d.payload=function(){return g(N)},d.callback=function(){xg(s,l)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(d.callback=function(){xg(s,l),typeof g!="function"&&(Ic===null?Ic=new Set([this]):Ic.add(this));var G=l.stack;this.componentDidCatch(l.value,{componentStack:G!==null?G:""})}),d}function Wv(s,l,d){var g=s.pingCache;if(g===null){g=s.pingCache=new v3;var N=new Set;g.set(l,N)}else N=g.get(l),N===void 0&&(N=new Set,g.set(l,N));N.has(d)||(N.add(d),s=E3.bind(null,s,l,d),l.then(s,s))}function Gv(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Kv(s,l,d,g,N){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ss(-1,1),l.tag=2,js(d,l,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var x3=z.ReactCurrentOwner,La=!1;function pa(s,l,d,g){l.child=s===null?os(l,null,d,g):Ds(l,s.child,d,g)}function Qv(s,l,d,g,N){d=d.render;var k=l.ref;return gs(l,N),g=Cu(s,l,d,g,k,N),d=vo(),s!==null&&!La?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,ic(s,l,N)):(st&&d&&Je(l),l.flags|=1,pa(s,l,g,N),l.child)}function Zv(s,l,d,g,N){if(s===null){var k=d.type;return typeof k=="function"&&!qg(k)&&k.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=k,Yv(s,l,k,g,N)):(s=dp(d.type,null,g,l,l.mode,N),s.ref=l.ref,s.return=l,l.child=s)}if(k=s.child,(s.lanes&N)===0){var G=k.memoizedProps;if(d=d.compare,d=d!==null?d:Hi,d(G,g)&&s.ref===l.ref)return ic(s,l,N)}return l.flags|=1,s=Bc(k,g),s.ref=l.ref,s.return=l,l.child=s}function Yv(s,l,d,g,N){if(s!==null){var k=s.memoizedProps;if(Hi(k,g)&&s.ref===l.ref)if(La=!1,l.pendingProps=g=k,(s.lanes&N)!==0)(s.flags&131072)!==0&&(La=!0);else return l.lanes=s.lanes,ic(s,l,N)}return yg(s,l,d,g,N)}function Xv(s,l,d){var g=l.pendingProps,N=g.children,k=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(xd,Ya),Ya|=d;else{if((d&1073741824)===0)return s=k!==null?k.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Mn(xd,Ya),Ya|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:d,Mn(xd,Ya),Ya|=g}else k!==null?(g=k.baseLanes|d,l.memoizedState=null):g=d,Mn(xd,Ya),Ya|=g;return pa(s,l,N,d),l.child}function Jv(s,l){var d=l.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function yg(s,l,d,g,N){var k=Qi(d)?rc:pi.current;return k=kc(l,k),gs(l,N),d=Cu(s,l,d,g,k,N),g=vo(),s!==null&&!La?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,ic(s,l,N)):(st&&g&&Je(l),l.flags|=1,pa(s,l,d,N),l.child)}function e2(s,l,d,g,N){if(Qi(d)){var k=!0;nc(l)}else k=!1;if(gs(l,N),l.stateNode===null)ep(s,l),zv(l,d,g),gg(l,d,g,N),g=!0;else if(s===null){var G=l.stateNode,ge=l.memoizedProps;G.props=ge;var _e=G.context,We=d.contextType;typeof We=="object"&&We!==null?We=vs(We):(We=Qi(d)?rc:pi.current,We=kc(l,We));var vt=d.getDerivedStateFromProps,bt=typeof vt=="function"||typeof G.getSnapshotBeforeUpdate=="function";bt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge!==g||_e!==We)&&$v(l,G,g,We),Is=!1;var mt=l.memoizedState;G.state=mt,ji(l,g,G,N),_e=l.memoizedState,ge!==g||mt!==_e||Ki.current||Is?(typeof vt=="function"&&(mg(l,d,vt,g),_e=l.memoizedState),(ge=Is||Uv(l,d,ge,g,mt,_e,We))?(bt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(l.flags|=4194308)):(typeof G.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=_e),G.props=g,G.state=_e,G.context=We,g=ge):(typeof G.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{G=l.stateNode,Zi(s,l),ge=l.memoizedProps,We=l.type===l.elementType?ge:Fo(l.type,ge),G.props=We,bt=l.pendingProps,mt=G.context,_e=d.contextType,typeof _e=="object"&&_e!==null?_e=vs(_e):(_e=Qi(d)?rc:pi.current,_e=kc(l,_e));var Mt=d.getDerivedStateFromProps;(vt=typeof Mt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge!==bt||mt!==_e)&&$v(l,G,g,_e),Is=!1,mt=l.memoizedState,G.state=mt,ji(l,g,G,N);var Xt=l.memoizedState;ge!==bt||mt!==Xt||Ki.current||Is?(typeof Mt=="function"&&(mg(l,d,Mt,g),Xt=l.memoizedState),(We=Is||Uv(l,d,We,g,mt,Xt,_e)||!1)?(vt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(g,Xt,_e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(g,Xt,_e)),typeof G.componentDidUpdate=="function"&&(l.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof G.componentDidUpdate!="function"||ge===s.memoizedProps&&mt===s.memoizedState||(l.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ge===s.memoizedProps&&mt===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Xt),G.props=g,G.state=Xt,G.context=_e,g=We):(typeof G.componentDidUpdate!="function"||ge===s.memoizedProps&&mt===s.memoizedState||(l.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ge===s.memoizedProps&&mt===s.memoizedState||(l.flags|=1024),g=!1)}return wg(s,l,d,g,k,N)}function wg(s,l,d,g,N,k){Jv(s,l);var G=(l.flags&128)!==0;if(!g&&!G)return N&&Hh(l,d,!1),ic(s,l,k);g=l.stateNode,x3.current=l;var ge=G&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&G?(l.child=Ds(l,s.child,null,k),l.child=Ds(l,null,ge,k)):pa(s,l,ge,k),l.memoizedState=g.state,N&&Hh(l,d,!0),l.child}function t2(s){var l=s.stateNode;l.pendingContext?Vh(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Vh(s,l.context,!1),Tc(s,l.containerInfo)}function r2(s,l,d,g,N){return zt(),kt(N),l.flags|=256,pa(s,l,d,g),l.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function Ng(s){return{baseLanes:s,cachePool:null,transitions:null}}function n2(s,l,d){var g=l.pendingProps,N=Qn.current,k=!1,G=(l.flags&128)!==0,ge;if((ge=G)||(ge=s!==null&&s.memoizedState===null?!1:(N&2)!==0),ge?(k=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),Mn(Qn,N&1),s===null)return Zt(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(G=g.children,s=g.fallback,k?(g=l.mode,k=l.child,G={mode:"hidden",children:G},(g&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=G):k=fp(G,g,0,null),s=Lu(s,g,d,null),k.return=l,s.return=l,k.sibling=s,l.child=k,l.child.memoizedState=Ng(d),l.memoizedState=bg,s):Sg(l,G));if(N=s.memoizedState,N!==null&&(ge=N.dehydrated,ge!==null))return y3(s,l,G,g,ge,N,d);if(k){k=g.fallback,G=l.mode,N=s.child,ge=N.sibling;var _e={mode:"hidden",children:g.children};return(G&1)===0&&l.child!==N?(g=l.child,g.childLanes=0,g.pendingProps=_e,l.deletions=null):(g=Bc(N,_e),g.subtreeFlags=N.subtreeFlags&14680064),ge!==null?k=Bc(ge,k):(k=Lu(k,G,d,null),k.flags|=2),k.return=l,g.return=l,g.sibling=k,l.child=g,g=k,k=l.child,G=s.child.memoizedState,G=G===null?Ng(d):{baseLanes:G.baseLanes|d,cachePool:null,transitions:G.transitions},k.memoizedState=G,k.childLanes=s.childLanes&~d,l.memoizedState=bg,g}return k=s.child,s=k.sibling,g=Bc(k,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,s!==null&&(d=l.deletions,d===null?(l.deletions=[s],l.flags|=16):d.push(s)),l.child=g,l.memoizedState=null,g}function Sg(s,l){return l=fp({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Jh(s,l,d,g){return g!==null&&kt(g),Ds(l,s.child,null,d),s=Sg(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function y3(s,l,d,g,N,k,G){if(d)return l.flags&256?(l.flags&=-257,g=vg(Error(r(422))),Jh(s,l,G,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(k=g.fallback,N=l.mode,g=fp({mode:"visible",children:g.children},N,0,null),k=Lu(k,N,G,null),k.flags|=2,g.return=l,k.return=l,g.sibling=k,l.child=g,(l.mode&1)!==0&&Ds(l,s.child,null,G),l.child.memoizedState=Ng(G),l.memoizedState=bg,k);if((l.mode&1)===0)return Jh(s,l,G,null);if(N.data==="$!"){if(g=N.nextSibling&&N.nextSibling.dataset,g)var ge=g.dgst;return g=ge,k=Error(r(419)),g=vg(k,g,void 0),Jh(s,l,G,g)}if(ge=(G&s.childLanes)!==0,La||ge){if(g=Ci,g!==null){switch(G&-G){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(g.suspendedLanes|G))!==0?0:N,N!==0&&N!==k.retryLane&&(k.retryLane=N,$n(s,N),Bo(g,s,N,-1))}return Bg(),g=vg(Error(r(421))),Jh(s,l,G,g)}return N.data==="$?"?(l.flags|=128,l.child=s.child,l=L3.bind(null,s),N._reactRetry=l,null):(s=k.treeContext,Xe=Mi(N.nextSibling),Ze=l,st=!0,lt=null,s!==null&&(ne[ce++]=Oe,ne[ce++]=ue,ne[ce++]=Ce,Oe=s.id,ue=s.overflow,Ce=l),l=Sg(l,g.children),l.flags|=4096,l)}function s2(s,l,d){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),jn(s.return,l,d)}function jg(s,l,d,g,N){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:N}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=d,k.tailMode=N)}function i2(s,l,d){var g=l.pendingProps,N=g.revealOrder,k=g.tail;if(pa(s,l,g.children,d),g=Qn.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&s2(s,d,l);else if(s.tag===19)s2(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Mn(Qn,g),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(d=l.child,N=null;d!==null;)s=d.alternate,s!==null&&Ka(s)===null&&(N=d),d=d.sibling;d=N,d===null?(N=l.child,l.child=null):(N=d.sibling,d.sibling=null),jg(l,!1,N,d,k);break;case"backwards":for(d=null,N=l.child,l.child=null;N!==null;){if(s=N.alternate,s!==null&&Ka(s)===null){l.child=N;break}s=N.sibling,N.sibling=d,d=N,N=s}jg(l,!0,d,null,k);break;case"together":jg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ep(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function ic(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),Pu|=l.lanes,(d&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=Bc(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=Bc(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function w3(s,l,d){switch(l.tag){case 3:t2(l),zt();break;case 5:Wh(l);break;case 1:Qi(l.type)&&nc(l);break;case 4:Tc(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,N=l.memoizedProps.value;Mn(Us,g._currentValue),g._currentValue=N;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Mn(Qn,Qn.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?n2(s,l,d):(Mn(Qn,Qn.current&1),s=ic(s,l,d),s!==null?s.sibling:null);Mn(Qn,Qn.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(s.flags&128)!==0){if(g)return i2(s,l,d);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Mn(Qn,Qn.current),g)break;return null;case 22:case 23:return l.lanes=0,Xv(s,l,d)}return ic(s,l,d)}var a2,Cg,o2,l2;a2=function(s,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Cg=function(){},o2=function(s,l,d,g){var N=s.memoizedProps;if(N!==g){s=l.stateNode,Ro(ri.current);var k=null;switch(d){case"input":N=ht(s,N),g=ht(s,g),k=[];break;case"select":N=I({},N,{value:void 0}),g=I({},g,{value:void 0}),k=[];break;case"textarea":N=oe(s,N),g=oe(s,g),k=[];break;default:typeof N.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=_c)}Ir(d,g);var G;d=null;for(We in N)if(!g.hasOwnProperty(We)&&N.hasOwnProperty(We)&&N[We]!=null)if(We==="style"){var ge=N[We];for(G in ge)ge.hasOwnProperty(G)&&(d||(d={}),d[G]="")}else We!=="dangerouslySetInnerHTML"&&We!=="children"&&We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&We!=="autoFocus"&&(a.hasOwnProperty(We)?k||(k=[]):(k=k||[]).push(We,null));for(We in g){var _e=g[We];if(ge=N?.[We],g.hasOwnProperty(We)&&_e!==ge&&(_e!=null||ge!=null))if(We==="style")if(ge){for(G in ge)!ge.hasOwnProperty(G)||_e&&_e.hasOwnProperty(G)||(d||(d={}),d[G]="");for(G in _e)_e.hasOwnProperty(G)&&ge[G]!==_e[G]&&(d||(d={}),d[G]=_e[G])}else d||(k||(k=[]),k.push(We,d)),d=_e;else We==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,ge=ge?ge.__html:void 0,_e!=null&&ge!==_e&&(k=k||[]).push(We,_e)):We==="children"?typeof _e!="string"&&typeof _e!="number"||(k=k||[]).push(We,""+_e):We!=="suppressContentEditableWarning"&&We!=="suppressHydrationWarning"&&(a.hasOwnProperty(We)?(_e!=null&&We==="onScroll"&&Un("scroll",s),k||ge===_e||(k=[])):(k=k||[]).push(We,_e))}d&&(k=k||[]).push("style",d);var We=k;(l.updateQueue=We)&&(l.flags|=4)}},l2=function(s,l,d,g){d!==g&&(l.flags|=4)};function Df(s,l){if(!st)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Yi(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(l)for(var N=s.child;N!==null;)d|=N.lanes|N.childLanes,g|=N.subtreeFlags&14680064,g|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)d|=N.lanes|N.childLanes,g|=N.subtreeFlags,g|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=g,s.childLanes=d,l}function b3(s,l,d){var g=l.pendingProps;switch(qe(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(l),null;case 1:return Qi(l.type)&&ad(),Yi(l),null;case 3:return g=l.stateNode,mo(),Ln(Ki),Ln(pi),Ef(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(ms(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,lt!==null&&(Fg(lt),lt=null))),Cg(s,l),Yi(l),null;case 5:kf(l);var N=Ro(vl.current);if(d=l.type,s!==null&&l.stateNode!=null)o2(s,l,d,g,N),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Yi(l),null}if(s=Ro(ri.current),ms(l)){g=l.stateNode,d=l.type;var k=l.memoizedProps;switch(g[po]=l,g[Ac]=k,s=(l.mode&1)!==0,d){case"dialog":Un("cancel",g),Un("close",g);break;case"iframe":case"object":case"embed":Un("load",g);break;case"video":case"audio":for(N=0;N<pl.length;N++)Un(pl[N],g);break;case"source":Un("error",g);break;case"img":case"image":case"link":Un("error",g),Un("load",g);break;case"details":Un("toggle",g);break;case"input":re(g,k),Un("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},Un("invalid",g);break;case"textarea":Ne(g,k),Un("invalid",g)}Ir(d,k),N=null;for(var G in k)if(k.hasOwnProperty(G)){var ge=k[G];G==="children"?typeof ge=="string"?g.textContent!==ge&&(k.suppressHydrationWarning!==!0&&id(g.textContent,ge,s),N=["children",ge]):typeof ge=="number"&&g.textContent!==""+ge&&(k.suppressHydrationWarning!==!0&&id(g.textContent,ge,s),N=["children",""+ge]):a.hasOwnProperty(G)&&ge!=null&&G==="onScroll"&&Un("scroll",g)}switch(d){case"input":Ge(g),He(g,k,!0);break;case"textarea":Ge(g),Re(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=_c)}g=N,l.updateQueue=g,g!==null&&(l.flags|=4)}else{G=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$e(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=G.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=G.createElement(d,{is:g.is}):(s=G.createElement(d),d==="select"&&(G=s,g.multiple?G.multiple=!0:g.size&&(G.size=g.size))):s=G.createElementNS(s,d),s[po]=l,s[Ac]=g,a2(s,l,!1,!1),l.stateNode=s;e:{switch(G=Rt(d,g),d){case"dialog":Un("cancel",s),Un("close",s),N=g;break;case"iframe":case"object":case"embed":Un("load",s),N=g;break;case"video":case"audio":for(N=0;N<pl.length;N++)Un(pl[N],s);N=g;break;case"source":Un("error",s),N=g;break;case"img":case"image":case"link":Un("error",s),Un("load",s),N=g;break;case"details":Un("toggle",s),N=g;break;case"input":re(s,g),N=ht(s,g),Un("invalid",s);break;case"option":N=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},N=I({},g,{value:void 0}),Un("invalid",s);break;case"textarea":Ne(s,g),N=oe(s,g),Un("invalid",s);break;default:N=g}Ir(d,N),ge=N;for(k in ge)if(ge.hasOwnProperty(k)){var _e=ge[k];k==="style"?yr(s,_e):k==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&pt(s,_e)):k==="children"?typeof _e=="string"?(d!=="textarea"||_e!=="")&&Tt(s,_e):typeof _e=="number"&&Tt(s,""+_e):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(a.hasOwnProperty(k)?_e!=null&&k==="onScroll"&&Un("scroll",s):_e!=null&&T(s,k,_e,G))}switch(d){case"input":Ge(s),He(s,g,!1);break;case"textarea":Ge(s),Re(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ve(g.value));break;case"select":s.multiple=!!g.multiple,k=g.value,k!=null?_t(s,!!g.multiple,k,!1):g.defaultValue!=null&&_t(s,!!g.multiple,g.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=_c)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Yi(l),null;case 6:if(s&&l.stateNode!=null)l2(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=Ro(vl.current),Ro(ri.current),ms(l)){if(g=l.stateNode,d=l.memoizedProps,g[po]=l,(k=g.nodeValue!==d)&&(s=Ze,s!==null))switch(s.tag){case 3:id(g.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&id(g.nodeValue,d,(s.mode&1)!==0)}k&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[po]=l,l.stateNode=g}return Yi(l),null;case 13:if(Ln(Qn),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&Xe!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Wr(),zt(),l.flags|=98560,k=!1;else if(k=ms(l),g!==null&&g.dehydrated!==null){if(s===null){if(!k)throw Error(r(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[po]=l}else zt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yi(l),k=!1}else lt!==null&&(Fg(lt),lt=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Qn.current&1)!==0?gi===0&&(gi=3):Bg())),l.updateQueue!==null&&(l.flags|=4),Yi(l),null);case 4:return mo(),Cg(s,l),s===null&&Xl(l.stateNode.containerInfo),Yi(l),null;case 10:return rs(l.type._context),Yi(l),null;case 17:return Qi(l.type)&&ad(),Yi(l),null;case 19:if(Ln(Qn),k=l.memoizedState,k===null)return Yi(l),null;if(g=(l.flags&128)!==0,G=k.rendering,G===null)if(g)Df(k,!1);else{if(gi!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(G=Ka(s),G!==null){for(l.flags|=128,Df(k,!1),g=G.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)k=d,s=g,k.flags&=14680066,G=k.alternate,G===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=G.childLanes,k.lanes=G.lanes,k.child=G.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=G.memoizedProps,k.memoizedState=G.memoizedState,k.updateQueue=G.updateQueue,k.type=G.type,s=G.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return Mn(Qn,Qn.current&1|2),l.child}s=s.sibling}k.tail!==null&&Nr()>yd&&(l.flags|=128,g=!0,Df(k,!1),l.lanes=4194304)}else{if(!g)if(s=Ka(G),s!==null){if(l.flags|=128,g=!0,d=s.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Df(k,!0),k.tail===null&&k.tailMode==="hidden"&&!G.alternate&&!st)return Yi(l),null}else 2*Nr()-k.renderingStartTime>yd&&d!==1073741824&&(l.flags|=128,g=!0,Df(k,!1),l.lanes=4194304);k.isBackwards?(G.sibling=l.child,l.child=G):(d=k.last,d!==null?d.sibling=G:l.child=G,k.last=G)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Nr(),l.sibling=null,d=Qn.current,Mn(Qn,g?d&1|2:d&1),l):(Yi(l),null);case 22:case 23:return Mg(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Ya&1073741824)!==0&&(Yi(l),l.subtreeFlags&6&&(l.flags|=8192)):Yi(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function N3(s,l){switch(qe(l),l.tag){case 1:return Qi(l.type)&&ad(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return mo(),Ln(Ki),Ln(pi),Ef(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return kf(l),null;case 13:if(Ln(Qn),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));zt()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Ln(Qn),null;case 4:return mo(),null;case 10:return rs(l.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var tp=!1,Xi=!1,S3=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function vd(s,l){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Os(s,l,g)}else d.current=null}function _g(s,l,d){try{d()}catch(g){Os(s,l,g)}}var c2=!1;function j3(s,l){if(Nu=jo,s=Rs(),Ha(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var N=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var G=0,ge=-1,_e=-1,We=0,vt=0,bt=s,mt=null;t:for(;;){for(var Mt;bt!==d||N!==0&&bt.nodeType!==3||(ge=G+N),bt!==k||g!==0&&bt.nodeType!==3||(_e=G+g),bt.nodeType===3&&(G+=bt.nodeValue.length),(Mt=bt.firstChild)!==null;)mt=bt,bt=Mt;for(;;){if(bt===s)break t;if(mt===d&&++We===N&&(ge=G),mt===k&&++vt===g&&(_e=G),(Mt=bt.nextSibling)!==null)break;bt=mt,mt=bt.parentNode}bt=Mt}d=ge===-1||_e===-1?null:{start:ge,end:_e}}else d=null}d=d||{start:0,end:0}}else d=null;for(ec={focusedElem:s,selectionRange:d},jo=!1,Wt=l;Wt!==null;)if(l=Wt,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Wt=s;else for(;Wt!==null;){l=Wt;try{var Xt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Xt!==null){var rr=Xt.memoizedProps,$s=Xt.memoizedState,Me=l.stateNode,Pe=Me.getSnapshotBeforeUpdate(l.elementType===l.type?rr:Fo(l.type,rr),$s);Me.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var Ue=l.stateNode.containerInfo;Ue.nodeType===1?Ue.textContent="":Ue.nodeType===9&&Ue.documentElement&&Ue.removeChild(Ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ct){Os(l,l.return,Ct)}if(s=l.sibling,s!==null){s.return=l.return,Wt=s;break}Wt=l.return}return Xt=c2,c2=!1,Xt}function If(s,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&s)===s){var k=N.destroy;N.destroy=void 0,k!==void 0&&_g(l,d,k)}N=N.next}while(N!==g)}}function rp(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&s)===s){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function Ag(s){var l=s.ref;if(l!==null){var d=s.stateNode;s.tag,s=d,typeof l=="function"?l(s):l.current=s}}function u2(s){var l=s.alternate;l!==null&&(s.alternate=null,u2(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[po],delete l[Ac],delete l[Gi],delete l[dg],delete l[fg])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function d2(s){return s.tag===5||s.tag===3||s.tag===4}function f2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||d2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pg(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(s,l):d.insertBefore(s,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(s,d)):(l=d,l.appendChild(s)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=_c));else if(g!==4&&(s=s.child,s!==null))for(Pg(s,l,d),s=s.sibling;s!==null;)Pg(s,l,d),s=s.sibling}function kg(s,l,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(kg(s,l,d),s=s.sibling;s!==null;)kg(s,l,d),s=s.sibling}var Bi=null,Oo=!1;function Dc(s,l,d){for(d=d.child;d!==null;)h2(s,l,d),d=d.sibling}function h2(s,l,d){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(dr,d)}catch{}switch(d.tag){case 5:Xi||vd(d,l);case 6:var g=Bi,N=Oo;Bi=null,Dc(s,l,d),Bi=g,Oo=N,Bi!==null&&(Oo?(s=Bi,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Bi.removeChild(d.stateNode));break;case 18:Bi!==null&&(Oo?(s=Bi,d=d.stateNode,s.nodeType===8?_f(s.parentNode,d):s.nodeType===1&&_f(s,d),So(s)):_f(Bi,d.stateNode));break;case 4:g=Bi,N=Oo,Bi=d.stateNode.containerInfo,Oo=!0,Dc(s,l,d),Bi=g,Oo=N;break;case 0:case 11:case 14:case 15:if(!Xi&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){N=g=g.next;do{var k=N,G=k.destroy;k=k.tag,G!==void 0&&((k&2)!==0||(k&4)!==0)&&_g(d,l,G),N=N.next}while(N!==g)}Dc(s,l,d);break;case 1:if(!Xi&&(vd(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(ge){Os(d,l,ge)}Dc(s,l,d);break;case 21:Dc(s,l,d);break;case 22:d.mode&1?(Xi=(g=Xi)||d.memoizedState!==null,Dc(s,l,d),Xi=g):Dc(s,l,d);break;default:Dc(s,l,d)}}function p2(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new S3),l.forEach(function(g){var N=R3.bind(null,s,g);d.has(g)||(d.add(g),g.then(N,N))})}}function Mo(s,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var N=d[g];try{var k=s,G=l,ge=G;e:for(;ge!==null;){switch(ge.tag){case 5:Bi=ge.stateNode,Oo=!1;break e;case 3:Bi=ge.stateNode.containerInfo,Oo=!0;break e;case 4:Bi=ge.stateNode.containerInfo,Oo=!0;break e}ge=ge.return}if(Bi===null)throw Error(r(160));h2(k,G,N),Bi=null,Oo=!1;var _e=N.alternate;_e!==null&&(_e.return=null),N.return=null}catch(We){Os(N,l,We)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)m2(l,s),l=l.sibling}function m2(s,l){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mo(l,s),yl(s),g&4){try{If(3,s,s.return),rp(3,s)}catch(rr){Os(s,s.return,rr)}try{If(5,s,s.return)}catch(rr){Os(s,s.return,rr)}}break;case 1:Mo(l,s),yl(s),g&512&&d!==null&&vd(d,d.return);break;case 5:if(Mo(l,s),yl(s),g&512&&d!==null&&vd(d,d.return),s.flags&32){var N=s.stateNode;try{Tt(N,"")}catch(rr){Os(s,s.return,rr)}}if(g&4&&(N=s.stateNode,N!=null)){var k=s.memoizedProps,G=d!==null?d.memoizedProps:k,ge=s.type,_e=s.updateQueue;if(s.updateQueue=null,_e!==null)try{ge==="input"&&k.type==="radio"&&k.name!=null&&ke(N,k),Rt(ge,G);var We=Rt(ge,k);for(G=0;G<_e.length;G+=2){var vt=_e[G],bt=_e[G+1];vt==="style"?yr(N,bt):vt==="dangerouslySetInnerHTML"?pt(N,bt):vt==="children"?Tt(N,bt):T(N,vt,bt,We)}switch(ge){case"input":Ve(N,k);break;case"textarea":Fe(N,k);break;case"select":var mt=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!k.multiple;var Mt=k.value;Mt!=null?_t(N,!!k.multiple,Mt,!1):mt!==!!k.multiple&&(k.defaultValue!=null?_t(N,!!k.multiple,k.defaultValue,!0):_t(N,!!k.multiple,k.multiple?[]:"",!1))}N[Ac]=k}catch(rr){Os(s,s.return,rr)}}break;case 6:if(Mo(l,s),yl(s),g&4){if(s.stateNode===null)throw Error(r(162));N=s.stateNode,k=s.memoizedProps;try{N.nodeValue=k}catch(rr){Os(s,s.return,rr)}}break;case 3:if(Mo(l,s),yl(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{So(l.containerInfo)}catch(rr){Os(s,s.return,rr)}break;case 4:Mo(l,s),yl(s);break;case 13:Mo(l,s),yl(s),N=s.child,N.flags&8192&&(k=N.memoizedState!==null,N.stateNode.isHidden=k,!k||N.alternate!==null&&N.alternate.memoizedState!==null||(Lg=Nr())),g&4&&p2(s);break;case 22:if(vt=d!==null&&d.memoizedState!==null,s.mode&1?(Xi=(We=Xi)||vt,Mo(l,s),Xi=We):Mo(l,s),yl(s),g&8192){if(We=s.memoizedState!==null,(s.stateNode.isHidden=We)&&!vt&&(s.mode&1)!==0)for(Wt=s,vt=s.child;vt!==null;){for(bt=Wt=vt;Wt!==null;){switch(mt=Wt,Mt=mt.child,mt.tag){case 0:case 11:case 14:case 15:If(4,mt,mt.return);break;case 1:vd(mt,mt.return);var Xt=mt.stateNode;if(typeof Xt.componentWillUnmount=="function"){g=mt,d=mt.return;try{l=g,Xt.props=l.memoizedProps,Xt.state=l.memoizedState,Xt.componentWillUnmount()}catch(rr){Os(g,d,rr)}}break;case 5:vd(mt,mt.return);break;case 22:if(mt.memoizedState!==null){x2(bt);continue}}Mt!==null?(Mt.return=mt,Wt=Mt):x2(bt)}vt=vt.sibling}e:for(vt=null,bt=s;;){if(bt.tag===5){if(vt===null){vt=bt;try{N=bt.stateNode,We?(k=N.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(ge=bt.stateNode,_e=bt.memoizedProps.style,G=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,ge.style.display=Cr("display",G))}catch(rr){Os(s,s.return,rr)}}}else if(bt.tag===6){if(vt===null)try{bt.stateNode.nodeValue=We?"":bt.memoizedProps}catch(rr){Os(s,s.return,rr)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===s)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===s)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===s)break e;vt===bt&&(vt=null),bt=bt.return}vt===bt&&(vt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:Mo(l,s),yl(s),g&4&&p2(s);break;case 21:break;default:Mo(l,s),yl(s)}}function yl(s){var l=s.flags;if(l&2){try{e:{for(var d=s.return;d!==null;){if(d2(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var N=g.stateNode;g.flags&32&&(Tt(N,""),g.flags&=-33);var k=f2(s);kg(s,k,N);break;case 3:case 4:var G=g.stateNode.containerInfo,ge=f2(s);Pg(s,ge,G);break;default:throw Error(r(161))}}catch(_e){Os(s,s.return,_e)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function C3(s,l,d){Wt=s,g2(s)}function g2(s,l,d){for(var g=(s.mode&1)!==0;Wt!==null;){var N=Wt,k=N.child;if(N.tag===22&&g){var G=N.memoizedState!==null||tp;if(!G){var ge=N.alternate,_e=ge!==null&&ge.memoizedState!==null||Xi;ge=tp;var We=Xi;if(tp=G,(Xi=_e)&&!We)for(Wt=N;Wt!==null;)G=Wt,_e=G.child,G.tag===22&&G.memoizedState!==null?y2(N):_e!==null?(_e.return=G,Wt=_e):y2(N);for(;k!==null;)Wt=k,g2(k),k=k.sibling;Wt=N,tp=ge,Xi=We}v2(s)}else(N.subtreeFlags&8772)!==0&&k!==null?(k.return=N,Wt=k):v2(s)}}function v2(s){for(;Wt!==null;){var l=Wt;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Xi||rp(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Xi)if(d===null)g.componentDidMount();else{var N=l.elementType===l.type?d.memoizedProps:Fo(l.type,d.memoizedProps);g.componentDidUpdate(N,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&Ea(l,k,g);break;case 3:var G=l.updateQueue;if(G!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Ea(l,G,d)}break;case 5:var ge=l.stateNode;if(d===null&&l.flags&4){d=ge;var _e=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&d.focus();break;case"img":_e.src&&(d.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var We=l.alternate;if(We!==null){var vt=We.memoizedState;if(vt!==null){var bt=vt.dehydrated;bt!==null&&So(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xi||l.flags&512&&Ag(l)}catch(mt){Os(l,l.return,mt)}}if(l===s){Wt=null;break}if(d=l.sibling,d!==null){d.return=l.return,Wt=d;break}Wt=l.return}}function x2(s){for(;Wt!==null;){var l=Wt;if(l===s){Wt=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Wt=d;break}Wt=l.return}}function y2(s){for(;Wt!==null;){var l=Wt;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{rp(4,l)}catch(_e){Os(l,d,_e)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var N=l.return;try{g.componentDidMount()}catch(_e){Os(l,N,_e)}}var k=l.return;try{Ag(l)}catch(_e){Os(l,k,_e)}break;case 5:var G=l.return;try{Ag(l)}catch(_e){Os(l,G,_e)}}}catch(_e){Os(l,l.return,_e)}if(l===s){Wt=null;break}var ge=l.sibling;if(ge!==null){ge.return=l.return,Wt=ge;break}Wt=l.return}}var _3=Math.ceil,np=z.ReactCurrentDispatcher,Tg=z.ReactCurrentOwner,xo=z.ReactCurrentBatchConfig,Cn=0,Ci=null,ni=null,qi=0,Ya=0,xd=Wa(0),gi=0,Ff=null,Pu=0,sp=0,Eg=0,Of=null,Ra=null,Lg=0,yd=1/0,ac=null,ip=!1,Rg=null,Ic=null,ap=!1,Fc=null,op=0,Mf=0,Dg=null,lp=-1,cp=0;function ma(){return(Cn&6)!==0?Nr():lp!==-1?lp:lp=Nr()}function Oc(s){return(s.mode&1)===0?1:(Cn&2)!==0&&qi!==0?qi&-qi:Ns.transition!==null?(cp===0&&(cp=Ol()),cp):(s=he,s!==0||(s=window.event,s=s===void 0?16:Ys(s.type)),s)}function Bo(s,l,d,g){if(50<Mf)throw Mf=0,Dg=null,Error(r(185));ws(s,d,g),((Cn&2)===0||s!==Ci)&&(s===Ci&&((Cn&2)===0&&(sp|=d),gi===4&&Mc(s,qi)),Da(s,g),d===1&&Cn===0&&(l.mode&1)===0&&(yd=Nr()+500,ju&&R()))}function Da(s,l){var d=s.callbackNode;ys(s,l);var g=ao(s,s===Ci?qi:0);if(g===0)d!==null&&Ht(d),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(d!=null&&Ht(d),l===1)s.tag===0?P(b2.bind(null,s)):v(b2.bind(null,s)),cg(function(){(Cn&6)===0&&R()}),d=null;else{switch(De(g)){case 1:d=qr;break;case 4:d=er;break;case 16:d=ir;break;case 536870912:d=Qt;break;default:d=ir}d=k2(d,w2.bind(null,s))}s.callbackPriority=l,s.callbackNode=d}}function w2(s,l){if(lp=-1,cp=0,(Cn&6)!==0)throw Error(r(327));var d=s.callbackNode;if(wd()&&s.callbackNode!==d)return null;var g=ao(s,s===Ci?qi:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=up(s,g);else{l=g;var N=Cn;Cn|=2;var k=S2();(Ci!==s||qi!==l)&&(ac=null,yd=Nr()+500,Tu(s,l));do try{k3();break}catch(ge){N2(s,ge)}while(!0);Sn(),np.current=k,Cn=N,ni!==null?l=0:(Ci=null,qi=0,l=gi)}if(l!==0){if(l===2&&(N=oa(s),N!==0&&(g=N,l=Ig(s,N))),l===1)throw d=Ff,Tu(s,0),Mc(s,g),Da(s,Nr()),d;if(l===6)Mc(s,g);else{if(N=s.current.alternate,(g&30)===0&&!A3(N)&&(l=up(s,g),l===2&&(k=oa(s),k!==0&&(g=k,l=Ig(s,k))),l===1))throw d=Ff,Tu(s,0),Mc(s,g),Da(s,Nr()),d;switch(s.finishedWork=N,s.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Eu(s,Ra,ac);break;case 3:if(Mc(s,g),(g&130023424)===g&&(l=Lg+500-Nr(),10<l)){if(ao(s,0)!==0)break;if(N=s.suspendedLanes,(N&g)!==g){ma(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=Cf(Eu.bind(null,s,Ra,ac),l);break}Eu(s,Ra,ac);break;case 4:if(Mc(s,g),(g&4194240)===g)break;for(l=s.eventTimes,N=-1;0<g;){var G=31-bn(g);k=1<<G,G=l[G],G>N&&(N=G),g&=~k}if(g=N,g=Nr()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*_3(g/1960))-g,10<g){s.timeoutHandle=Cf(Eu.bind(null,s,Ra,ac),g);break}Eu(s,Ra,ac);break;case 5:Eu(s,Ra,ac);break;default:throw Error(r(329))}}}return Da(s,Nr()),s.callbackNode===d?w2.bind(null,s):null}function Ig(s,l){var d=Of;return s.current.memoizedState.isDehydrated&&(Tu(s,l).flags|=256),s=up(s,l),s!==2&&(l=Ra,Ra=d,l!==null&&Fg(l)),s}function Fg(s){Ra===null?Ra=s:Ra.push.apply(Ra,s)}function A3(s){for(var l=s;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var N=d[g],k=N.getSnapshot;N=N.value;try{if(!hs(k(),N))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Mc(s,l){for(l&=~Eg,l&=~sp,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var d=31-bn(l),g=1<<d;s[d]=-1,l&=~g}}function b2(s){if((Cn&6)!==0)throw Error(r(327));wd();var l=ao(s,0);if((l&1)===0)return Da(s,Nr()),null;var d=up(s,l);if(s.tag!==0&&d===2){var g=oa(s);g!==0&&(l=g,d=Ig(s,g))}if(d===1)throw d=Ff,Tu(s,0),Mc(s,l),Da(s,Nr()),d;if(d===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Eu(s,Ra,ac),Da(s,Nr()),null}function Og(s,l){var d=Cn;Cn|=1;try{return s(l)}finally{Cn=d,Cn===0&&(yd=Nr()+500,ju&&R())}}function ku(s){Fc!==null&&Fc.tag===0&&(Cn&6)===0&&wd();var l=Cn;Cn|=1;var d=xo.transition,g=he;try{if(xo.transition=null,he=1,s)return s()}finally{he=g,xo.transition=d,Cn=l,(Cn&6)===0&&R()}}function Mg(){Ya=xd.current,Ln(xd)}function Tu(s,l){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,zh(d)),ni!==null)for(d=ni.return;d!==null;){var g=d;switch(qe(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ad();break;case 3:mo(),Ln(Ki),Ln(pi),Ef();break;case 5:kf(g);break;case 4:mo();break;case 13:Ln(Qn);break;case 19:Ln(Qn);break;case 10:rs(g.type._context);break;case 22:case 23:Mg()}d=d.return}if(Ci=s,ni=s=Bc(s.current,null),qi=Ya=l,gi=0,Ff=null,Eg=sp=Pu=0,Ra=Of=null,zn!==null){for(l=0;l<zn.length;l++)if(d=zn[l],g=d.interleaved,g!==null){d.interleaved=null;var N=g.next,k=d.pending;if(k!==null){var G=k.next;k.next=N,g.next=G}d.pending=g}zn=null}return s}function N2(s,l){do{var d=ni;try{if(Sn(),od.current=Yh,Ec){for(var g=ns.memoizedState;g!==null;){var N=g.queue;N!==null&&(N.pending=null),g=g.next}Ec=!1}if(go=0,_s=Fs=ns=null,Do=!1,Lc=0,Tg.current=null,d===null||d.return===null){gi=1,Ff=l,ni=null;break}e:{var k=s,G=d.return,ge=d,_e=l;if(l=qi,ge.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var We=_e,vt=ge,bt=vt.tag;if((vt.mode&1)===0&&(bt===0||bt===11||bt===15)){var mt=vt.alternate;mt?(vt.updateQueue=mt.updateQueue,vt.memoizedState=mt.memoizedState,vt.lanes=mt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Mt=Gv(G);if(Mt!==null){Mt.flags&=-257,Kv(Mt,G,ge,k,l),Mt.mode&1&&Wv(k,We,l),l=Mt,_e=We;var Xt=l.updateQueue;if(Xt===null){var rr=new Set;rr.add(_e),l.updateQueue=rr}else Xt.add(_e);break e}else{if((l&1)===0){Wv(k,We,l),Bg();break e}_e=Error(r(426))}}else if(st&&ge.mode&1){var $s=Gv(G);if($s!==null){($s.flags&65536)===0&&($s.flags|=256),Kv($s,G,ge,k,l),kt(gd(_e,ge));break e}}k=_e=gd(_e,ge),gi!==4&&(gi=2),Of===null?Of=[k]:Of.push(k),k=G;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var Me=Vv(k,_e,l);Vn(k,Me);break e;case 1:ge=_e;var Pe=k.type,Ue=k.stateNode;if((k.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||Ue!==null&&typeof Ue.componentDidCatch=="function"&&(Ic===null||!Ic.has(Ue)))){k.flags|=65536,l&=-l,k.lanes|=l;var Ct=Hv(k,ge,l);Vn(k,Ct);break e}}k=k.return}while(k!==null)}C2(d)}catch(or){l=or,ni===d&&d!==null&&(ni=d=d.return);continue}break}while(!0)}function S2(){var s=np.current;return np.current=Yh,s===null?Yh:s}function Bg(){(gi===0||gi===3||gi===2)&&(gi=4),Ci===null||(Pu&268435455)===0&&(sp&268435455)===0||Mc(Ci,qi)}function up(s,l){var d=Cn;Cn|=2;var g=S2();(Ci!==s||qi!==l)&&(ac=null,Tu(s,l));do try{P3();break}catch(N){N2(s,N)}while(!0);if(Sn(),Cn=d,np.current=g,ni!==null)throw Error(r(261));return Ci=null,qi=0,gi}function P3(){for(;ni!==null;)j2(ni)}function k3(){for(;ni!==null&&!Yt();)j2(ni)}function j2(s){var l=P2(s.alternate,s,Ya);s.memoizedProps=s.pendingProps,l===null?C2(s):ni=l,Tg.current=null}function C2(s){var l=s;do{var d=l.alternate;if(s=l.return,(l.flags&32768)===0){if(d=b3(d,l,Ya),d!==null){ni=d;return}}else{if(d=N3(d,l),d!==null){d.flags&=32767,ni=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gi=6,ni=null;return}}if(l=l.sibling,l!==null){ni=l;return}ni=l=s}while(l!==null);gi===0&&(gi=5)}function Eu(s,l,d){var g=he,N=xo.transition;try{xo.transition=null,he=1,T3(s,l,d,g)}finally{xo.transition=N,he=g}return null}function T3(s,l,d,g){do wd();while(Fc!==null);if((Cn&6)!==0)throw Error(r(327));d=s.finishedWork;var N=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var k=d.lanes|d.childLanes;if(q(s,k),s===Ci&&(ni=Ci=null,qi=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||ap||(ap=!0,k2(ir,function(){return wd(),null})),k=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||k){k=xo.transition,xo.transition=null;var G=he;he=1;var ge=Cn;Cn|=4,Tg.current=null,j3(s,d),m2(d,s),pu(ec),jo=!!Nu,ec=Nu=null,s.current=d,C3(d),_r(),Cn=ge,he=G,xo.transition=k}else s.current=d;if(ap&&(ap=!1,Fc=s,op=N),k=s.pendingLanes,k===0&&(Ic=null),Ts(d.stateNode),Da(s,Nr()),l!==null)for(g=s.onRecoverableError,d=0;d<l.length;d++)N=l[d],g(N.value,{componentStack:N.stack,digest:N.digest});if(ip)throw ip=!1,s=Rg,Rg=null,s;return(op&1)!==0&&s.tag!==0&&wd(),k=s.pendingLanes,(k&1)!==0?s===Dg?Mf++:(Mf=0,Dg=s):Mf=0,R(),null}function wd(){if(Fc!==null){var s=De(op),l=xo.transition,d=he;try{if(xo.transition=null,he=16>s?16:s,Fc===null)var g=!1;else{if(s=Fc,Fc=null,op=0,(Cn&6)!==0)throw Error(r(331));var N=Cn;for(Cn|=4,Wt=s.current;Wt!==null;){var k=Wt,G=k.child;if((Wt.flags&16)!==0){var ge=k.deletions;if(ge!==null){for(var _e=0;_e<ge.length;_e++){var We=ge[_e];for(Wt=We;Wt!==null;){var vt=Wt;switch(vt.tag){case 0:case 11:case 15:If(8,vt,k)}var bt=vt.child;if(bt!==null)bt.return=vt,Wt=bt;else for(;Wt!==null;){vt=Wt;var mt=vt.sibling,Mt=vt.return;if(u2(vt),vt===We){Wt=null;break}if(mt!==null){mt.return=Mt,Wt=mt;break}Wt=Mt}}}var Xt=k.alternate;if(Xt!==null){var rr=Xt.child;if(rr!==null){Xt.child=null;do{var $s=rr.sibling;rr.sibling=null,rr=$s}while(rr!==null)}}Wt=k}}if((k.subtreeFlags&2064)!==0&&G!==null)G.return=k,Wt=G;else e:for(;Wt!==null;){if(k=Wt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:If(9,k,k.return)}var Me=k.sibling;if(Me!==null){Me.return=k.return,Wt=Me;break e}Wt=k.return}}var Pe=s.current;for(Wt=Pe;Wt!==null;){G=Wt;var Ue=G.child;if((G.subtreeFlags&2064)!==0&&Ue!==null)Ue.return=G,Wt=Ue;else e:for(G=Pe;Wt!==null;){if(ge=Wt,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:rp(9,ge)}}catch(or){Os(ge,ge.return,or)}if(ge===G){Wt=null;break e}var Ct=ge.sibling;if(Ct!==null){Ct.return=ge.return,Wt=Ct;break e}Wt=ge.return}}if(Cn=N,R(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(dr,s)}catch{}g=!0}return g}finally{he=d,xo.transition=l}}return!1}function _2(s,l,d){l=gd(d,l),l=Vv(s,l,1),s=js(s,l,1),l=ma(),s!==null&&(ws(s,1,l),Da(s,l))}function Os(s,l,d){if(s.tag===3)_2(s,s,d);else for(;l!==null;){if(l.tag===3){_2(l,s,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ic===null||!Ic.has(g))){s=gd(d,s),s=Hv(l,s,1),l=js(l,s,1),s=ma(),l!==null&&(ws(l,1,s),Da(l,s));break}}l=l.return}}function E3(s,l,d){var g=s.pingCache;g!==null&&g.delete(l),l=ma(),s.pingedLanes|=s.suspendedLanes&d,Ci===s&&(qi&d)===d&&(gi===4||gi===3&&(qi&130023424)===qi&&500>Nr()-Lg?Tu(s,0):Eg|=d),Da(s,l)}function A2(s,l){l===0&&((s.mode&1)===0?l=1:(l=gn,gn<<=1,(gn&130023424)===0&&(gn=4194304)));var d=ma();s=$n(s,l),s!==null&&(ws(s,l,d),Da(s,d))}function L3(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),A2(s,d)}function R3(s,l){var d=0;switch(s.tag){case 13:var g=s.stateNode,N=s.memoizedState;N!==null&&(d=N.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),A2(s,d)}var P2;P2=function(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps||Ki.current)La=!0;else{if((s.lanes&d)===0&&(l.flags&128)===0)return La=!1,w3(s,l,d);La=(s.flags&131072)!==0}else La=!1,st&&(l.flags&1048576)!==0&&Ie(l,J,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;ep(s,l),s=l.pendingProps;var N=kc(l,pi.current);gs(l,d),N=Cu(null,l,g,s,N,d);var k=vo();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Qi(g)?(k=!0,nc(l)):k=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,mi(l),N.updater=Xh,l.stateNode=N,N._reactInternals=l,gg(l,g,s,d),l=wg(null,l,g,!0,k,d)):(l.tag=0,st&&k&&Je(l),pa(null,l,N,d),l=l.child),l;case 16:g=l.elementType;e:{switch(ep(s,l),s=l.pendingProps,N=g._init,g=N(g._payload),l.type=g,N=l.tag=I3(g),s=Fo(g,s),N){case 0:l=yg(null,l,g,s,d);break e;case 1:l=e2(null,l,g,s,d);break e;case 11:l=Qv(null,l,g,s,d);break e;case 14:l=Zv(null,l,g,Fo(g.type,s),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:Fo(g,N),yg(s,l,g,N,d);case 1:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:Fo(g,N),e2(s,l,g,N,d);case 3:e:{if(t2(l),s===null)throw Error(r(387));g=l.pendingProps,k=l.memoizedState,N=k.element,Zi(s,l),ji(l,g,null,d);var G=l.memoizedState;if(g=G.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){N=gd(Error(r(423)),l),l=r2(s,l,g,d,N);break e}else if(g!==N){N=gd(Error(r(424)),l),l=r2(s,l,g,d,N);break e}else for(Xe=Mi(l.stateNode.containerInfo.firstChild),Ze=l,st=!0,lt=null,d=os(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(zt(),g===N){l=ic(s,l,d);break e}pa(s,l,g,d)}l=l.child}return l;case 5:return Wh(l),s===null&&Zt(l),g=l.type,N=l.pendingProps,k=s!==null?s.memoizedProps:null,G=N.children,jf(g,N)?G=null:k!==null&&jf(g,k)&&(l.flags|=32),Jv(s,l),pa(s,l,G,d),l.child;case 6:return s===null&&Zt(l),null;case 13:return n2(s,l,d);case 4:return Tc(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Ds(l,null,g,d):pa(s,l,g,d),l.child;case 11:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:Fo(g,N),Qv(s,l,g,N,d);case 7:return pa(s,l,l.pendingProps,d),l.child;case 8:return pa(s,l,l.pendingProps.children,d),l.child;case 12:return pa(s,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,N=l.pendingProps,k=l.memoizedProps,G=N.value,Mn(Us,g._currentValue),g._currentValue=G,k!==null)if(hs(k.value,G)){if(k.children===N.children&&!Ki.current){l=ic(s,l,d);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var ge=k.dependencies;if(ge!==null){G=k.child;for(var _e=ge.firstContext;_e!==null;){if(_e.context===g){if(k.tag===1){_e=Ss(-1,d&-d),_e.tag=2;var We=k.updateQueue;if(We!==null){We=We.shared;var vt=We.pending;vt===null?_e.next=_e:(_e.next=vt.next,vt.next=_e),We.pending=_e}}k.lanes|=d,_e=k.alternate,_e!==null&&(_e.lanes|=d),jn(k.return,d,l),ge.lanes|=d;break}_e=_e.next}}else if(k.tag===10)G=k.type===l.type?null:k.child;else if(k.tag===18){if(G=k.return,G===null)throw Error(r(341));G.lanes|=d,ge=G.alternate,ge!==null&&(ge.lanes|=d),jn(G,d,l),G=k.sibling}else G=k.child;if(G!==null)G.return=k;else for(G=k;G!==null;){if(G===l){G=null;break}if(k=G.sibling,k!==null){k.return=G.return,G=k;break}G=G.return}k=G}pa(s,l,N.children,d),l=l.child}return l;case 9:return N=l.type,g=l.pendingProps.children,gs(l,d),N=vs(N),g=g(N),l.flags|=1,pa(s,l,g,d),l.child;case 14:return g=l.type,N=Fo(g,l.pendingProps),N=Fo(g.type,N),Zv(s,l,g,N,d);case 15:return Yv(s,l,l.type,l.pendingProps,d);case 17:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:Fo(g,N),ep(s,l),l.tag=1,Qi(g)?(s=!0,nc(l)):s=!1,gs(l,d),zv(l,g,N),gg(l,g,N,d),wg(null,l,g,!0,s,d);case 19:return i2(s,l,d);case 22:return Xv(s,l,d)}throw Error(r(156,l.tag))};function k2(s,l){return Kt(s,l)}function D3(s,l,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(s,l,d,g){return new D3(s,l,d,g)}function qg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function I3(s){if(typeof s=="function")return qg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===we)return 14}return 2}function Bc(s,l){var d=s.alternate;return d===null?(d=yo(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function dp(s,l,d,g,N,k){var G=2;if(g=s,typeof s=="function")qg(s)&&(G=1);else if(typeof s=="string")G=5;else e:switch(s){case W:return Lu(d.children,N,k,l);case te:G=8,N|=8;break;case Q:return s=yo(12,d,l,N|2),s.elementType=Q,s.lanes=k,s;case X:return s=yo(13,d,l,N),s.elementType=X,s.lanes=k,s;case Y:return s=yo(19,d,l,N),s.elementType=Y,s.lanes=k,s;case xe:return fp(d,N,k,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case fe:G=10;break e;case U:G=9;break e;case F:G=11;break e;case we:G=14;break e;case ye:G=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=yo(G,d,l,N),l.elementType=s,l.type=g,l.lanes=k,l}function Lu(s,l,d,g){return s=yo(7,s,g,l),s.lanes=d,s}function fp(s,l,d,g){return s=yo(22,s,g,l),s.elementType=xe,s.lanes=d,s.stateNode={isHidden:!1},s}function Ug(s,l,d){return s=yo(6,s,null,l),s.lanes=d,s}function zg(s,l,d){return l=yo(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function F3(s,l,d,g,N){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=g,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function $g(s,l,d,g,N,k,G,ge,_e){return s=new F3(s,l,d,ge,_e),l===1?(l=1,k===!0&&(l|=8)):l=0,k=yo(3,null,null,l),s.current=k,k.stateNode=s,k.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},mi(k),s}function O3(s,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:g==null?null:""+g,children:s,containerInfo:l,implementation:d}}function T2(s){if(!s)return gl;s=s._reactInternals;e:{if(xt(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Qi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var d=s.type;if(Qi(d))return Pf(s,d,l)}return l}function E2(s,l,d,g,N,k,G,ge,_e){return s=$g(d,g,!0,s,N,k,G,ge,_e),s.context=T2(null),d=s.current,g=ma(),N=Oc(d),k=Ss(g,N),k.callback=l??null,js(d,k,N),s.current.lanes=N,ws(s,N,g),Da(s,g),s}function hp(s,l,d,g){var N=l.current,k=ma(),G=Oc(N);return d=T2(d),l.context===null?l.context=d:l.pendingContext=d,l=Ss(k,G),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=js(N,l,G),s!==null&&(Bo(s,N,G,k),Si(s,N,G)),G}function pp(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function L2(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function Vg(s,l){L2(s,l),(s=s.alternate)&&L2(s,l)}function M3(){return null}var R2=typeof reportError=="function"?reportError:function(s){console.error(s)};function Hg(s){this._internalRoot=s}mp.prototype.render=Hg.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));hp(s,l,null,null)},mp.prototype.unmount=Hg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;ku(function(){hp(null,s,null,null)}),l[bi]=null}};function mp(s){this._internalRoot=s}mp.prototype.unstable_scheduleHydration=function(s){if(s){var l=gr();s={blockedOn:null,target:s,priority:l};for(var d=0;d<$r.length&&l!==0&&l<$r[d].priority;d++);$r.splice(d,0,s),d===0&&za(s)}};function Wg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function D2(){}function B3(s,l,d,g,N){if(N){if(typeof g=="function"){var k=g;g=function(){var We=pp(G);k.call(We)}}var G=E2(l,g,s,0,null,!1,!1,"",D2);return s._reactRootContainer=G,s[bi]=G.current,Xl(s.nodeType===8?s.parentNode:s),ku(),G}for(;N=s.lastChild;)s.removeChild(N);if(typeof g=="function"){var ge=g;g=function(){var We=pp(_e);ge.call(We)}}var _e=$g(s,0,!1,null,null,!1,!1,"",D2);return s._reactRootContainer=_e,s[bi]=_e.current,Xl(s.nodeType===8?s.parentNode:s),ku(function(){hp(l,_e,d,g)}),_e}function vp(s,l,d,g,N){var k=d._reactRootContainer;if(k){var G=k;if(typeof N=="function"){var ge=N;N=function(){var _e=pp(G);ge.call(_e)}}hp(l,G,s,N)}else G=B3(d,l,s,N,g);return pp(G)}Se=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var d=oi(l.pendingLanes);d!==0&&(pe(l,d|1),Da(l,Nr()),(Cn&6)===0&&(yd=Nr()+500,R()))}break;case 13:ku(function(){var g=$n(s,1);if(g!==null){var N=ma();Bo(g,s,1,N)}}),Vg(s,1)}},cr=function(s){if(s.tag===13){var l=$n(s,134217728);if(l!==null){var d=ma();Bo(l,s,134217728,d)}Vg(s,134217728)}},es=function(s){if(s.tag===13){var l=Oc(s),d=$n(s,l);if(d!==null){var g=ma();Bo(d,s,l,g)}Vg(s,l)}},gr=function(){return he},Wn=function(s,l){var d=he;try{return he=s,l()}finally{he=d}},mr=function(s,l,d){switch(l){case"input":if(Ve(s,d),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==s&&g.form===s.form){var N=Su(g);if(!N)throw Error(r(90));at(g),Ve(g,N)}}}break;case"textarea":Fe(s,d);break;case"select":l=d.value,l!=null&&_t(s,!!d.multiple,l,!1)}},Rn=Og,ii=ku;var q3={usingClientEntryPoint:!1,Events:[Pc,tc,Su,hr,Jn,Og]},Bf={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U3={bundleType:Bf.bundleType,version:Bf.version,rendererPackageName:Bf.rendererPackageName,rendererConfig:Bf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Lt(s),s===null?null:s.stateNode},findFiberByHostInstance:Bf.findFiberByHostInstance||M3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{dr=xp.inject(U3),Jr=xp}catch{}}return Ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q3,Ia.createPortal=function(s,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wg(l))throw Error(r(200));return O3(s,l,null,d)},Ia.createRoot=function(s,l){if(!Wg(s))throw Error(r(299));var d=!1,g="",N=R2;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=$g(s,1,!1,null,null,d,!1,g,N),s[bi]=l.current,Xl(s.nodeType===8?s.parentNode:s),new Hg(l)},Ia.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Lt(l),s=s===null?null:s.stateNode,s},Ia.flushSync=function(s){return ku(s)},Ia.hydrate=function(s,l,d){if(!gp(l))throw Error(r(200));return vp(null,s,l,!0,d)},Ia.hydrateRoot=function(s,l,d){if(!Wg(s))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,N=!1,k="",G=R2;if(d!=null&&(d.unstable_strictMode===!0&&(N=!0),d.identifierPrefix!==void 0&&(k=d.identifierPrefix),d.onRecoverableError!==void 0&&(G=d.onRecoverableError)),l=E2(l,null,s,1,d??null,N,!1,k,G),s[bi]=l.current,Xl(s),g)for(s=0;s<g.length;s++)d=g[s],N=d._getVersion,N=N(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,N]:l.mutableSourceEagerHydrationData.push(d,N);return new mp(l)},Ia.render=function(s,l,d){if(!gp(l))throw Error(r(200));return vp(null,s,l,!1,d)},Ia.unmountComponentAtNode=function(s){if(!gp(s))throw Error(r(40));return s._reactRootContainer?(ku(function(){vp(null,null,s,!1,function(){s._reactRootContainer=null,s[bi]=null})}),!0):!1},Ia.unstable_batchedUpdates=Og,Ia.unstable_renderSubtreeIntoContainer=function(s,l,d,g){if(!gp(d))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return vp(s,l,d,!1,g)},Ia.version="18.3.1-next-f1338f8080-20240426",Ia}var z2;function k5(){if(z2)return Qg.exports;z2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qg.exports=Q3(),Qg.exports}var $2;function Z3(){if($2)return yp;$2=1;var t=k5();return yp.createRoot=t.createRoot,yp.hydrateRoot=t.hydrateRoot,yp}var Y3=Z3();function X3(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,a,o,u=[],c="",f=t.split("/");for(f[0]||f.shift();a=f.shift();)r=a[0],r==="*"?(u.push(r),c+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),o=a.indexOf(".",1),u.push(a.substring(1,~n?n:~o?o:a.length)),c+=~n&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(c+=(~n?"?":"")+"\\"+a.substring(o))):c+="/"+a;return{keys:u,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}var L=Tm();const xr=P5(L),T5=$3({__proto__:null,default:xr},[L]);var Xg={exports:{}},Jg={};var V2;function J3(){if(V2)return Jg;V2=1;var t=Tm();function e(w,A){return w===A&&(w!==0||1/w===1/A)||w!==w&&A!==A}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(w,A){var y=A(),D=n({inst:{value:y,getSnapshot:A}}),S=D[0].inst,E=D[1];return o(function(){S.value=y,S.getSnapshot=A,f(S)&&E({inst:S})},[w,y,A]),a(function(){return f(S)&&E({inst:S}),w(function(){f(S)&&E({inst:S})})},[w]),u(y),y}function f(w){var A=w.getSnapshot;w=w.value;try{var y=A();return!r(w,y)}catch{return!0}}function p(w,A){return A()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return Jg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Jg}var H2;function ej(){return H2||(H2=1,Xg.exports=J3()),Xg.exports}var tj=ej();const rj=T5.useInsertionEffect,nj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E5=nj?L.useLayoutEffect:L.useEffect,sj=rj||E5,I1=t=>{const e=L.useRef([t,(...r)=>e[0](...r)]).current;return sj(()=>{e[0]=t}),e[1]},ij="popstate",F1="pushState",O1="replaceState",aj="hashchange",W2=[ij,F1,O1,aj],oj=t=>{for(const e of W2)addEventListener(e,t);return()=>{for(const e of W2)removeEventListener(e,t)}},L5=(t,e)=>tj.useSyncExternalStore(oj,t,e),lj=()=>location.search,cj=({ssrSearch:t=""}={})=>L5(lj,()=>t),G2=()=>location.pathname,uj=({ssrPath:t}={})=>L5(G2,t?()=>t:G2),dj=(t,{replace:e=!1,state:r=null}={})=>history[e?O1:F1](r,"",t),fj=(t={})=>[uj(t),dj],K2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[K2]>"u"){for(const t of[F1,O1]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,K2,{value:!0})}const hj=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",R5=(t="")=>t==="/"?"":t,pj=(t,e)=>t[0]==="~"?t.slice(1):R5(e)+t,mj=(t="",e)=>hj(Q2(R5(t)),Q2(e)),Q2=t=>{try{return decodeURI(t)}catch{return t}},D5={hook:fj,searchHook:cj,parser:X3,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},I5=L.createContext(D5),Ph=()=>L.useContext(I5),F5={},O5=L.createContext(F5),Qu=()=>L.useContext(O5),Em=t=>{const[e,r]=t.hook(t);return[mj(t.base,e),I1((n,a)=>r(pj(n,t.base),a))]},Ma=()=>Em(Ph()),M5=(t,e,r,n)=>{const{pattern:a,keys:o}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),u=a.exec(r)||[],[c,...f]=u;return c!==void 0?[!0,(()=>{const p=o!==!1?Object.fromEntries(o.map((w,A)=>[w,f[A]])):u.groups;let m={...f};return p&&Object.assign(m,p),m})(),...n?[c]:[]]:[!1,null]},gj=({children:t,...e})=>{const r=Ph(),n=e.hook?D5:r;let a=n;const[o,u]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=u,e.ssrPath=o),e.hrefs=e.hrefs??e.hook?.hrefs;let c=L.useRef({}),f=c.current,p=f;for(let m in n){const w=m==="base"?n[m]+(e[m]||""):e[m]||n[m];f===p&&w!==p[m]&&(c.current=p={...p}),p[m]=w,w!==n[m]&&(a=p)}return L.createElement(I5.Provider,{value:a,children:t})},Z2=({children:t,component:e},r)=>e?L.createElement(e,{params:r}):typeof t=="function"?t(r):t,vj=t=>{let e=L.useRef(F5),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Ai=({path:t,nest:e,match:r,...n})=>{const a=Ph(),[o]=Em(a),[u,c,f]=r??M5(a.parser,t,o,e),p=vj({...Qu(),...c});if(!u)return null;const m=f?L.createElement(gj,{base:f},Z2(n,p)):Z2(n,p);return L.createElement(O5.Provider,{value:p,children:m})},B5=L.forwardRef((t,e)=>{const r=Ph(),[n,a]=Em(r),{to:o="",href:u=o,onClick:c,asChild:f,children:p,className:m,replace:w,state:A,...y}=t,D=I1(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(c?.(E),E.defaultPrevented||(E.preventDefault(),a(u,t)))}),S=r.hrefs(u[0]==="~"?u.slice(1):r.base+u,r);return f&&L.isValidElement(p)?L.cloneElement(p,{onClick:D,href:S}):L.createElement("a",{...y,onClick:D,href:S,className:m?.call?m(n===u):m,children:p,ref:e})}),q5=t=>Array.isArray(t)?t.flatMap(e=>q5(e&&e.type===L.Fragment?e.props.children:e)):[t],xj=({children:t,location:e})=>{const r=Ph(),[n]=Em(r);for(const a of q5(t)){let o=0;if(L.isValidElement(a)&&(o=M5(r.parser,a.props.path,e||n,a.props.nest))[0])return L.cloneElement(a,{match:o})}return null},yj=t=>{const{to:e,href:r=e}=t,[,n]=Ma(),a=I1(()=>n(e||r,t));return E5(()=>{a()},[]),null};var rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mu=typeof window>"u"||"Deno"in globalThis;function wo(){}function wj(t,e){return typeof t=="function"?t(e):t}function z0(t){return typeof t=="number"&&t>=0&&t!==1/0}function U5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Fd(t,e){return typeof t=="function"?t(e):t}function $o(t,e){return typeof t=="function"?t(e):t}function Y2(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:u,stale:c}=t;if(u){if(n){if(e.queryHash!==M1(u,e.options))return!1}else if(!sh(e.queryKey,u))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||o&&!o(e))}function X2(t,e){const{exact:r,status:n,predicate:a,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Bu(e.options.mutationKey)!==Bu(o))return!1}else if(!sh(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function M1(t,e){return(e?.queryKeyHashFn||Bu)(t)}function Bu(t){return JSON.stringify(t,(e,r)=>$0(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function sh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!sh(t[r],e[r])):!1}function z5(t,e){if(t===e)return t;const r=J2(t)&&J2(e);if(r||$0(t)&&$0(e)){const n=r?t:Object.keys(t),a=n.length,o=r?e:Object.keys(e),u=o.length,c=r?[]:{};let f=0;for(let p=0;p<u;p++){const m=r?p:o[p];(!r&&n.includes(m)||r)&&t[m]===void 0&&e[m]===void 0?(c[m]=void 0,f++):(c[m]=z5(t[m],e[m]),c[m]===t[m]&&t[m]!==void 0&&f++)}return a===u&&f===a?t:c}return e}function tm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function J2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $0(t){if(!ex(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ex(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ex(t){return Object.prototype.toString.call(t)==="[object Object]"}function bj(t){return new Promise(e=>{setTimeout(e,t)})}function V0(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?z5(t,e):e}function Nj(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Sj(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var B1=Symbol();function $5(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===B1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jj=class extends rf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Mu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},q1=new jj,Cj=class extends rf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Mu&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},rm=new Cj;function H0(){let t,e;const r=new Promise((a,o)=>{t=a,e=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function _j(t){return Math.min(1e3*2**t,3e4)}function V5(t){return(t??"online")==="online"?rm.isOnline():!0}var H5=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function e0(t){return t instanceof H5}function W5(t){let e=!1,r=0,n=!1,a;const o=H0(),u=S=>{n||(A(new H5(S)),t.abort?.())},c=()=>{e=!0},f=()=>{e=!1},p=()=>q1.isFocused()&&(t.networkMode==="always"||rm.isOnline())&&t.canRun(),m=()=>V5(t.networkMode)&&t.canRun(),w=S=>{n||(n=!0,t.onSuccess?.(S),a?.(),o.resolve(S))},A=S=>{n||(n=!0,t.onError?.(S),a?.(),o.reject(S))},y=()=>new Promise(S=>{a=E=>{(n||p())&&S(E)},t.onPause?.()}).then(()=>{a=void 0,n||t.onContinue?.()}),D=()=>{if(n)return;let S;const E=r===0?t.initialPromise:void 0;try{S=E??t.fn()}catch(_){S=Promise.reject(_)}Promise.resolve(S).then(w).catch(_=>{if(n)return;const O=t.retry??(Mu?0:3),T=t.retryDelay??_j,z=typeof T=="function"?T(r,_):T,ee=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,_);if(e||!ee){A(_);return}r++,t.onFail?.(r,_),bj(z).then(()=>p()?void 0:y()).then(()=>{e?A(_):D()})})};return{promise:o,cancel:u,continue:()=>(a?.(),o),cancelRetry:c,continueRetry:f,canStart:m,start:()=>(m()?D():y().then(D),o)}}function Aj(){let t=[],e=0,r=c=>{c()},n=c=>{c()},a=c=>setTimeout(c,0);const o=c=>{e?t.push(c):a(()=>{r(c)})},u=()=>{const c=t;t=[],c.length&&a(()=>{n(()=>{c.forEach(f=>{r(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||u()}return f},batchCalls:c=>(...f)=>{o(()=>{c(...f)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var xi=Aj(),G5=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z0(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Pj=class extends G5{#e;#t;#n;#r;#a;#i;constructor(t){super(),this.#i=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=kj(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const r=V0(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(wo).catch(wo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>$o(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===B1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!U5(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const c=$5(this.options,e),f={queryKey:this.queryKey,meta:this.meta};return n(f),this.#i=!1,this.options.persister?this.options.persister(c,f,this):c(f)},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const u=c=>{e0(c)&&c.silent||this.#s({type:"error",error:c}),e0(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=W5({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(f){u(f);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:u,onFail:(c,f)=>{this.#s({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...K5(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return e0(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),xi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function K5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V5(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tj=class extends rf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,a=e.queryHash??M1(n,e);let o=this.get(a);return o||(o=new Pj({cache:this,queryKey:n,queryHash:a,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Y2(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>Y2(t,r)):e}notify(t){xi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){xi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ej=class extends G5{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Q5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=W5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,a)=>{this.#r({type:"failed",failureCount:n,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:r})}const n=await this.#n.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),xi.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Q5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lj=class extends rf{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new Ej({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=wp(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=wp(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(wp(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(wp(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){xi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>X2(e,r))}findAll(t={}){return this.getAll().filter(e=>X2(t,e))}notify(t){xi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return xi.batch(()=>Promise.all(t.map(e=>e.continue().catch(wo))))}};function wp(t){return t.options.scope?.id??String(t.mutationId)}function tx(t){return{onFetch:(e,r)=>{const n=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},f=0;const p=async()=>{let m=!1;const w=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},A=$5(e.options,e.fetchOptions),y=async(D,S,E)=>{if(m)return Promise.reject();if(S==null&&D.pages.length)return Promise.resolve(D);const _={queryKey:e.queryKey,pageParam:S,direction:E?"backward":"forward",meta:e.options.meta};w(_);const O=await A(_),{maxPages:T}=e.options,z=E?Sj:Nj;return{pages:z(D.pages,O,T),pageParams:z(D.pageParams,S,T)}};if(a&&o.length){const D=a==="backward",S=D?Rj:rx,E={pages:o,pageParams:u},_=S(n,E);c=await y(E,_,D)}else{const D=t??o.length;do{const S=f===0?u[0]??n.initialPageParam:rx(n,c);if(f>0&&S==null)break;c=await y(c,S),f++}while(f<D)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=p}}}function rx(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Rj(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var Dj=class{#e;#t;#n;#r;#a;#i;#s;#o;constructor(t={}){this.#e=t.queryCache||new Tj,this.#t=t.mutationCache||new Lj,this.#n=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=q1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=rm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=this.#e.build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Fd(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,u=wj(e,o);if(u!==void 0)return this.#e.build(this,n).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return xi.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;xi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return xi.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=xi.batch(()=>this.#e.findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(wo).catch(wo)}invalidateQueries(t={},e={}){return xi.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:e?.cancelRefetch??!0},n=xi.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,r);return r.throwOnError||(o=o.catch(wo)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(wo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Fd(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wo).catch(wo)}fetchInfiniteQuery(t){return t.behavior=tx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wo).catch(wo)}ensureInfiniteQueryData(t){return t.behavior=tx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Bu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let r={};return e.forEach(n=>{sh(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){this.#a.set(Bu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let r={};return e.forEach(n=>{sh(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=M1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===B1&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ij=class extends rf{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#s=H0(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#a;#i;#s;#o;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),nx(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return W0(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return W0(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $o(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),r._defaulted&&!tm(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&sx(this.#t,n,this.options,r)&&this.#d(),this.updateResult(e),a&&(this.#t!==n||$o(this.options.enabled,this.#t)!==$o(r.enabled,this.#t)||Fd(this.options.staleTime,this.#t)!==Fd(r.staleTime,this.#t))&&this.#g();const o=this.#v();a&&(this.#t!==n||$o(this.options.enabled,this.#t)!==$o(r.enabled,this.#t)||o!==this.#l)&&this.#x(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return Oj(this,r)&&(this.#r=r,this.#i=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#N();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(wo)),e}#g(){this.#w();const t=Fd(this.options.staleTime,this.#t);if(Mu||this.#r.isStale||!z0(t))return;const r=U5(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#b(),this.#l=t,!(Mu||$o(this.options.enabled,this.#t)===!1||!z0(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||q1.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#t,n=this.options,a=this.#r,o=this.#a,u=this.#i,f=t!==r?t.state:this.#n,{state:p}=t;let m={...p},w=!1,A;if(e._optimisticResults){const W=this.hasListeners(),te=!W&&nx(t,e),Q=W&&sx(t,r,e,n);(te||Q)&&(m={...m,...K5(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:D,status:S}=m;if(e.select&&m.data!==void 0)if(a&&m.data===o?.data&&e.select===this.#m)A=this.#f;else try{this.#m=e.select,A=e.select(m.data),A=V0(a?.data,A,e),this.#f=A,this.#o=null}catch(W){this.#o=W}else A=m.data;if(e.placeholderData!==void 0&&A===void 0&&S==="pending"){let W;if(a?.isPlaceholderData&&e.placeholderData===u?.placeholderData)W=a.data;else if(W=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&W!==void 0)try{W=e.select(W),this.#o=null}catch(te){this.#o=te}W!==void 0&&(S="success",A=V0(a?.data,W,e),w=!0)}this.#o&&(y=this.#o,A=this.#f,D=Date.now(),S="error");const E=m.fetchStatus==="fetching",_=S==="pending",O=S==="error",T=_&&E,z=A!==void 0,ae={status:S,fetchStatus:m.fetchStatus,isPending:_,isSuccess:S==="success",isError:O,isInitialLoading:T,isLoading:T,data:A,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:D,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!_,isLoadingError:O&&!z,isPaused:m.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:O&&z,isStale:U1(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const W=fe=>{ae.status==="error"?fe.reject(ae.error):ae.data!==void 0&&fe.resolve(ae.data)},te=()=>{const fe=this.#s=ae.promise=H0();W(fe)},Q=this.#s;switch(Q.status){case"pending":t.queryHash===r.queryHash&&W(Q);break;case"fulfilled":(ae.status==="error"||ae.data!==Q.value)&&te();break;case"rejected":(ae.status!=="error"||ae.error!==Q.reason)&&te();break}}return ae}updateResult(t){const e=this.#r,r=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),tm(r,e))return;this.#r=r;const n={},a=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!this.#p.size)return!0;const c=new Set(u??this.#p);return this.options.throwOnError&&c.add("error"),Object.keys(this.#r).some(f=>{const p=f;return this.#r[p]!==e[p]&&c.has(p)})};t?.listeners!==!1&&a()&&(n.listeners=!0),this.#S({...n,...t})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(t){xi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Fj(t,e){return $o(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nx(t,e){return Fj(t,e)||t.state.data!==void 0&&W0(t,e,e.refetchOnMount)}function W0(t,e,r){if($o(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&U1(t,e)}return!1}function sx(t,e,r,n){return(t!==e||$o(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&U1(t,r)}function U1(t,e){return $o(e.enabled,t)!==!1&&t.isStaleByTime(Fd(e.staleTime,t))}function Oj(t,e){return!tm(t.getCurrentResult(),e)}var Mj=class extends rf{#e;#t=void 0;#n;#r;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),tm(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Bu(r.mutationKey)!==Bu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#i()}mutate(e,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){const e=this.#n?.state??Q5();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){xi.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,r,n),this.#r.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#r.onError?.(e.error,r,n),this.#r.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},Z5=L.createContext(void 0),Lm=t=>{const e=L.useContext(Z5);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bj=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Z5.Provider,{value:t,children:e})),Y5=L.createContext(!1),qj=()=>L.useContext(Y5);Y5.Provider;function Uj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zj=L.createContext(Uj()),$j=()=>L.useContext(zj);function X5(t,e){return typeof t=="function"?t(...e):!!t}function G0(){}var Vj=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Hj=t=>{L.useEffect(()=>{t.clearReset()},[t])},Wj=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&X5(r,[t.error,n]),Gj=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Kj=(t,e)=>t.isLoading&&t.isFetching&&!e,Qj=(t,e)=>t?.suspense&&e.isPending,ix=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Zj(t,e,r){const n=Lm(),a=qj(),o=$j(),u=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=a?"isRestoring":"optimistic",Gj(u),Vj(u,o),Hj(o);const c=!n.getQueryCache().get(u.queryHash),[f]=L.useState(()=>new e(n,u)),p=f.getOptimisticResult(u);if(L.useSyncExternalStore(L.useCallback(m=>{const w=a?G0:f.subscribe(xi.batchCalls(m));return f.updateResult(),w},[f,a]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),L.useEffect(()=>{f.setOptions(u,{listeners:!1})},[u,f]),Qj(u,p))throw ix(u,f,o);if(Wj({result:p,errorResetBoundary:o,throwOnError:u.throwOnError,query:n.getQueryCache().get(u.queryHash)}))throw p.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(u,p),u.experimental_prefetchInRender&&!Mu&&Kj(p,a)&&(c?ix(u,f,o):n.getQueryCache().get(u.queryHash)?.promise)?.catch(G0).finally(()=>{f.updateResult()}),u.notifyOnChangeProps?p:f.trackResult(p)}function Rr(t,e){return Zj(t,Ij)}function kn(t,e){const r=Lm(),[n]=L.useState(()=>new Mj(r,t));L.useEffect(()=>{n.setOptions(t)},[n,t]);const a=L.useSyncExternalStore(L.useCallback(u=>n.subscribe(xi.batchCalls(u)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=L.useCallback((u,c)=>{n.mutate(u,c).catch(G0)},[n]);if(a.error&&X5(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}async function J5(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Mr(t,e,r){const n=await fetch(e,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await J5(n),n}const Yj=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/revira"),{credentials:"include"});return await J5(r),await r.json()},Ur=new Dj({defaultOptions:{queries:{queryFn:Yj({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Xj=1,Jj=1e6;let t0=0;function eC(){return t0=(t0+1)%Number.MAX_SAFE_INTEGER,t0.toString()}const r0=new Map,ax=t=>{if(r0.has(t))return;const e=setTimeout(()=>{r0.delete(t),Xf({type:"REMOVE_TOAST",toastId:t})},Jj);r0.set(t,e)},tC=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Xj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ax(r):t.toasts.forEach(n=>{ax(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Bp=[];let qp={toasts:[]};function Xf(t){qp=tC(qp,t),Bp.forEach(e=>{e(qp)})}function rC({...t}){const e=eC(),r=a=>Xf({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>Xf({type:"DISMISS_TOAST",toastId:e});return Xf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function Ba(){const[t,e]=L.useState(qp);return L.useEffect(()=>(Bp.push(e),()=>{const r=Bp.indexOf(e);r>-1&&Bp.splice(r,1)}),[t]),{...t,toast:rC,dismiss:r=>Xf({type:"DISMISS_TOAST",toastId:r})}}var nf=k5();const nC=P5(nf);function Hr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}function ox(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ew(...t){return e=>{let r=!1;const n=t.map(a=>{const o=ox(a,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():ox(t[a],null)}}}}function Kn(...t){return L.useCallback(ew(...t),t)}function sC(t,e){const r=L.createContext(e),n=o=>{const{children:u,...c}=o,f=L.useMemo(()=>c,Object.values(c));return i.jsx(r.Provider,{value:f,children:u})};n.displayName=t+"Provider";function a(o){const u=L.useContext(r);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,a]}function Rl(t,e=[]){let r=[];function n(o,u){const c=L.createContext(u),f=r.length;r=[...r,u];const p=w=>{const{scope:A,children:y,...D}=w,S=A?.[t]?.[f]||c,E=L.useMemo(()=>D,Object.values(D));return i.jsx(S.Provider,{value:E,children:y})};p.displayName=o+"Provider";function m(w,A){const y=A?.[t]?.[f]||c,D=L.useContext(y);if(D)return D;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${o}\``)}return[p,m]}const a=()=>{const o=r.map(u=>L.createContext(u));return function(c){const f=c?.[t]||o;return L.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return a.scopeName=t,[n,iC(a,...e)]}function iC(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const u=n.reduce((c,{useScope:f,scopeName:p})=>{const w=f(o)[`__scope${p}`];return{...c,...w}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function Kd(t){const e=aC(t),r=L.forwardRef((n,a)=>{const{children:o,...u}=n,c=L.Children.toArray(o),f=c.find(lC);if(f){const p=f.props.children,m=c.map(w=>w===f?L.Children.count(p)>1?L.Children.only(null):L.isValidElement(p)?p.props.children:null:w);return i.jsx(e,{...u,ref:a,children:L.isValidElement(p)?L.cloneElement(p,void 0,m):null})}return i.jsx(e,{...u,ref:a,children:o})});return r.displayName=`${t}.Slot`,r}var tw=Kd("Slot");function aC(t){const e=L.forwardRef((r,n)=>{const{children:a,...o}=r;if(L.isValidElement(a)){const u=uC(a),c=cC(o,a.props);return a.type!==L.Fragment&&(c.ref=n?ew(n,u):u),L.cloneElement(a,c)}return L.Children.count(a)>1?L.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rw=Symbol("radix.slottable");function oC(t){const e=({children:r})=>i.jsx(i.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=rw,e}function lC(t){return L.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rw}function cC(t,e){const r={...e};for(const n in e){const a=t[n],o=e[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...c)=>{o(...c),a(...c)}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...t,...r}}function uC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function z1(t){const e=t+"CollectionProvider",[r,n]=Rl(e),[a,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=S=>{const{scope:E,children:_}=S,O=xr.useRef(null),T=xr.useRef(new Map).current;return i.jsx(a,{scope:E,itemMap:T,collectionRef:O,children:_})};u.displayName=e;const c=t+"CollectionSlot",f=Kd(c),p=xr.forwardRef((S,E)=>{const{scope:_,children:O}=S,T=o(c,_),z=Kn(E,T.collectionRef);return i.jsx(f,{ref:z,children:O})});p.displayName=c;const m=t+"CollectionItemSlot",w="data-radix-collection-item",A=Kd(m),y=xr.forwardRef((S,E)=>{const{scope:_,children:O,...T}=S,z=xr.useRef(null),ee=Kn(E,z),ae=o(m,_);return xr.useEffect(()=>(ae.itemMap.set(z,{ref:z,...T}),()=>{ae.itemMap.delete(z)})),i.jsx(A,{[w]:"",ref:ee,children:O})});y.displayName=m;function D(S){const E=o(t+"CollectionConsumer",S);return xr.useCallback(()=>{const O=E.collectionRef.current;if(!O)return[];const T=Array.from(O.querySelectorAll(`[${w}]`));return Array.from(E.itemMap.values()).sort((ae,W)=>T.indexOf(ae.ref.current)-T.indexOf(W.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:u,Slot:p,ItemSlot:y},D,n]}var dC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Zr=dC.reduce((t,e)=>{const r=Kd(`Primitive.${e}`),n=L.forwardRef((a,o)=>{const{asChild:u,...c}=a,f=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(f,{...c,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function nw(t,e){t&&nf.flushSync(()=>t.dispatchEvent(e))}function Oa(t){const e=L.useRef(t);return L.useEffect(()=>{e.current=t}),L.useMemo(()=>(...r)=>e.current?.(...r),[])}function fC(t,e=globalThis?.document){const r=Oa(t);L.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var hC="DismissableLayer",K0="dismissableLayer.update",pC="dismissableLayer.pointerDownOutside",mC="dismissableLayer.focusOutside",lx,sw=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kh=L.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:c,...f}=t,p=L.useContext(sw),[m,w]=L.useState(null),A=m?.ownerDocument??globalThis?.document,[,y]=L.useState({}),D=Kn(e,W=>w(W)),S=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),_=S.indexOf(E),O=m?S.indexOf(m):-1,T=p.layersWithOutsidePointerEventsDisabled.size>0,z=O>=_,ee=vC(W=>{const te=W.target,Q=[...p.branches].some(fe=>fe.contains(te));!z||Q||(a?.(W),u?.(W),W.defaultPrevented||c?.())},A),ae=xC(W=>{const te=W.target;[...p.branches].some(fe=>fe.contains(te))||(o?.(W),u?.(W),W.defaultPrevented||c?.())},A);return fC(W=>{O===p.layers.size-1&&(n?.(W),!W.defaultPrevented&&c&&(W.preventDefault(),c()))},A),L.useEffect(()=>{if(m)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(lx=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),cx(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=lx)}},[m,A,r,p]),L.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),cx())},[m,p]),L.useEffect(()=>{const W=()=>y({});return document.addEventListener(K0,W),()=>document.removeEventListener(K0,W)},[]),i.jsx(Zr.div,{...f,ref:D,style:{pointerEvents:T?z?"auto":"none":void 0,...t.style},onFocusCapture:Hr(t.onFocusCapture,ae.onFocusCapture),onBlurCapture:Hr(t.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:Hr(t.onPointerDownCapture,ee.onPointerDownCapture)})});kh.displayName=hC;var gC="DismissableLayerBranch",iw=L.forwardRef((t,e)=>{const r=L.useContext(sw),n=L.useRef(null),a=Kn(e,n);return L.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(Zr.div,{...t,ref:a})});iw.displayName=gC;function vC(t,e=globalThis?.document){const r=Oa(t),n=L.useRef(!1),a=L.useRef(()=>{});return L.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let f=function(){aw(pC,r,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);n.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function xC(t,e=globalThis?.document){const r=Oa(t),n=L.useRef(!1);return L.useEffect(()=>{const a=o=>{o.target&&!n.current&&aw(mC,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cx(){const t=new CustomEvent(K0);document.dispatchEvent(t)}function aw(t,e,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?nw(a,o):a.dispatchEvent(o)}var yC=kh,wC=iw,si=globalThis?.document?L.useLayoutEffect:()=>{},bC="Portal",Rm=L.forwardRef((t,e)=>{const{container:r,...n}=t,[a,o]=L.useState(!1);si(()=>o(!0),[]);const u=r||a&&globalThis?.document?.body;return u?nC.createPortal(i.jsx(Zr.div,{...n,ref:e}),u):null});Rm.displayName=bC;function NC(t,e){return L.useReducer((r,n)=>e[r][n]??r,t)}var cu=t=>{const{present:e,children:r}=t,n=SC(e),a=typeof r=="function"?r({present:n.isPresent}):L.Children.only(r),o=Kn(n.ref,jC(a));return typeof r=="function"||n.isPresent?L.cloneElement(a,{ref:o}):null};cu.displayName="Presence";function SC(t){const[e,r]=L.useState(),n=L.useRef({}),a=L.useRef(t),o=L.useRef("none"),u=t?"mounted":"unmounted",[c,f]=NC(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const p=bp(n.current);o.current=c==="mounted"?p:"none"},[c]),si(()=>{const p=n.current,m=a.current;if(m!==t){const A=o.current,y=bp(p);t?f("MOUNT"):y==="none"||p?.display==="none"?f("UNMOUNT"):f(m&&A!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,f]),si(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,w=y=>{const S=bp(n.current).includes(y.animationName);if(y.target===e&&S&&(f("ANIMATION_END"),!a.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},A=y=>{y.target===e&&(o.current=bp(n.current))};return e.addEventListener("animationstart",A),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",A),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:L.useCallback(p=>{p&&(n.current=getComputedStyle(p)),r(p)},[])}}function bp(t){return t?.animationName||"none"}function jC(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Jc({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,a]=CC({defaultProp:e,onChange:r}),o=t!==void 0,u=o?t:n,c=Oa(r),f=L.useCallback(p=>{if(o){const w=typeof p=="function"?p(t):p;w!==t&&c(w)}else a(p)},[o,t,a,c]);return[u,f]}function CC({defaultProp:t,onChange:e}){const r=L.useState(t),[n]=r,a=L.useRef(n),o=Oa(e);return L.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}var _C="VisuallyHidden",Th=L.forwardRef((t,e)=>i.jsx(Zr.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Th.displayName=_C;var AC=Th,$1="ToastProvider",[V1,PC,kC]=z1("Toast"),[ow]=Rl("Toast",[kC]),[TC,Dm]=ow($1),lw=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:u}=t,[c,f]=L.useState(null),[p,m]=L.useState(0),w=L.useRef(!1),A=L.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${$1}\`. Expected non-empty \`string\`.`),i.jsx(V1.Provider,{scope:e,children:i.jsx(TC,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:p,viewport:c,onViewportChange:f,onToastAdd:L.useCallback(()=>m(y=>y+1),[]),onToastRemove:L.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:A,children:u})})};lw.displayName=$1;var cw="ToastViewport",EC=["F8"],Q0="toast.viewportPause",Z0="toast.viewportResume",uw=L.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=EC,label:a="Notifications ({hotkey})",...o}=t,u=Dm(cw,r),c=PC(r),f=L.useRef(null),p=L.useRef(null),m=L.useRef(null),w=L.useRef(null),A=Kn(e,w,u.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=u.toastCount>0;L.useEffect(()=>{const E=_=>{n.length!==0&&n.every(T=>_[T]||_.code===T)&&w.current?.focus()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[n]),L.useEffect(()=>{const E=f.current,_=w.current;if(D&&E&&_){const O=()=>{if(!u.isClosePausedRef.current){const ae=new CustomEvent(Q0);_.dispatchEvent(ae),u.isClosePausedRef.current=!0}},T=()=>{if(u.isClosePausedRef.current){const ae=new CustomEvent(Z0);_.dispatchEvent(ae),u.isClosePausedRef.current=!1}},z=ae=>{!E.contains(ae.relatedTarget)&&T()},ee=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",O),E.addEventListener("focusout",z),E.addEventListener("pointermove",O),E.addEventListener("pointerleave",ee),window.addEventListener("blur",O),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",O),E.removeEventListener("focusout",z),E.removeEventListener("pointermove",O),E.removeEventListener("pointerleave",ee),window.removeEventListener("blur",O),window.removeEventListener("focus",T)}}},[D,u.isClosePausedRef]);const S=L.useCallback(({tabbingDirection:E})=>{const O=c().map(T=>{const z=T.ref.current,ee=[z,...VC(z)];return E==="forwards"?ee:ee.reverse()});return(E==="forwards"?O.reverse():O).flat()},[c]);return L.useEffect(()=>{const E=w.current;if(E){const _=O=>{const T=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!T){const ee=document.activeElement,ae=O.shiftKey;if(O.target===E&&ae){p.current?.focus();return}const Q=S({tabbingDirection:ae?"backwards":"forwards"}),fe=Q.findIndex(U=>U===ee);n0(Q.slice(fe+1))?O.preventDefault():ae?p.current?.focus():m.current?.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[c,S]),i.jsxs(wC,{ref:f,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:D?void 0:"none"},children:[D&&i.jsx(Y0,{ref:p,onFocusFromOutsideViewport:()=>{const E=S({tabbingDirection:"forwards"});n0(E)}}),i.jsx(V1.Slot,{scope:r,children:i.jsx(Zr.ol,{tabIndex:-1,...o,ref:A})}),D&&i.jsx(Y0,{ref:m,onFocusFromOutsideViewport:()=>{const E=S({tabbingDirection:"backwards"});n0(E)}})]})});uw.displayName=cw;var dw="ToastFocusProxy",Y0=L.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,o=Dm(dw,r);return i.jsx(Th,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const c=u.relatedTarget;!o.viewport?.contains(c)&&n()}})});Y0.displayName=dw;var Im="Toast",LC="toast.swipeStart",RC="toast.swipeMove",DC="toast.swipeCancel",IC="toast.swipeEnd",fw=L.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...u}=t,[c=!0,f]=Jc({prop:n,defaultProp:a,onChange:o});return i.jsx(cu,{present:r||c,children:i.jsx(MC,{open:c,...u,ref:e,onClose:()=>f(!1),onPause:Oa(t.onPause),onResume:Oa(t.onResume),onSwipeStart:Hr(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Hr(t.onSwipeMove,p=>{const{x:m,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Hr(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Hr(t.onSwipeEnd,p=>{const{x:m,y:w}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});fw.displayName=Im;var[FC,OC]=ow(Im,{onClose(){}}),MC=L.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:u,onEscapeKeyDown:c,onPause:f,onResume:p,onSwipeStart:m,onSwipeMove:w,onSwipeCancel:A,onSwipeEnd:y,...D}=t,S=Dm(Im,r),[E,_]=L.useState(null),O=Kn(e,Y=>_(Y)),T=L.useRef(null),z=L.useRef(null),ee=a||S.duration,ae=L.useRef(0),W=L.useRef(ee),te=L.useRef(0),{onToastAdd:Q,onToastRemove:fe}=S,U=Oa(()=>{E?.contains(document.activeElement)&&S.viewport?.focus(),u()}),F=L.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(te.current),ae.current=new Date().getTime(),te.current=window.setTimeout(U,Y))},[U]);L.useEffect(()=>{const Y=S.viewport;if(Y){const we=()=>{F(W.current),p?.()},ye=()=>{const xe=new Date().getTime()-ae.current;W.current=W.current-xe,window.clearTimeout(te.current),f?.()};return Y.addEventListener(Q0,ye),Y.addEventListener(Z0,we),()=>{Y.removeEventListener(Q0,ye),Y.removeEventListener(Z0,we)}}},[S.viewport,ee,f,p,F]),L.useEffect(()=>{o&&!S.isClosePausedRef.current&&F(ee)},[o,ee,S.isClosePausedRef,F]),L.useEffect(()=>(Q(),()=>fe()),[Q,fe]);const X=L.useMemo(()=>E?yw(E):null,[E]);return S.viewport?i.jsxs(i.Fragment,{children:[X&&i.jsx(BC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),i.jsx(FC,{scope:r,onClose:U,children:nf.createPortal(i.jsx(V1.ItemSlot,{scope:r,children:i.jsx(yC,{asChild:!0,onEscapeKeyDown:Hr(c,()=>{S.isFocusedToastEscapeKeyDownRef.current||U(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Zr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":S.swipeDirection,...D,ref:O,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Hr(t.onKeyDown,Y=>{Y.key==="Escape"&&(c?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:Hr(t.onPointerDown,Y=>{Y.button===0&&(T.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:Hr(t.onPointerMove,Y=>{if(!T.current)return;const we=Y.clientX-T.current.x,ye=Y.clientY-T.current.y,xe=!!z.current,se=["left","right"].includes(S.swipeDirection),me=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,I=se?me(0,we):0,j=se?0:me(0,ye),x=Y.pointerType==="touch"?10:2,C={x:I,y:j},M={originalEvent:Y,delta:C};xe?(z.current=C,Np(RC,w,M,{discrete:!1})):ux(C,S.swipeDirection,x)?(z.current=C,Np(LC,m,M,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(we)>x||Math.abs(ye)>x)&&(T.current=null)}),onPointerUp:Hr(t.onPointerUp,Y=>{const we=z.current,ye=Y.target;if(ye.hasPointerCapture(Y.pointerId)&&ye.releasePointerCapture(Y.pointerId),z.current=null,T.current=null,we){const xe=Y.currentTarget,se={originalEvent:Y,delta:we};ux(we,S.swipeDirection,S.swipeThreshold)?Np(IC,y,se,{discrete:!0}):Np(DC,A,se,{discrete:!0}),xe.addEventListener("click",me=>me.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),BC=t=>{const{__scopeToast:e,children:r,...n}=t,a=Dm(Im,e),[o,u]=L.useState(!1),[c,f]=L.useState(!1);return zC(()=>u(!0)),L.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),c?null:i.jsx(Rm,{asChild:!0,children:i.jsx(Th,{...n,children:o&&i.jsxs(i.Fragment,{children:[a.label," ",r]})})})},qC="ToastTitle",hw=L.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Zr.div,{...n,ref:e})});hw.displayName=qC;var UC="ToastDescription",pw=L.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(Zr.div,{...n,ref:e})});pw.displayName=UC;var mw="ToastAction",gw=L.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(xw,{altText:r,asChild:!0,children:i.jsx(H1,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mw}\`. Expected non-empty \`string\`.`),null)});gw.displayName=mw;var vw="ToastClose",H1=L.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=OC(vw,r);return i.jsx(xw,{asChild:!0,children:i.jsx(Zr.button,{type:"button",...n,ref:e,onClick:Hr(t.onClick,a.onClose)})})});H1.displayName=vw;var xw=L.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return i.jsx(Zr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function yw(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),$C(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const u=n.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...yw(n))}}),e}function Np(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?nw(a,o):a.dispatchEvent(o)}var ux=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),o=n>a;return e==="left"||e==="right"?o&&n>r:!o&&a>r};function zC(t=()=>{}){const e=Oa(t);si(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function $C(t){return t.nodeType===t.ELEMENT_NODE}function VC(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function n0(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var HC=lw,ww=uw,bw=fw,Nw=hw,Sw=pw,jw=gw,Cw=H1;function _w(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=_w(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Aw(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=_w(t))&&(n&&(n+=" "),n+=e);return n}const dx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fx=Aw,Fm=(t,e)=>r=>{var n;if(e?.variants==null)return fx(t,r?.class,r?.className);const{variants:a,defaultVariants:o}=e,u=Object.keys(a).map(p=>{const m=r?.[p],w=o?.[p];if(m===null)return null;const A=dx(m)||dx(w);return a[p][A]}),c=r&&Object.entries(r).reduce((p,m)=>{let[w,A]=m;return A===void 0||(p[w]=A),p},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,m)=>{let{class:w,className:A,...y}=m;return Object.entries(y).every(D=>{let[S,E]=D;return Array.isArray(E)?E.includes({...o,...c}[S]):{...o,...c}[S]===E})?[...p,w,A]:p},[]);return fx(t,u,f,r?.class,r?.className)};const WC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pw=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var GC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KC=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:u,...c},f)=>L.createElement("svg",{ref:f,...GC,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Pw("lucide",a),...c},[...u.map(([p,m])=>L.createElement(p,m)),...Array.isArray(o)?o:[o]]));const kr=(t,e)=>{const r=L.forwardRef(({className:n,...a},o)=>L.createElement(KC,{ref:o,iconNode:e,className:Pw(`lucide-${WC(t)}`,n),...a}));return r.displayName=`${t}`,r};const sf=kr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const QC=kr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const ZC=kr("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const YC=kr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const hx=kr("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const W1=kr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const XC=kr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Rd=kr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Od=kr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Up=kr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const JC=kr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const X0=kr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const ih=kr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const J0=kr("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);const Eh=kr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Om=kr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Uc=kr("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);const xa=kr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const nm=kr("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);const kw=kr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const px=kr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const e_=kr("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);const sm=kr("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);const t_=kr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const e1=kr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const r_=kr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Lh=kr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const eu=kr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const n_=kr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const s_=kr("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const t1=kr("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Xa=kr("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const qu=kr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Tw=kr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const ki=kr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const r1=kr("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const af=kr("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const i_=kr("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const G1=kr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const a_=kr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const o_=kr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const l_=kr("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]);const mn=kr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const c_=kr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const u_=kr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const zc=kr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const d_=kr("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const ah=kr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const f_=kr("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const of=kr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),K1="-",h_=t=>{const e=m_(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:u=>{const c=u.split(K1);return c[0]===""&&c.length!==1&&c.shift(),Ew(c,e)||p_(u)},getConflictingClassGroupIds:(u,c)=>{const f=r[u]||[];return c&&n[u]?[...f,...n[u]]:f}}},Ew=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?Ew(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const o=t.join(K1);return e.validators.find(({validator:u})=>u(o))?.classGroupId},mx=/^\[(.+)\]$/,p_=t=>{if(mx.test(t)){const e=mx.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},m_=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return v_(Object.entries(t.classGroups),r).forEach(([o,u])=>{n1(u,n,o,e)}),n},n1=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?e:gx(e,a);o.classGroupId=r;return}if(typeof a=="function"){if(g_(a)){n1(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,u])=>{n1(u,gx(e,o),r,n)})})},gx=(t,e)=>{let r=t;return e.split(K1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g_=t=>t.isThemeGetter,v_=(t,e)=>e?t.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([u,c])=>[e+u,c])):o);return[r,a]}):t,x_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(o,u)=>{r.set(o,u),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let u=r.get(o);if(u!==void 0)return u;if((u=n.get(o))!==void 0)return a(o,u),u},set(o,u){r.has(o)?r.set(o,u):a(o,u)}}},Lw="!",y_=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],o=e.length,u=c=>{const f=[];let p=0,m=0,w;for(let E=0;E<c.length;E++){let _=c[E];if(p===0){if(_===a&&(n||c.slice(E,E+o)===e)){f.push(c.slice(m,E)),m=E+o;continue}if(_==="/"){w=E;continue}}_==="["?p++:_==="]"&&p--}const A=f.length===0?c:c.substring(m),y=A.startsWith(Lw),D=y?A.substring(1):A,S=w&&w>m?w-m:void 0;return{modifiers:f,hasImportantModifier:y,baseClassName:D,maybePostfixModifierPosition:S}};return r?c=>r({className:c,parseClassName:u}):u},w_=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},b_=t=>({cache:x_(t.cacheSize),parseClassName:y_(t),...h_(t)}),N_=/\s+/,S_=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,o=[],u=t.trim().split(N_);let c="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:m,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:y}=r(p);let D=!!y,S=n(D?A.substring(0,y):A);if(!S){if(!D){c=p+(c.length>0?" "+c:c);continue}if(S=n(A),!S){c=p+(c.length>0?" "+c:c);continue}D=!1}const E=w_(m).join(":"),_=w?E+Lw:E,O=_+S;if(o.includes(O))continue;o.push(O);const T=a(S,D);for(let z=0;z<T.length;++z){const ee=T[z];o.push(_+ee)}c=p+(c.length>0?" "+c:c)}return c};function j_(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Rw(e))&&(n&&(n+=" "),n+=r);return n}const Rw=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Rw(t[n]))&&(r&&(r+=" "),r+=e);return r};function C_(t,...e){let r,n,a,o=u;function u(f){const p=e.reduce((m,w)=>w(m),t());return r=b_(p),n=r.cache.get,a=r.cache.set,o=c,c(f)}function c(f){const p=n(f);if(p)return p;const m=S_(f,r);return a(f,m),m}return function(){return o(j_.apply(null,arguments))}}const ls=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Dw=/^\[(?:([a-z-]+):)?(.+)\]$/i,__=/^\d+\/\d+$/,A_=new Set(["px","full","screen"]),P_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oc=t=>Md(t)||A_.has(t)||__.test(t),$c=t=>lf(t,"length",q_),Md=t=>!!t&&!Number.isNaN(Number(t)),s0=t=>lf(t,"number",Md),Uf=t=>!!t&&Number.isInteger(Number(t)),R_=t=>t.endsWith("%")&&Md(t.slice(0,-1)),en=t=>Dw.test(t),Vc=t=>P_.test(t),D_=new Set(["length","size","percentage"]),I_=t=>lf(t,D_,Iw),F_=t=>lf(t,"position",Iw),O_=new Set(["image","url"]),M_=t=>lf(t,O_,z_),B_=t=>lf(t,"",U_),zf=()=>!0,lf=(t,e,r)=>{const n=Dw.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},q_=t=>k_.test(t)&&!T_.test(t),Iw=()=>!1,U_=t=>E_.test(t),z_=t=>L_.test(t),$_=()=>{const t=ls("colors"),e=ls("spacing"),r=ls("blur"),n=ls("brightness"),a=ls("borderColor"),o=ls("borderRadius"),u=ls("borderSpacing"),c=ls("borderWidth"),f=ls("contrast"),p=ls("grayscale"),m=ls("hueRotate"),w=ls("invert"),A=ls("gap"),y=ls("gradientColorStops"),D=ls("gradientColorStopPositions"),S=ls("inset"),E=ls("margin"),_=ls("opacity"),O=ls("padding"),T=ls("saturate"),z=ls("scale"),ee=ls("sepia"),ae=ls("skew"),W=ls("space"),te=ls("translate"),Q=()=>["auto","contain","none"],fe=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",en,e],F=()=>[en,e],X=()=>["",oc,$c],Y=()=>["auto",Md,en],we=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ye=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",en],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[Md,en];return{cacheSize:500,separator:":",theme:{colors:[zf],spacing:[oc,$c],blur:["none","",Vc,en],brightness:j(),borderColor:[t],borderRadius:["none","","full",Vc,en],borderSpacing:F(),borderWidth:X(),contrast:j(),grayscale:me(),hueRotate:j(),invert:me(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[R_,$c],inset:U(),margin:U(),opacity:j(),padding:F(),saturate:j(),scale:j(),sepia:me(),skew:j(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",en]}],container:["container"],columns:[{columns:[Vc]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...we(),en]}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uf,en]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",en]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Uf,en]}],"grid-cols":[{"grid-cols":[zf]}],"col-start-end":[{col:["auto",{span:["full",Uf,en]},en]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[zf]}],"row-start-end":[{row:["auto",{span:[Uf,en]},en]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",en]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",en]}],gap:[{gap:[A]}],"gap-x":[{"gap-x":[A]}],"gap-y":[{"gap-y":[A]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",en,e]}],"min-w":[{"min-w":[en,e,"min","max","fit"]}],"max-w":[{"max-w":[en,e,"none","full","min","max","fit","prose",{screen:[Vc]},Vc]}],h:[{h:[en,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[en,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[en,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Vc,$c]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",s0]}],"font-family":[{font:[zf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",en]}],"line-clamp":[{"line-clamp":["none",Md,s0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oc,en]}],"list-image":[{"list-image":["none",en]}],"list-style-type":[{list:["none","disc","decimal",en]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oc,$c]}],"underline-offset":[{"underline-offset":["auto",oc,en]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",en]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",en]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...we(),F_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M_]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[D]}],"gradient-via-pos":[{via:[D]}],"gradient-to-pos":[{to:[D]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ye(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ye()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...ye()]}],"outline-offset":[{"outline-offset":[oc,en]}],"outline-w":[{outline:[oc,$c]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[oc,$c]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vc,B_]}],"shadow-color":[{shadow:[zf]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Vc,en]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[w]}],saturate:[{saturate:[T]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",en]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",en]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",en]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Uf,en]}],"translate-x":[{"translate-x":[te]}],"translate-y":[{"translate-y":[te]}],"skew-x":[{"skew-x":[ae]}],"skew-y":[{"skew-y":[ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",en]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",en]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",en]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[oc,$c,s0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V_=C_($_);function zr(...t){return V_(Aw(t))}const H_=HC,Fw=L.forwardRef(({className:t,...e},r)=>i.jsx(ww,{ref:r,className:zr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Fw.displayName=ww.displayName;const W_=Fm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ow=L.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(bw,{ref:n,className:zr(W_({variant:e}),t),...r}));Ow.displayName=bw.displayName;const G_=L.forwardRef(({className:t,...e},r)=>i.jsx(jw,{ref:r,className:zr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));G_.displayName=jw.displayName;const Mw=L.forwardRef(({className:t,...e},r)=>i.jsx(Cw,{ref:r,className:zr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(of,{className:"h-4 w-4"})}));Mw.displayName=Cw.displayName;const Bw=L.forwardRef(({className:t,...e},r)=>i.jsx(Nw,{ref:r,className:zr("text-sm font-semibold",t),...e}));Bw.displayName=Nw.displayName;const qw=L.forwardRef(({className:t,...e},r)=>i.jsx(Sw,{ref:r,className:zr("text-sm opacity-90",t),...e}));qw.displayName=Sw.displayName;function K_(){const{toasts:t}=Ba();return i.jsxs(H_,{children:[t.map(function({id:e,title:r,description:n,action:a,...o}){return i.jsxs(Ow,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Bw,{children:r}),n&&i.jsx(qw,{children:n})]}),a,i.jsx(Mw,{})]},e)}),i.jsx(Fw,{})]})}var Q_=T5[" useId ".trim().toString()]||(()=>{}),Z_=0;function Yc(t){const[e,r]=L.useState(Q_());return si(()=>{r(n=>n??String(Z_++))},[t]),e?`radix-${e}`:""}const Y_=["top","right","bottom","left"],tu=Math.min,to=Math.max,im=Math.round,Sp=Math.floor,_l=t=>({x:t,y:t}),X_={left:"right",right:"left",bottom:"top",top:"bottom"},J_={start:"end",end:"start"};function s1(t,e,r){return to(t,tu(e,r))}function pc(t,e){return typeof t=="function"?t(e):t}function mc(t){return t.split("-")[0]}function cf(t){return t.split("-")[1]}function Q1(t){return t==="x"?"y":"x"}function Z1(t){return t==="y"?"height":"width"}function ru(t){return["top","bottom"].includes(mc(t))?"y":"x"}function Y1(t){return Q1(ru(t))}function eA(t,e,r){r===void 0&&(r=!1);const n=cf(t),a=Y1(t),o=Z1(a);let u=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=am(u)),[u,am(u)]}function tA(t){const e=am(t);return[i1(t),e,i1(e)]}function i1(t){return t.replace(/start|end/g,e=>J_[e])}function rA(t,e,r){const n=["left","right"],a=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?o:u;default:return[]}}function nA(t,e,r,n){const a=cf(t);let o=rA(mc(t),r==="start",n);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(i1)))),o}function am(t){return t.replace(/left|right|bottom|top/g,e=>X_[e])}function sA(t){return{top:0,right:0,bottom:0,left:0,...t}}function Uw(t){return typeof t!="number"?sA(t):{top:t,right:t,bottom:t,left:t}}function om(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function vx(t,e,r){let{reference:n,floating:a}=t;const o=ru(e),u=Y1(e),c=Z1(u),f=mc(e),p=o==="y",m=n.x+n.width/2-a.width/2,w=n.y+n.height/2-a.height/2,A=n[c]/2-a[c]/2;let y;switch(f){case"top":y={x:m,y:n.y-a.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:w};break;case"left":y={x:n.x-a.width,y:w};break;default:y={x:n.x,y:n.y}}switch(cf(e)){case"start":y[u]-=A*(r&&p?-1:1);break;case"end":y[u]+=A*(r&&p?-1:1);break}return y}const iA=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:u}=r,c=o.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:m,y:w}=vx(p,n,f),A=n,y={},D=0;for(let S=0;S<c.length;S++){const{name:E,fn:_}=c[S],{x:O,y:T,data:z,reset:ee}=await _({x:m,y:w,initialPlacement:n,placement:A,strategy:a,middlewareData:y,rects:p,platform:u,elements:{reference:t,floating:e}});m=O??m,w=T??w,y={...y,[E]:{...y[E],...z}},ee&&D<=50&&(D++,typeof ee=="object"&&(ee.placement&&(A=ee.placement),ee.rects&&(p=ee.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):ee.rects),{x:m,y:w}=vx(p,A,f)),S=-1)}return{x:m,y:w,placement:A,strategy:a,middlewareData:y}};async function oh(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:o,rects:u,elements:c,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:w="floating",altBoundary:A=!1,padding:y=0}=pc(e,t),D=Uw(y),E=c[A?w==="floating"?"reference":"floating":w],_=om(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(E)))==null||r?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:m,strategy:f})),O=w==="floating"?{x:n,y:a,width:u.floating.width,height:u.floating.height}:u.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),z=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},ee=om(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:T,strategy:f}):O);return{top:(_.top-ee.top+D.top)/z.y,bottom:(ee.bottom-_.bottom+D.bottom)/z.y,left:(_.left-ee.left+D.left)/z.x,right:(ee.right-_.right+D.right)/z.x}}const aA=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:o,platform:u,elements:c,middlewareData:f}=e,{element:p,padding:m=0}=pc(t,e)||{};if(p==null)return{};const w=Uw(m),A={x:r,y:n},y=Y1(a),D=Z1(y),S=await u.getDimensions(p),E=y==="y",_=E?"top":"left",O=E?"bottom":"right",T=E?"clientHeight":"clientWidth",z=o.reference[D]+o.reference[y]-A[y]-o.floating[D],ee=A[y]-o.reference[y],ae=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let W=ae?ae[T]:0;(!W||!await(u.isElement==null?void 0:u.isElement(ae)))&&(W=c.floating[T]||o.floating[D]);const te=z/2-ee/2,Q=W/2-S[D]/2-1,fe=tu(w[_],Q),U=tu(w[O],Q),F=fe,X=W-S[D]-U,Y=W/2-S[D]/2+te,we=s1(F,Y,X),ye=!f.arrow&&cf(a)!=null&&Y!==we&&o.reference[D]/2-(Y<F?fe:U)-S[D]/2<0,xe=ye?Y<F?Y-F:Y-X:0;return{[y]:A[y]+xe,data:{[y]:we,centerOffset:Y-we-xe,...ye&&{alignmentOffset:xe}},reset:ye}}}),oA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:o,rects:u,initialPlacement:c,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:w=!0,fallbackPlacements:A,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:S=!0,...E}=pc(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const _=mc(a),O=ru(c),T=mc(c)===c,z=await(f.isRTL==null?void 0:f.isRTL(p.floating)),ee=A||(T||!S?[am(c)]:tA(c)),ae=D!=="none";!A&&ae&&ee.push(...nA(c,S,D,z));const W=[c,...ee],te=await oh(e,E),Q=[];let fe=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&Q.push(te[_]),w){const Y=eA(a,u,z);Q.push(te[Y[0]],te[Y[1]])}if(fe=[...fe,{placement:a,overflows:Q}],!Q.every(Y=>Y<=0)){var U,F;const Y=(((U=o.flip)==null?void 0:U.index)||0)+1,we=W[Y];if(we)return{data:{index:Y,overflows:fe},reset:{placement:we}};let ye=(F=fe.filter(xe=>xe.overflows[0]<=0).sort((xe,se)=>xe.overflows[1]-se.overflows[1])[0])==null?void 0:F.placement;if(!ye)switch(y){case"bestFit":{var X;const xe=(X=fe.filter(se=>{if(ae){const me=ru(se.placement);return me===O||me==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(me=>me>0).reduce((me,I)=>me+I,0)]).sort((se,me)=>se[1]-me[1])[0])==null?void 0:X[0];xe&&(ye=xe);break}case"initialPlacement":ye=c;break}if(a!==ye)return{reset:{placement:ye}}}return{}}}};function xx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yx(t){return Y_.some(e=>t[e]>=0)}const lA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=pc(t,e);switch(n){case"referenceHidden":{const o=await oh(e,{...a,elementContext:"reference"}),u=xx(o,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:yx(u)}}}case"escaped":{const o=await oh(e,{...a,altBoundary:!0}),u=xx(o,r.floating);return{data:{escapedOffsets:u,escaped:yx(u)}}}default:return{}}}}};async function cA(t,e){const{placement:r,platform:n,elements:a}=t,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),u=mc(r),c=cf(r),f=ru(r)==="y",p=["left","top"].includes(u)?-1:1,m=o&&f?-1:1,w=pc(e,t);let{mainAxis:A,crossAxis:y,alignmentAxis:D}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return c&&typeof D=="number"&&(y=c==="end"?D*-1:D),f?{x:y*m,y:A*p}:{x:A*p,y:y*m}}const uA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:o,placement:u,middlewareData:c}=e,f=await cA(e,t);return u===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+f.x,y:o+f.y,data:{...f,placement:u}}}}},dA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:c={fn:E=>{let{x:_,y:O}=E;return{x:_,y:O}}},...f}=pc(t,e),p={x:r,y:n},m=await oh(e,f),w=ru(mc(a)),A=Q1(w);let y=p[A],D=p[w];if(o){const E=A==="y"?"top":"left",_=A==="y"?"bottom":"right",O=y+m[E],T=y-m[_];y=s1(O,y,T)}if(u){const E=w==="y"?"top":"left",_=w==="y"?"bottom":"right",O=D+m[E],T=D-m[_];D=s1(O,D,T)}const S=c.fn({...e,[A]:y,[w]:D});return{...S,data:{x:S.x-r,y:S.y-n,enabled:{[A]:o,[w]:u}}}}}},fA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:o,middlewareData:u}=e,{offset:c=0,mainAxis:f=!0,crossAxis:p=!0}=pc(t,e),m={x:r,y:n},w=ru(a),A=Q1(w);let y=m[A],D=m[w];const S=pc(c,e),E=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const T=A==="y"?"height":"width",z=o.reference[A]-o.floating[T]+E.mainAxis,ee=o.reference[A]+o.reference[T]-E.mainAxis;y<z?y=z:y>ee&&(y=ee)}if(p){var _,O;const T=A==="y"?"width":"height",z=["top","left"].includes(mc(a)),ee=o.reference[w]-o.floating[T]+(z&&((_=u.offset)==null?void 0:_[w])||0)+(z?0:E.crossAxis),ae=o.reference[w]+o.reference[T]+(z?0:((O=u.offset)==null?void 0:O[w])||0)-(z?E.crossAxis:0);D<ee?D=ee:D>ae&&(D=ae)}return{[A]:y,[w]:D}}}},hA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:o,platform:u,elements:c}=e,{apply:f=()=>{},...p}=pc(t,e),m=await oh(e,p),w=mc(a),A=cf(a),y=ru(a)==="y",{width:D,height:S}=o.floating;let E,_;w==="top"||w==="bottom"?(E=w,_=A===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(_=w,E=A==="end"?"top":"bottom");const O=S-m.top-m.bottom,T=D-m.left-m.right,z=tu(S-m[E],O),ee=tu(D-m[_],T),ae=!e.middlewareData.shift;let W=z,te=ee;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(te=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(W=O),ae&&!A){const fe=to(m.left,0),U=to(m.right,0),F=to(m.top,0),X=to(m.bottom,0);y?te=D-2*(fe!==0||U!==0?fe+U:to(m.left,m.right)):W=S-2*(F!==0||X!==0?F+X:to(m.top,m.bottom))}await f({...e,availableWidth:te,availableHeight:W});const Q=await u.getDimensions(c.floating);return D!==Q.width||S!==Q.height?{reset:{rects:!0}}:{}}}};function Mm(){return typeof window<"u"}function uf(t){return zw(t)?(t.nodeName||"").toLowerCase():"#document"}function so(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Dl(t){var e;return(e=(zw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zw(t){return Mm()?t instanceof Node||t instanceof so(t).Node:!1}function Zo(t){return Mm()?t instanceof Element||t instanceof so(t).Element:!1}function Tl(t){return Mm()?t instanceof HTMLElement||t instanceof so(t).HTMLElement:!1}function wx(t){return!Mm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof so(t).ShadowRoot}function Rh(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Yo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function pA(t){return["table","td","th"].includes(uf(t))}function Bm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function X1(t){const e=J1(),r=Zo(t)?Yo(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function mA(t){let e=nu(t);for(;Tl(e)&&!Qd(e);){if(X1(e))return e;if(Bm(e))return null;e=nu(e)}return null}function J1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qd(t){return["html","body","#document"].includes(uf(t))}function Yo(t){return so(t).getComputedStyle(t)}function qm(t){return Zo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function nu(t){if(uf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wx(t)&&t.host||Dl(t);return wx(e)?e.host:e}function $w(t){const e=nu(t);return Qd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Tl(e)&&Rh(e)?e:$w(e)}function lh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=$w(t),o=a===((n=t.ownerDocument)==null?void 0:n.body),u=so(a);if(o){const c=a1(u);return e.concat(u,u.visualViewport||[],Rh(a)?a:[],c&&r?lh(c):[])}return e.concat(a,lh(a,[],r))}function a1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Vw(t){const e=Yo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Tl(t),o=a?t.offsetWidth:r,u=a?t.offsetHeight:n,c=im(r)!==o||im(n)!==u;return c&&(r=o,n=u),{width:r,height:n,$:c}}function ev(t){return Zo(t)?t:t.contextElement}function Bd(t){const e=ev(t);if(!Tl(e))return _l(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:o}=Vw(e);let u=(o?im(r.width):r.width)/n,c=(o?im(r.height):r.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const gA=_l(0);function Hw(t){const e=so(t);return!J1()||!e.visualViewport?gA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vA(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==so(t)?!1:e}function Uu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),o=ev(t);let u=_l(1);e&&(n?Zo(n)&&(u=Bd(n)):u=Bd(t));const c=vA(o,r,n)?Hw(o):_l(0);let f=(a.left+c.x)/u.x,p=(a.top+c.y)/u.y,m=a.width/u.x,w=a.height/u.y;if(o){const A=so(o),y=n&&Zo(n)?so(n):n;let D=A,S=a1(D);for(;S&&n&&y!==D;){const E=Bd(S),_=S.getBoundingClientRect(),O=Yo(S),T=_.left+(S.clientLeft+parseFloat(O.paddingLeft))*E.x,z=_.top+(S.clientTop+parseFloat(O.paddingTop))*E.y;f*=E.x,p*=E.y,m*=E.x,w*=E.y,f+=T,p+=z,D=so(S),S=a1(D)}}return om({width:m,height:w,x:f,y:p})}function tv(t,e){const r=qm(t).scrollLeft;return e?e.left+r:Uu(Dl(t)).left+r}function Ww(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:tv(t,n)),o=n.top+e.scrollTop;return{x:a,y:o}}function xA(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const o=a==="fixed",u=Dl(n),c=e?Bm(e.floating):!1;if(n===u||c&&o)return r;let f={scrollLeft:0,scrollTop:0},p=_l(1);const m=_l(0),w=Tl(n);if((w||!w&&!o)&&((uf(n)!=="body"||Rh(u))&&(f=qm(n)),Tl(n))){const y=Uu(n);p=Bd(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const A=u&&!w&&!o?Ww(u,f,!0):_l(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-f.scrollLeft*p.x+m.x+A.x,y:r.y*p.y-f.scrollTop*p.y+m.y+A.y}}function yA(t){return Array.from(t.getClientRects())}function wA(t){const e=Dl(t),r=qm(t),n=t.ownerDocument.body,a=to(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=to(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-r.scrollLeft+tv(t);const c=-r.scrollTop;return Yo(n).direction==="rtl"&&(u+=to(e.clientWidth,n.clientWidth)-a),{width:a,height:o,x:u,y:c}}function bA(t,e){const r=so(t),n=Dl(t),a=r.visualViewport;let o=n.clientWidth,u=n.clientHeight,c=0,f=0;if(a){o=a.width,u=a.height;const p=J1();(!p||p&&e==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:o,height:u,x:c,y:f}}function NA(t,e){const r=Uu(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,o=Tl(t)?Bd(t):_l(1),u=t.clientWidth*o.x,c=t.clientHeight*o.y,f=a*o.x,p=n*o.y;return{width:u,height:c,x:f,y:p}}function bx(t,e,r){let n;if(e==="viewport")n=bA(t,r);else if(e==="document")n=wA(Dl(t));else if(Zo(e))n=NA(e,r);else{const a=Hw(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return om(n)}function Gw(t,e){const r=nu(t);return r===e||!Zo(r)||Qd(r)?!1:Yo(r).position==="fixed"||Gw(r,e)}function SA(t,e){const r=e.get(t);if(r)return r;let n=lh(t,[],!1).filter(c=>Zo(c)&&uf(c)!=="body"),a=null;const o=Yo(t).position==="fixed";let u=o?nu(t):t;for(;Zo(u)&&!Qd(u);){const c=Yo(u),f=X1(u);!f&&c.position==="fixed"&&(a=null),(o?!f&&!a:!f&&c.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Rh(u)&&!f&&Gw(t,u))?n=n.filter(m=>m!==u):a=c,u=nu(u)}return e.set(t,n),n}function jA(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const u=[...r==="clippingAncestors"?Bm(e)?[]:SA(e,this._c):[].concat(r),n],c=u[0],f=u.reduce((p,m)=>{const w=bx(e,m,a);return p.top=to(w.top,p.top),p.right=tu(w.right,p.right),p.bottom=tu(w.bottom,p.bottom),p.left=to(w.left,p.left),p},bx(e,c,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function CA(t){const{width:e,height:r}=Vw(t);return{width:e,height:r}}function _A(t,e,r){const n=Tl(e),a=Dl(e),o=r==="fixed",u=Uu(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const f=_l(0);if(n||!n&&!o)if((uf(e)!=="body"||Rh(a))&&(c=qm(e)),n){const A=Uu(e,!0,o,e);f.x=A.x+e.clientLeft,f.y=A.y+e.clientTop}else a&&(f.x=tv(a));const p=a&&!n&&!o?Ww(a,c):_l(0),m=u.left+c.scrollLeft-f.x-p.x,w=u.top+c.scrollTop-f.y-p.y;return{x:m,y:w,width:u.width,height:u.height}}function i0(t){return Yo(t).position==="static"}function Nx(t,e){if(!Tl(t)||Yo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Dl(t)===r&&(r=r.ownerDocument.body),r}function Kw(t,e){const r=so(t);if(Bm(t))return r;if(!Tl(t)){let a=nu(t);for(;a&&!Qd(a);){if(Zo(a)&&!i0(a))return a;a=nu(a)}return r}let n=Nx(t,e);for(;n&&pA(n)&&i0(n);)n=Nx(n,e);return n&&Qd(n)&&i0(n)&&!X1(n)?r:n||mA(t)||r}const AA=async function(t){const e=this.getOffsetParent||Kw,r=this.getDimensions,n=await r(t.floating);return{reference:_A(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PA(t){return Yo(t).direction==="rtl"}const kA={convertOffsetParentRelativeRectToViewportRelativeRect:xA,getDocumentElement:Dl,getClippingRect:jA,getOffsetParent:Kw,getElementRects:AA,getClientRects:yA,getDimensions:CA,getScale:Bd,isElement:Zo,isRTL:PA};function Qw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TA(t,e){let r=null,n;const a=Dl(t);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function u(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),o();const p=t.getBoundingClientRect(),{left:m,top:w,width:A,height:y}=p;if(c||e(),!A||!y)return;const D=Sp(w),S=Sp(a.clientWidth-(m+A)),E=Sp(a.clientHeight-(w+y)),_=Sp(m),T={rootMargin:-D+"px "+-S+"px "+-E+"px "+-_+"px",threshold:to(0,tu(1,f))||1};let z=!0;function ee(ae){const W=ae[0].intersectionRatio;if(W!==f){if(!z)return u();W?u(!1,W):n=setTimeout(()=>{u(!1,1e-7)},1e3)}W===1&&!Qw(p,t.getBoundingClientRect())&&u(),z=!1}try{r=new IntersectionObserver(ee,{...T,root:a.ownerDocument})}catch{r=new IntersectionObserver(ee,T)}r.observe(t)}return u(!0),o}function EA(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,p=ev(t),m=a||o?[...p?lh(p):[],...lh(e)]:[];m.forEach(_=>{a&&_.addEventListener("scroll",r,{passive:!0}),o&&_.addEventListener("resize",r)});const w=p&&c?TA(p,r):null;let A=-1,y=null;u&&(y=new ResizeObserver(_=>{let[O]=_;O&&O.target===p&&y&&(y.unobserve(e),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),r()}),p&&!f&&y.observe(p),y.observe(e));let D,S=f?Uu(t):null;f&&E();function E(){const _=Uu(t);S&&!Qw(S,_)&&r(),S=_,D=requestAnimationFrame(E)}return r(),()=>{var _;m.forEach(O=>{a&&O.removeEventListener("scroll",r),o&&O.removeEventListener("resize",r)}),w?.(),(_=y)==null||_.disconnect(),y=null,f&&cancelAnimationFrame(D)}}const LA=uA,RA=dA,DA=oA,IA=hA,FA=lA,Sx=aA,OA=fA,MA=(t,e,r)=>{const n=new Map,a={platform:kA,...r},o={...a.platform,_c:n};return iA(t,e,{...a,platform:o})};var zp=typeof document<"u"?L.useLayoutEffect:L.useEffect;function lm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!lm(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&t.$$typeof)&&!lm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Zw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jx(t,e){const r=Zw(t);return Math.round(e*r)/r}function a0(t){const e=L.useRef(t);return zp(()=>{e.current=t}),e}function BA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:u}={},transform:c=!0,whileElementsMounted:f,open:p}=t,[m,w]=L.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[A,y]=L.useState(n);lm(A,n)||y(n);const[D,S]=L.useState(null),[E,_]=L.useState(null),O=L.useCallback(se=>{se!==ae.current&&(ae.current=se,S(se))},[]),T=L.useCallback(se=>{se!==W.current&&(W.current=se,_(se))},[]),z=o||D,ee=u||E,ae=L.useRef(null),W=L.useRef(null),te=L.useRef(m),Q=f!=null,fe=a0(f),U=a0(a),F=a0(p),X=L.useCallback(()=>{if(!ae.current||!W.current)return;const se={placement:e,strategy:r,middleware:A};U.current&&(se.platform=U.current),MA(ae.current,W.current,se).then(me=>{const I={...me,isPositioned:F.current!==!1};Y.current&&!lm(te.current,I)&&(te.current=I,nf.flushSync(()=>{w(I)}))})},[A,e,r,U,F]);zp(()=>{p===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,w(se=>({...se,isPositioned:!1})))},[p]);const Y=L.useRef(!1);zp(()=>(Y.current=!0,()=>{Y.current=!1}),[]),zp(()=>{if(z&&(ae.current=z),ee&&(W.current=ee),z&&ee){if(fe.current)return fe.current(z,ee,X);X()}},[z,ee,X,fe,Q]);const we=L.useMemo(()=>({reference:ae,floating:W,setReference:O,setFloating:T}),[O,T]),ye=L.useMemo(()=>({reference:z,floating:ee}),[z,ee]),xe=L.useMemo(()=>{const se={position:r,left:0,top:0};if(!ye.floating)return se;const me=jx(ye.floating,m.x),I=jx(ye.floating,m.y);return c?{...se,transform:"translate("+me+"px, "+I+"px)",...Zw(ye.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:I}},[r,c,ye.floating,m.x,m.y]);return L.useMemo(()=>({...m,update:X,refs:we,elements:ye,floatingStyles:xe}),[m,X,we,ye,xe])}const qA=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Sx({element:n.current,padding:a}).fn(r):{}:n?Sx({element:n,padding:a}).fn(r):{}}}},UA=(t,e)=>({...LA(t),options:[t,e]}),zA=(t,e)=>({...RA(t),options:[t,e]}),$A=(t,e)=>({...OA(t),options:[t,e]}),VA=(t,e)=>({...DA(t),options:[t,e]}),HA=(t,e)=>({...IA(t),options:[t,e]}),WA=(t,e)=>({...FA(t),options:[t,e]}),GA=(t,e)=>({...qA(t),options:[t,e]});var KA="Arrow",Yw=L.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...o}=t;return i.jsx(Zr.svg,{...o,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yw.displayName=KA;var QA=Yw;function Xw(t){const[e,r]=L.useState(void 0);return si(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let u,c;if("borderBoxSize"in o){const f=o.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,c=p.blockSize}else u=t.offsetWidth,c=t.offsetHeight;r({width:u,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var rv="Popper",[Jw,Um]=Rl(rv),[ZA,eb]=Jw(rv),tb=t=>{const{__scopePopper:e,children:r}=t,[n,a]=L.useState(null);return i.jsx(ZA,{scope:e,anchor:n,onAnchorChange:a,children:r})};tb.displayName=rv;var rb="PopperAnchor",nb=L.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,o=eb(rb,r),u=L.useRef(null),c=Kn(e,u);return L.useEffect(()=>{o.onAnchorChange(n?.current||u.current)}),n?null:i.jsx(Zr.div,{...a,ref:c})});nb.displayName=rb;var nv="PopperContent",[YA,XA]=Jw(nv),sb=L.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:w="partial",hideWhenDetached:A=!1,updatePositionStrategy:y="optimized",onPlaced:D,...S}=t,E=eb(nv,r),[_,O]=L.useState(null),T=Kn(e,le=>O(le)),[z,ee]=L.useState(null),ae=Xw(z),W=ae?.width??0,te=ae?.height??0,Q=n+(o!=="center"?"-"+o:""),fe=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(p)?p:[p],F=U.length>0,X={padding:fe,boundary:U.filter(e6),altBoundary:F},{refs:Y,floatingStyles:we,placement:ye,isPositioned:xe,middlewareData:se}=BA({strategy:"fixed",placement:Q,whileElementsMounted:(...le)=>EA(...le,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[UA({mainAxis:a+te,alignmentAxis:u}),f&&zA({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?$A():void 0,...X}),f&&VA({...X}),HA({...X,apply:({elements:le,rects:ve,availableWidth:je,availableHeight:Te})=>{const{width:Ge,height:at}=ve.reference,nt=le.floating.style;nt.setProperty("--radix-popper-available-width",`${je}px`),nt.setProperty("--radix-popper-available-height",`${Te}px`),nt.setProperty("--radix-popper-anchor-width",`${Ge}px`),nt.setProperty("--radix-popper-anchor-height",`${at}px`)}}),z&&GA({element:z,padding:c}),t6({arrowWidth:W,arrowHeight:te}),A&&WA({strategy:"referenceHidden",...X})]}),[me,I]=ob(ye),j=Oa(D);si(()=>{xe&&j?.()},[xe,j]);const x=se.arrow?.x,C=se.arrow?.y,M=se.arrow?.centerOffset!==0,[H,ie]=L.useState();return si(()=>{_&&ie(window.getComputedStyle(_).zIndex)},[_]),i.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:xe?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[se.transformOrigin?.x,se.transformOrigin?.y].join(" "),...se.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(YA,{scope:r,placedSide:me,onArrowChange:ee,arrowX:x,arrowY:C,shouldHideArrow:M,children:i.jsx(Zr.div,{"data-side":me,"data-align":I,...S,ref:T,style:{...S.style,animation:xe?void 0:"none"}})})})});sb.displayName=nv;var ib="PopperArrow",JA={top:"bottom",right:"left",bottom:"top",left:"right"},ab=L.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,o=XA(ib,n),u=JA[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(QA,{...a,ref:r,style:{...a.style,display:"block"}})})});ab.displayName=ib;function e6(t){return t!==null}var t6=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,c=u?0:t.arrowWidth,f=u?0:t.arrowHeight,[p,m]=ob(r),w={start:"0%",center:"50%",end:"100%"}[m],A=(a.arrow?.x??0)+c/2,y=(a.arrow?.y??0)+f/2;let D="",S="";return p==="bottom"?(D=u?w:`${A}px`,S=`${-f}px`):p==="top"?(D=u?w:`${A}px`,S=`${n.floating.height+f}px`):p==="right"?(D=`${-f}px`,S=u?w:`${y}px`):p==="left"&&(D=`${n.floating.width+f}px`,S=u?w:`${y}px`),{data:{x:D,y:S}}}});function ob(t){const[e,r="center"]=t.split("-");return[e,r]}var r6=tb,lb=nb,cb=sb,ub=ab,[zm]=Rl("Tooltip",[Um]),sv=Um(),db="TooltipProvider",n6=700,Cx="tooltip.open",[s6,fb]=zm(db),hb=t=>{const{__scopeTooltip:e,delayDuration:r=n6,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=t,u=L.useRef(!0),c=L.useRef(!1),f=L.useRef(0);return L.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),i.jsx(s6,{scope:e,isOpenDelayedRef:u,delayDuration:r,onOpen:L.useCallback(()=>{window.clearTimeout(f.current),u.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>u.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:L.useCallback(p=>{c.current=p},[]),disableHoverableContent:a,children:o})};hb.displayName=db;var pb="Tooltip",[f7,$m]=zm(pb),o1="TooltipTrigger",i6=L.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=$m(o1,r),o=fb(o1,r),u=sv(r),c=L.useRef(null),f=Kn(e,c,a.onTriggerChange),p=L.useRef(!1),m=L.useRef(!1),w=L.useCallback(()=>p.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),i.jsx(lb,{asChild:!0,...u,children:i.jsx(Zr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:f,onPointerMove:Hr(t.onPointerMove,A=>{A.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:Hr(t.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:Hr(t.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Hr(t.onFocus,()=>{p.current||a.onOpen()}),onBlur:Hr(t.onBlur,a.onClose),onClick:Hr(t.onClick,a.onClose)})})});i6.displayName=o1;var a6="TooltipPortal",[h7,o6]=zm(a6,{forceMount:void 0}),Zd="TooltipContent",mb=L.forwardRef((t,e)=>{const r=o6(Zd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=t,u=$m(Zd,t.__scopeTooltip);return i.jsx(cu,{present:n||u.open,children:u.disableHoverableContent?i.jsx(gb,{side:a,...o,ref:e}):i.jsx(l6,{side:a,...o,ref:e})})}),l6=L.forwardRef((t,e)=>{const r=$m(Zd,t.__scopeTooltip),n=fb(Zd,t.__scopeTooltip),a=L.useRef(null),o=Kn(e,a),[u,c]=L.useState(null),{trigger:f,onClose:p}=r,m=a.current,{onPointerInTransitChange:w}=n,A=L.useCallback(()=>{c(null),w(!1)},[w]),y=L.useCallback((D,S)=>{const E=D.currentTarget,_={x:D.clientX,y:D.clientY},O=h6(_,E.getBoundingClientRect()),T=p6(_,O),z=m6(S.getBoundingClientRect()),ee=v6([...T,...z]);c(ee),w(!0)},[w]);return L.useEffect(()=>()=>A(),[A]),L.useEffect(()=>{if(f&&m){const D=E=>y(E,m),S=E=>y(E,f);return f.addEventListener("pointerleave",D),m.addEventListener("pointerleave",S),()=>{f.removeEventListener("pointerleave",D),m.removeEventListener("pointerleave",S)}}},[f,m,y,A]),L.useEffect(()=>{if(u){const D=S=>{const E=S.target,_={x:S.clientX,y:S.clientY},O=f?.contains(E)||m?.contains(E),T=!g6(_,u);O?A():T&&(A(),p())};return document.addEventListener("pointermove",D),()=>document.removeEventListener("pointermove",D)}},[f,m,u,p,A]),i.jsx(gb,{...t,ref:o})}),[c6,u6]=zm(pb,{isInside:!1}),d6=oC("TooltipContent"),gb=L.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:u,...c}=t,f=$m(Zd,r),p=sv(r),{onClose:m}=f;return L.useEffect(()=>(document.addEventListener(Cx,m),()=>document.removeEventListener(Cx,m)),[m]),L.useEffect(()=>{if(f.trigger){const w=A=>{A.target?.contains(f.trigger)&&m()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,m]),i.jsx(kh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:w=>w.preventDefault(),onDismiss:m,children:i.jsxs(cb,{"data-state":f.stateAttribute,...p,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(d6,{children:n}),i.jsx(c6,{scope:r,isInside:!0,children:i.jsx(AC,{id:f.contentId,role:"tooltip",children:a||n})})]})})});mb.displayName=Zd;var vb="TooltipArrow",f6=L.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=sv(r);return u6(vb,r).isInside?null:i.jsx(ub,{...a,...n,ref:e})});f6.displayName=vb;function h6(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function p6(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function m6(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function g6(t,e){const{x:r,y:n}=t;let a=!1;for(let o=0,u=e.length-1;o<e.length;u=o++){const c=e[o].x,f=e[o].y,p=e[u].x,m=e[u].y;f>n!=m>n&&r<(p-c)*(n-f)/(m-f)+c&&(a=!a)}return a}function v6(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),x6(e)}function x6(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const o=e[e.length-1],u=e[e.length-2];if((o.x-u.x)*(a.y-u.y)>=(o.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const o=r[r.length-1],u=r[r.length-2];if((o.x-u.x)*(a.y-u.y)>=(o.y-u.y)*(a.x-u.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var y6=hb,xb=mb;const w6=y6,b6=L.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(xb,{ref:n,sideOffset:e,className:zr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));b6.displayName=xb.displayName;var wn;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const o={};for(const u of a)o[u]=u;return o},t.getValidEnumValues=a=>{const o=t.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),u={};for(const c of o)u[c]=a[c];return t.objectValues(u)},t.objectValues=a=>t.objectKeys(a).map(function(o){return a[o]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.push(u);return o},t.find=(a,o)=>{for(const u of a)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(wn||(wn={}));var l1;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(l1||(l1={}));const qt=wn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fc=t=>{switch(typeof t){case"undefined":return qt.undefined;case"string":return qt.string;case"number":return isNaN(t)?qt.nan:qt.number;case"boolean":return qt.boolean;case"function":return qt.function;case"bigint":return qt.bigint;case"symbol":return qt.symbol;case"object":return Array.isArray(t)?qt.array:t===null?qt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qt.promise:typeof Map<"u"&&t instanceof Map?qt.map:typeof Set<"u"&&t instanceof Set?qt.set:typeof Date<"u"&&t instanceof Date?qt.date:qt.object;default:return qt.unknown}},Nt=wn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),N6=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class io extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},a=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(a);else if(u.code==="invalid_return_type")a(u.returnTypeError);else if(u.code==="invalid_arguments")a(u.argumentsError);else if(u.path.length===0)n._errors.push(r(u));else{let c=n,f=0;for(;f<u.path.length;){const p=u.path[f];f===u.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(r(u))):c[p]=c[p]||{_errors:[]},c=c[p],f++}}};return a(this),n}static assert(e){if(!(e instanceof io))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}io.create=t=>new io(t);const Yd=(t,e)=>{let r;switch(t.code){case Nt.invalid_type:t.received===qt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Nt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,wn.jsonStringifyReplacer)}`;break;case Nt.unrecognized_keys:r=`Unrecognized key(s) in object: ${wn.joinValues(t.keys,", ")}`;break;case Nt.invalid_union:r="Invalid input";break;case Nt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${wn.joinValues(t.options)}`;break;case Nt.invalid_enum_value:r=`Invalid enum value. Expected ${wn.joinValues(t.options)}, received '${t.received}'`;break;case Nt.invalid_arguments:r="Invalid function arguments";break;case Nt.invalid_return_type:r="Invalid function return type";break;case Nt.invalid_date:r="Invalid date";break;case Nt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:wn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Nt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Nt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Nt.custom:r="Invalid input";break;case Nt.invalid_intersection_types:r="Intersection results could not be merged";break;case Nt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Nt.not_finite:r="Number must be finite";break;default:r=e.defaultError,wn.assertNever(t)}return{message:r}};let yb=Yd;function S6(t){yb=t}function cm(){return yb}const um=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,o=[...r,...a.path||[]],u={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let c="";const f=n.filter(p=>!!p).slice().reverse();for(const p of f)c=p(u,{data:e,defaultError:c}).message;return{...a,path:o,message:c}},j6=[];function It(t,e){const r=cm(),n=um({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Yd?void 0:Yd].filter(a=>!!a)});t.common.issues.push(n)}class ia{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return Dr;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const o=await a.key,u=await a.value;n.push({key:o,value:u})}return ia.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:o,value:u}=a;if(o.status==="aborted"||u.status==="aborted")return Dr;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||a.alwaysSet)&&(n[o.value]=u.value)}return{status:e.value,value:n}}}const Dr=Object.freeze({status:"aborted"}),Dd=t=>({status:"dirty",value:t}),Na=t=>({status:"valid",value:t}),c1=t=>t.status==="aborted",u1=t=>t.status==="dirty",zu=t=>t.status==="valid",ch=t=>typeof Promise<"u"&&t instanceof Promise;function dm(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function wb(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var lr;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(lr||(lr={}));var Kf,Qf;class El{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _x=(t,e)=>{if(zu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new io(t.common.issues);return this._error=r,this._error}}};function Xr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(u,c)=>{var f,p;const{message:m}=t;return u.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(f=m??n)!==null&&f!==void 0?f:c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:(p=m??r)!==null&&p!==void 0?p:c.defaultError}},description:a}}class ln{get description(){return this._def.description}_getType(e){return fc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:fc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ia,ctx:{common:e.parent.common,data:e.data,parsedType:fc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ch(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fc(e)},o=this._parseSync({data:e,path:a.path,parent:a});return _x(a,o)}"~validate"(e){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fc(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:a});return zu(o)?{value:o.value}:{issues:a.common.issues}}catch(o){!((n=(r=o?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(o=>zu(o)?{value:o.value}:{issues:a.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fc(e)},a=this._parse({data:e,path:n.path,parent:n}),o=await(ch(a)?a:Promise.resolve(a));return _x(n,o)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const u=e(a),c=()=>o.addIssue({code:Nt.custom,...n(a)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Xo({schema:this,typeName:Er.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Al.create(this,this._def)}nullable(){return ou.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Go.create(this)}promise(){return Jd.create(this,this._def)}or(e){return hh.create([this,e],this._def)}and(e){return ph.create(this,e,this._def)}transform(e){return new Xo({...Xr(this._def),schema:this,typeName:Er.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new yh({...Xr(this._def),innerType:this,defaultValue:r,typeName:Er.ZodDefault})}brand(){return new iv({typeName:Er.ZodBranded,type:this,...Xr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new wh({...Xr(this._def),innerType:this,catchValue:r,typeName:Er.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Dh.create(this,e)}readonly(){return bh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const C6=/^c[^\s-]{8,}$/i,_6=/^[0-9a-z]+$/,A6=/^[0-9A-HJKMNP-TV-Z]{26}$/i,P6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k6=/^[a-z0-9_-]{21}$/i,T6=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,E6=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,L6=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let o0;const D6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,I6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,O6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M6=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,B6=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",q6=new RegExp(`^${bb}$`);function Nb(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function U6(t){return new RegExp(`^${Nb(t)}$`)}function Sb(t){let e=`${bb}T${Nb(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function z6(t,e){return!!((e==="v4"||!e)&&D6.test(t)||(e==="v6"||!e)&&F6.test(t))}function $6(t,e){if(!T6.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function V6(t,e){return!!((e==="v4"||!e)&&I6.test(t)||(e==="v6"||!e)&&O6.test(t))}class Wo extends ln{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qt.string){const o=this._getOrReturnCtx(e);return It(o,{code:Nt.invalid_type,expected:qt.string,received:o.parsedType}),Dr}const n=new ia;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,c=e.data.length<o.value;(u||c)&&(a=this._getOrReturnCtx(e,a),u?It(a,{code:Nt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&It(a,{code:Nt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")L6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"email",code:Nt.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")o0||(o0=new RegExp(R6,"u")),o0.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"emoji",code:Nt.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")P6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"uuid",code:Nt.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")k6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"nanoid",code:Nt.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")C6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"cuid",code:Nt.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")_6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"cuid2",code:Nt.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")A6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"ulid",code:Nt.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),It(a,{validation:"url",code:Nt.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"regex",code:Nt.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?Sb(o).test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?q6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?U6(o).test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?E6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"duration",code:Nt.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?z6(e.data,o.version)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"ip",code:Nt.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?$6(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"jwt",code:Nt.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?V6(e.data,o.version)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"cidr",code:Nt.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?M6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"base64",code:Nt.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?B6.test(e.data)||(a=this._getOrReturnCtx(e,a),It(a,{validation:"base64url",code:Nt.invalid_string,message:o.message}),n.dirty()):wn.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:Nt.invalid_string,...lr.errToObj(n)})}_addCheck(e){return new Wo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...lr.errToObj(e)})}url(e){return this._addCheck({kind:"url",...lr.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...lr.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...lr.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...lr.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...lr.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...lr.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...lr.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...lr.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...lr.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...lr.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...lr.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...lr.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...lr.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...lr.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...lr.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...lr.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...lr.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...lr.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...lr.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...lr.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...lr.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...lr.errToObj(r)})}nonempty(e){return this.min(1,lr.errToObj(e))}trim(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Wo.create=t=>{var e;return new Wo({checks:[],typeName:Er.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Xr(t)})};function H6(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,o=parseInt(t.toFixed(a).replace(".","")),u=parseInt(e.toFixed(a).replace(".",""));return o%u/Math.pow(10,a)}class su extends ln{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qt.number){const o=this._getOrReturnCtx(e);return It(o,{code:Nt.invalid_type,expected:qt.number,received:o.parsedType}),Dr}let n;const a=new ia;for(const o of this._def.checks)o.kind==="int"?wn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?H6(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.not_finite,message:o.message}),a.dirty()):wn.assertNever(o);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,lr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,lr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,lr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,lr.toString(r))}setLimit(e,r,n,a){return new su({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:lr.toString(a)}]})}_addCheck(e){return new su({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:lr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:lr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:lr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:lr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:lr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:lr.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:lr.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:lr.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:lr.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}su.create=t=>new su({checks:[],typeName:Er.ZodNumber,coerce:t?.coerce||!1,...Xr(t)});class iu extends ln{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==qt.bigint)return this._getInvalidInput(e);let n;const a=new ia;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),It(n,{code:Nt.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):wn.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return It(r,{code:Nt.invalid_type,expected:qt.bigint,received:r.parsedType}),Dr}gte(e,r){return this.setLimit("min",e,!0,lr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,lr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,lr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,lr.toString(r))}setLimit(e,r,n,a){return new iu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:lr.toString(a)}]})}_addCheck(e){return new iu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:lr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:lr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:lr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:lr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:lr.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}iu.create=t=>{var e;return new iu({checks:[],typeName:Er.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Xr(t)})};class uh extends ln{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qt.boolean){const n=this._getOrReturnCtx(e);return It(n,{code:Nt.invalid_type,expected:qt.boolean,received:n.parsedType}),Dr}return Na(e.data)}}uh.create=t=>new uh({typeName:Er.ZodBoolean,coerce:t?.coerce||!1,...Xr(t)});class $u extends ln{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qt.date){const o=this._getOrReturnCtx(e);return It(o,{code:Nt.invalid_type,expected:qt.date,received:o.parsedType}),Dr}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return It(o,{code:Nt.invalid_date}),Dr}const n=new ia;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),It(a,{code:Nt.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):wn.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $u({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:lr.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:lr.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}$u.create=t=>new $u({checks:[],coerce:t?.coerce||!1,typeName:Er.ZodDate,...Xr(t)});class fm extends ln{_parse(e){if(this._getType(e)!==qt.symbol){const n=this._getOrReturnCtx(e);return It(n,{code:Nt.invalid_type,expected:qt.symbol,received:n.parsedType}),Dr}return Na(e.data)}}fm.create=t=>new fm({typeName:Er.ZodSymbol,...Xr(t)});class dh extends ln{_parse(e){if(this._getType(e)!==qt.undefined){const n=this._getOrReturnCtx(e);return It(n,{code:Nt.invalid_type,expected:qt.undefined,received:n.parsedType}),Dr}return Na(e.data)}}dh.create=t=>new dh({typeName:Er.ZodUndefined,...Xr(t)});class fh extends ln{_parse(e){if(this._getType(e)!==qt.null){const n=this._getOrReturnCtx(e);return It(n,{code:Nt.invalid_type,expected:qt.null,received:n.parsedType}),Dr}return Na(e.data)}}fh.create=t=>new fh({typeName:Er.ZodNull,...Xr(t)});class Xd extends ln{constructor(){super(...arguments),this._any=!0}_parse(e){return Na(e.data)}}Xd.create=t=>new Xd({typeName:Er.ZodAny,...Xr(t)});class Fu extends ln{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Na(e.data)}}Fu.create=t=>new Fu({typeName:Er.ZodUnknown,...Xr(t)});class gc extends ln{_parse(e){const r=this._getOrReturnCtx(e);return It(r,{code:Nt.invalid_type,expected:qt.never,received:r.parsedType}),Dr}}gc.create=t=>new gc({typeName:Er.ZodNever,...Xr(t)});class hm extends ln{_parse(e){if(this._getType(e)!==qt.undefined){const n=this._getOrReturnCtx(e);return It(n,{code:Nt.invalid_type,expected:qt.void,received:n.parsedType}),Dr}return Na(e.data)}}hm.create=t=>new hm({typeName:Er.ZodVoid,...Xr(t)});class Go extends ln{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==qt.array)return It(r,{code:Nt.invalid_type,expected:qt.array,received:r.parsedType}),Dr;if(a.exactLength!==null){const u=r.data.length>a.exactLength.value,c=r.data.length<a.exactLength.value;(u||c)&&(It(r,{code:u?Nt.too_big:Nt.too_small,minimum:c?a.exactLength.value:void 0,maximum:u?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(It(r,{code:Nt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(It(r,{code:Nt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((u,c)=>a.type._parseAsync(new El(r,u,r.path,c)))).then(u=>ia.mergeArray(n,u));const o=[...r.data].map((u,c)=>a.type._parseSync(new El(r,u,r.path,c)));return ia.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new Go({...this._def,minLength:{value:e,message:lr.toString(r)}})}max(e,r){return new Go({...this._def,maxLength:{value:e,message:lr.toString(r)}})}length(e,r){return new Go({...this._def,exactLength:{value:e,message:lr.toString(r)}})}nonempty(e){return this.min(1,e)}}Go.create=(t,e)=>new Go({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Er.ZodArray,...Xr(e)});function Td(t){if(t instanceof Ps){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Al.create(Td(n))}return new Ps({...t._def,shape:()=>e})}else return t instanceof Go?new Go({...t._def,type:Td(t.element)}):t instanceof Al?Al.create(Td(t.unwrap())):t instanceof ou?ou.create(Td(t.unwrap())):t instanceof Ll?Ll.create(t.items.map(e=>Td(e))):t}class Ps extends ln{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=wn.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==qt.object){const p=this._getOrReturnCtx(e);return It(p,{code:Nt.invalid_type,expected:qt.object,received:p.parsedType}),Dr}const{status:n,ctx:a}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof gc&&this._def.unknownKeys==="strip"))for(const p in a.data)u.includes(p)||c.push(p);const f=[];for(const p of u){const m=o[p],w=a.data[p];f.push({key:{status:"valid",value:p},value:m._parse(new El(a,w,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof gc){const p=this._def.unknownKeys;if(p==="passthrough")for(const m of c)f.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(p==="strict")c.length>0&&(It(a,{code:Nt.unrecognized_keys,keys:c}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const m of c){const w=a.data[m];f.push({key:{status:"valid",value:m},value:p._parse(new El(a,w,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const m of f){const w=await m.key,A=await m.value;p.push({key:w,value:A,alwaysSet:m.alwaysSet})}return p}).then(p=>ia.mergeObjectSync(n,p)):ia.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return lr.errToObj,new Ps({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o,u,c;const f=(u=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,r,n).message)!==null&&u!==void 0?u:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=lr.errToObj(e).message)!==null&&c!==void 0?c:f}:{message:f}}}:{}})}strip(){return new Ps({...this._def,unknownKeys:"strip"})}passthrough(){return new Ps({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ps({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ps({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Er.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ps({...this._def,catchall:e})}pick(e){const r={};return wn.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ps({...this._def,shape:()=>r})}omit(e){const r={};return wn.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ps({...this._def,shape:()=>r})}deepPartial(){return Td(this)}partial(e){const r={};return wn.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new Ps({...this._def,shape:()=>r})}required(e){const r={};return wn.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Al;)o=o._def.innerType;r[n]=o}}),new Ps({...this._def,shape:()=>r})}keyof(){return jb(wn.objectKeys(this.shape))}}Ps.create=(t,e)=>new Ps({shape:()=>t,unknownKeys:"strip",catchall:gc.create(),typeName:Er.ZodObject,...Xr(e)});Ps.strictCreate=(t,e)=>new Ps({shape:()=>t,unknownKeys:"strict",catchall:gc.create(),typeName:Er.ZodObject,...Xr(e)});Ps.lazycreate=(t,e)=>new Ps({shape:t,unknownKeys:"strip",catchall:gc.create(),typeName:Er.ZodObject,...Xr(e)});class hh extends ln{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const u=o.map(c=>new io(c.ctx.common.issues));return It(r,{code:Nt.invalid_union,unionErrors:u}),Dr}if(r.common.async)return Promise.all(n.map(async o=>{const u={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(a);{let o;const u=[];for(const f of n){const p={...r,common:{...r.common,issues:[]},parent:null},m=f._parseSync({data:r.data,path:r.path,parent:p});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const c=u.map(f=>new io(f));return It(r,{code:Nt.invalid_union,unionErrors:c}),Dr}}get options(){return this._def.options}}hh.create=(t,e)=>new hh({options:t,typeName:Er.ZodUnion,...Xr(e)});const dc=t=>t instanceof gh?dc(t.schema):t instanceof Xo?dc(t.innerType()):t instanceof vh?[t.value]:t instanceof au?t.options:t instanceof xh?wn.objectValues(t.enum):t instanceof yh?dc(t._def.innerType):t instanceof dh?[void 0]:t instanceof fh?[null]:t instanceof Al?[void 0,...dc(t.unwrap())]:t instanceof ou?[null,...dc(t.unwrap())]:t instanceof iv||t instanceof bh?dc(t.unwrap()):t instanceof wh?dc(t._def.innerType):[];class Vm extends ln{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.object)return It(r,{code:Nt.invalid_type,expected:qt.object,received:r.parsedType}),Dr;const n=this.discriminator,a=r.data[n],o=this.optionsMap.get(a);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(It(r,{code:Nt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Dr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const o of r){const u=dc(o.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of u){if(a.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);a.set(c,o)}}return new Vm({typeName:Er.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...Xr(n)})}}function d1(t,e){const r=fc(t),n=fc(e);if(t===e)return{valid:!0,data:t};if(r===qt.object&&n===qt.object){const a=wn.objectKeys(e),o=wn.objectKeys(t).filter(c=>a.indexOf(c)!==-1),u={...t,...e};for(const c of o){const f=d1(t[c],e[c]);if(!f.valid)return{valid:!1};u[c]=f.data}return{valid:!0,data:u}}else if(r===qt.array&&n===qt.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<t.length;o++){const u=t[o],c=e[o],f=d1(u,c);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return r===qt.date&&n===qt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ph extends ln{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(o,u)=>{if(c1(o)||c1(u))return Dr;const c=d1(o.value,u.value);return c.valid?((u1(o)||u1(u))&&r.dirty(),{status:r.value,value:c.data}):(It(n,{code:Nt.invalid_intersection_types}),Dr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,u])=>a(o,u)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ph.create=(t,e,r)=>new ph({left:t,right:e,typeName:Er.ZodIntersection,...Xr(r)});class Ll extends ln{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.array)return It(n,{code:Nt.invalid_type,expected:qt.array,received:n.parsedType}),Dr;if(n.data.length<this._def.items.length)return It(n,{code:Nt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dr;!this._def.rest&&n.data.length>this._def.items.length&&(It(n,{code:Nt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((u,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new El(n,u,n.path,c)):null}).filter(u=>!!u);return n.common.async?Promise.all(o).then(u=>ia.mergeArray(r,u)):ia.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new Ll({...this._def,rest:e})}}Ll.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ll({items:t,typeName:Er.ZodTuple,rest:null,...Xr(e)})};class mh extends ln{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.object)return It(n,{code:Nt.invalid_type,expected:qt.object,received:n.parsedType}),Dr;const a=[],o=this._def.keyType,u=this._def.valueType;for(const c in n.data)a.push({key:o._parse(new El(n,c,n.path,c)),value:u._parse(new El(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?ia.mergeObjectAsync(r,a):ia.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ln?new mh({keyType:e,valueType:r,typeName:Er.ZodRecord,...Xr(n)}):new mh({keyType:Wo.create(),valueType:e,typeName:Er.ZodRecord,...Xr(r)})}}class pm extends ln{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.map)return It(n,{code:Nt.invalid_type,expected:qt.map,received:n.parsedType}),Dr;const a=this._def.keyType,o=this._def.valueType,u=[...n.data.entries()].map(([c,f],p)=>({key:a._parse(new El(n,c,n.path,[p,"key"])),value:o._parse(new El(n,f,n.path,[p,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of u){const p=await f.key,m=await f.value;if(p.status==="aborted"||m.status==="aborted")return Dr;(p.status==="dirty"||m.status==="dirty")&&r.dirty(),c.set(p.value,m.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const f of u){const p=f.key,m=f.value;if(p.status==="aborted"||m.status==="aborted")return Dr;(p.status==="dirty"||m.status==="dirty")&&r.dirty(),c.set(p.value,m.value)}return{status:r.value,value:c}}}}pm.create=(t,e,r)=>new pm({valueType:e,keyType:t,typeName:Er.ZodMap,...Xr(r)});class Vu extends ln{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.set)return It(n,{code:Nt.invalid_type,expected:qt.set,received:n.parsedType}),Dr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(It(n,{code:Nt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(It(n,{code:Nt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function u(f){const p=new Set;for(const m of f){if(m.status==="aborted")return Dr;m.status==="dirty"&&r.dirty(),p.add(m.value)}return{status:r.value,value:p}}const c=[...n.data.values()].map((f,p)=>o._parse(new El(n,f,n.path,p)));return n.common.async?Promise.all(c).then(f=>u(f)):u(c)}min(e,r){return new Vu({...this._def,minSize:{value:e,message:lr.toString(r)}})}max(e,r){return new Vu({...this._def,maxSize:{value:e,message:lr.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Vu.create=(t,e)=>new Vu({valueType:t,minSize:null,maxSize:null,typeName:Er.ZodSet,...Xr(e)});class qd extends ln{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.function)return It(r,{code:Nt.invalid_type,expected:qt.function,received:r.parsedType}),Dr;function n(c,f){return um({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,cm(),Yd].filter(p=>!!p),issueData:{code:Nt.invalid_arguments,argumentsError:f}})}function a(c,f){return um({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,cm(),Yd].filter(p=>!!p),issueData:{code:Nt.invalid_return_type,returnTypeError:f}})}const o={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof Jd){const c=this;return Na(async function(...f){const p=new io([]),m=await c._def.args.parseAsync(f,o).catch(y=>{throw p.addIssue(n(f,y)),p}),w=await Reflect.apply(u,this,m);return await c._def.returns._def.type.parseAsync(w,o).catch(y=>{throw p.addIssue(a(w,y)),p})})}else{const c=this;return Na(function(...f){const p=c._def.args.safeParse(f,o);if(!p.success)throw new io([n(f,p.error)]);const m=Reflect.apply(u,this,p.data),w=c._def.returns.safeParse(m,o);if(!w.success)throw new io([a(m,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qd({...this._def,args:Ll.create(e).rest(Fu.create())})}returns(e){return new qd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new qd({args:e||Ll.create([]).rest(Fu.create()),returns:r||Fu.create(),typeName:Er.ZodFunction,...Xr(n)})}}class gh extends ln{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}gh.create=(t,e)=>new gh({getter:t,typeName:Er.ZodLazy,...Xr(e)});class vh extends ln{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return It(r,{received:r.data,code:Nt.invalid_literal,expected:this._def.value}),Dr}return{status:"valid",value:e.data}}get value(){return this._def.value}}vh.create=(t,e)=>new vh({value:t,typeName:Er.ZodLiteral,...Xr(e)});function jb(t,e){return new au({values:t,typeName:Er.ZodEnum,...Xr(e)})}class au extends ln{constructor(){super(...arguments),Kf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return It(r,{expected:wn.joinValues(n),received:r.parsedType,code:Nt.invalid_type}),Dr}if(dm(this,Kf)||wb(this,Kf,new Set(this._def.values)),!dm(this,Kf).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return It(r,{received:r.data,code:Nt.invalid_enum_value,options:n}),Dr}return Na(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return au.create(e,{...this._def,...r})}exclude(e,r=this._def){return au.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Kf=new WeakMap;au.create=jb;class xh extends ln{constructor(){super(...arguments),Qf.set(this,void 0)}_parse(e){const r=wn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==qt.string&&n.parsedType!==qt.number){const a=wn.objectValues(r);return It(n,{expected:wn.joinValues(a),received:n.parsedType,code:Nt.invalid_type}),Dr}if(dm(this,Qf)||wb(this,Qf,new Set(wn.getValidEnumValues(this._def.values))),!dm(this,Qf).has(e.data)){const a=wn.objectValues(r);return It(n,{received:n.data,code:Nt.invalid_enum_value,options:a}),Dr}return Na(e.data)}get enum(){return this._def.values}}Qf=new WeakMap;xh.create=(t,e)=>new xh({values:t,typeName:Er.ZodNativeEnum,...Xr(e)});class Jd extends ln{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.promise&&r.common.async===!1)return It(r,{code:Nt.invalid_type,expected:qt.promise,received:r.parsedType}),Dr;const n=r.parsedType===qt.promise?r.data:Promise.resolve(r.data);return Na(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Jd.create=(t,e)=>new Jd({type:t,typeName:Er.ZodPromise,...Xr(e)});class Xo extends ln{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Er.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:u=>{It(n,u),u.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const u=a.transform(n.data,o);if(n.common.async)return Promise.resolve(u).then(async c=>{if(r.value==="aborted")return Dr;const f=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return f.status==="aborted"?Dr:f.status==="dirty"||r.value==="dirty"?Dd(f.value):f});{if(r.value==="aborted")return Dr;const c=this._def.schema._parseSync({data:u,path:n.path,parent:n});return c.status==="aborted"?Dr:c.status==="dirty"||r.value==="dirty"?Dd(c.value):c}}if(a.type==="refinement"){const u=c=>{const f=a.refinement(c,o);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Dr:(c.status==="dirty"&&r.dirty(),u(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Dr:(c.status==="dirty"&&r.dirty(),u(c.value).then(()=>({status:r.value,value:c.value}))))}if(a.type==="transform")if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zu(u))return u;const c=a.transform(u.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>zu(u)?Promise.resolve(a.transform(u.value,o)).then(c=>({status:r.value,value:c})):u);wn.assertNever(a)}}Xo.create=(t,e,r)=>new Xo({schema:t,typeName:Er.ZodEffects,effect:e,...Xr(r)});Xo.createWithPreprocess=(t,e,r)=>new Xo({schema:e,effect:{type:"preprocess",transform:t},typeName:Er.ZodEffects,...Xr(r)});class Al extends ln{_parse(e){return this._getType(e)===qt.undefined?Na(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Al.create=(t,e)=>new Al({innerType:t,typeName:Er.ZodOptional,...Xr(e)});class ou extends ln{_parse(e){return this._getType(e)===qt.null?Na(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:Er.ZodNullable,...Xr(e)});class yh extends ln{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===qt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}yh.create=(t,e)=>new yh({innerType:t,typeName:Er.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xr(e)});class wh extends ln{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ch(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new io(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new io(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wh.create=(t,e)=>new wh({innerType:t,typeName:Er.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xr(e)});class mm extends ln{_parse(e){if(this._getType(e)!==qt.nan){const n=this._getOrReturnCtx(e);return It(n,{code:Nt.invalid_type,expected:qt.nan,received:n.parsedType}),Dr}return{status:"valid",value:e.data}}}mm.create=t=>new mm({typeName:Er.ZodNaN,...Xr(t)});const W6=Symbol("zod_brand");class iv extends ln{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Dh extends ln{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Dr:o.status==="dirty"?(r.dirty(),Dd(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Dr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new Dh({in:e,out:r,typeName:Er.ZodPipeline})}}class bh extends ln{_parse(e){const r=this._def.innerType._parse(e),n=a=>(zu(a)&&(a.value=Object.freeze(a.value)),a);return ch(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}bh.create=(t,e)=>new bh({innerType:t,typeName:Er.ZodReadonly,...Xr(e)});function Ax(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Cb(t,e={},r){return t?Xd.create().superRefine((n,a)=>{var o,u;const c=t(n);if(c instanceof Promise)return c.then(f=>{var p,m;if(!f){const w=Ax(e,n),A=(m=(p=w.fatal)!==null&&p!==void 0?p:r)!==null&&m!==void 0?m:!0;a.addIssue({code:"custom",...w,fatal:A})}});if(!c){const f=Ax(e,n),p=(u=(o=f.fatal)!==null&&o!==void 0?o:r)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...f,fatal:p})}}):Xd.create()}const G6={object:Ps.lazycreate};var Er;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Er||(Er={}));const K6=(t,e={message:`Input not instance of ${t.name}`})=>Cb(r=>r instanceof t,e),_b=Wo.create,Ab=su.create,Q6=mm.create,Z6=iu.create,Pb=uh.create,Y6=$u.create,X6=fm.create,J6=dh.create,eP=fh.create,tP=Xd.create,rP=Fu.create,nP=gc.create,sP=hm.create,iP=Go.create,aP=Ps.create,oP=Ps.strictCreate,lP=hh.create,cP=Vm.create,uP=ph.create,dP=Ll.create,fP=mh.create,hP=pm.create,pP=Vu.create,mP=qd.create,gP=gh.create,vP=vh.create,xP=au.create,yP=xh.create,wP=Jd.create,Px=Xo.create,bP=Al.create,NP=ou.create,SP=Xo.createWithPreprocess,jP=Dh.create,CP=()=>_b().optional(),_P=()=>Ab().optional(),AP=()=>Pb().optional(),PP={string:(t=>Wo.create({...t,coerce:!0})),number:(t=>su.create({...t,coerce:!0})),boolean:(t=>uh.create({...t,coerce:!0})),bigint:(t=>iu.create({...t,coerce:!0})),date:(t=>$u.create({...t,coerce:!0}))},kP=Dr;var B=Object.freeze({__proto__:null,defaultErrorMap:Yd,setErrorMap:S6,getErrorMap:cm,makeIssue:um,EMPTY_PATH:j6,addIssueToContext:It,ParseStatus:ia,INVALID:Dr,DIRTY:Dd,OK:Na,isAborted:c1,isDirty:u1,isValid:zu,isAsync:ch,get util(){return wn},get objectUtil(){return l1},ZodParsedType:qt,getParsedType:fc,ZodType:ln,datetimeRegex:Sb,ZodString:Wo,ZodNumber:su,ZodBigInt:iu,ZodBoolean:uh,ZodDate:$u,ZodSymbol:fm,ZodUndefined:dh,ZodNull:fh,ZodAny:Xd,ZodUnknown:Fu,ZodNever:gc,ZodVoid:hm,ZodArray:Go,ZodObject:Ps,ZodUnion:hh,ZodDiscriminatedUnion:Vm,ZodIntersection:ph,ZodTuple:Ll,ZodRecord:mh,ZodMap:pm,ZodSet:Vu,ZodFunction:qd,ZodLazy:gh,ZodLiteral:vh,ZodEnum:au,ZodNativeEnum:xh,ZodPromise:Jd,ZodEffects:Xo,ZodTransformer:Xo,ZodOptional:Al,ZodNullable:ou,ZodDefault:yh,ZodCatch:wh,ZodNaN:mm,BRAND:W6,ZodBranded:iv,ZodPipeline:Dh,ZodReadonly:bh,custom:Cb,Schema:ln,ZodSchema:ln,late:G6,get ZodFirstPartyTypeKind(){return Er},coerce:PP,any:tP,array:iP,bigint:Z6,boolean:Pb,date:Y6,discriminatedUnion:cP,effect:Px,enum:xP,function:mP,instanceof:K6,intersection:uP,lazy:gP,literal:vP,map:hP,nan:Q6,nativeEnum:yP,never:nP,null:eP,nullable:NP,number:Ab,object:aP,oboolean:AP,onumber:_P,optional:bP,ostring:CP,pipeline:jP,preprocess:SP,promise:wP,record:fP,set:pP,strictObject:oP,string:_b,symbol:X6,transformer:Px,tuple:dP,undefined:J6,union:lP,unknown:rP,void:sP,NEVER:kP,ZodIssueCode:Nt,quotelessJson:N6,ZodError:io});const gt=Symbol.for("drizzle:entityKind");function zi(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,gt))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(gt in r&&r[gt]===e[gt])return!0;r=Object.getPrototypeOf(r)}return!1}class Nh{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[gt]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class TP{static[gt]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const Ud=Symbol.for("drizzle:Name");class EP{static[gt]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:n,columns:a,foreignColumns:o}=e();return{name:n,columns:a,foreignTable:o[0].table,foreignColumns:o}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new LP(e,this)}}class LP{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[gt]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),a=r.map(c=>c.name),o=n.map(c=>c.name),u=[this.table[Ud],...a,n[0].table[Ud],...o];return e??`${u.join("_")}_fk`}}function RP(t,...e){return t(...e)}function DP(t,e){return`${t[Ud]}_${e.join("_")}_unique`}function kx(t,e,r){for(let n=e;n<t.length;n++){const a=t[n];if(a==="\\"){n++;continue}if(a==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function kb(t,e=0){const r=[];let n=e,a=!1;for(;n<t.length;){const o=t[n];if(o===","){(a||n===e)&&r.push(""),a=!0,n++;continue}if(a=!1,o==="\\"){n+=2;continue}if(o==='"'){const[f,p]=kx(t,n+1,!0);r.push(f),n=p;continue}if(o==="}")return[r,n+1];if(o==="{"){const[f,p]=kb(t,n+1);r.push(f),n=p;continue}const[u,c]=kx(t,n,!1);r.push(u),n=c}return[r,n]}function IP(t){const[e]=kb(t,1);return e}function Tb(t){return`{${t.map(e=>Array.isArray(e)?Tb(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class _n extends TP{foreignKeyConfigs=[];static[gt]="PgColumnBuilder";array(e){return new OP(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:a})=>RP((o,u)=>{const c=new EP(()=>{const f=o();return{columns:[e],foreignColumns:[f]}});return u.onUpdate&&c.onUpdate(u.onUpdate),u.onDelete&&c.onDelete(u.onDelete),c.build(r)},n,a))}buildExtraConfigColumn(e){return new FP(e,this.config)}}class an extends Nh{constructor(e,r){r.uniqueName||(r.uniqueName=DP(e,[r.name])),super(e,r),this.table=e}static[gt]="PgColumn"}class FP extends an{static[gt]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class OP extends _n{static[gt]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new av(e,this.config,r)}}class av extends an{constructor(e,r,n,a){super(e,r),this.baseColumn=n,this.range=a,this.size=r.size}size;static[gt]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=IP(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const n=e.map(a=>a===null?null:zi(this.baseColumn,av)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?n:Tb(n)}}const Tx=Symbol.for("drizzle:isPgEnum");function MP(t){return!!t&&typeof t=="function"&&Tx in t&&t[Tx]===!0}class Eb{static[gt]="Subquery";constructor(e,r,n,a=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:a}}}const BP={startActiveSpan(t,e){return e()}},zd=Symbol.for("drizzle:ViewBaseConfig"),l0=Symbol.for("drizzle:Schema"),Ex=Symbol.for("drizzle:Columns"),Lx=Symbol.for("drizzle:ExtraConfigColumns"),c0=Symbol.for("drizzle:OriginalName"),u0=Symbol.for("drizzle:BaseName"),gm=Symbol.for("drizzle:IsAlias"),Rx=Symbol.for("drizzle:ExtraConfigBuilder"),Lb=Symbol.for("drizzle:IsDrizzleTable");class ro{static[gt]="Table";static Symbol={Name:Ud,Schema:l0,OriginalName:c0,Columns:Ex,ExtraConfigColumns:Lx,BaseName:u0,IsAlias:gm,ExtraConfigBuilder:Rx};[Ud];[c0];[l0];[Ex];[Lx];[u0];[gm]=!1;[Lb]=!0;[Rx]=void 0;constructor(e,r,n){this[Ud]=this[c0]=e,this[l0]=r,this[u0]=n}}function Rb(t){return typeof t=="object"&&t!==null&&Lb in t}function qP(t){return t!=null&&typeof t.getSQL=="function"}function UP(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class zo{static[gt]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Bs([this])}}class Bs{constructor(e){this.queryChunks=e}static[gt]="SQL";decoder=Db;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return BP.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:o,escapeParam:u,prepareTyping:c,inlineParams:f,paramStartIndex:p}=n;return UP(e.map(m=>{if(zi(m,zo))return{sql:m.value.join(""),params:[]};if(zi(m,f1))return{sql:o(m.value),params:[]};if(m===void 0)return{sql:"",params:[]};if(Array.isArray(m)){const w=[new zo("(")];for(const[A,y]of m.entries())w.push(y),A<m.length-1&&w.push(new zo(", "));return w.push(new zo(")")),this.buildQueryFromSourceParams(w,n)}if(zi(m,Bs))return this.buildQueryFromSourceParams(m.queryChunks,{...n,inlineParams:f||m.shouldInlineParams});if(zi(m,ro)){const w=m[ro.Symbol.Schema],A=m[ro.Symbol.Name];return{sql:w===void 0||m[gm]?o(A):o(w)+"."+o(A),params:[]}}if(zi(m,Nh)){const w=a.getColumnCasing(m);if(r.invokeSource==="indexes")return{sql:o(w),params:[]};const A=m.table[ro.Symbol.Schema];return{sql:m.table[gm]||A===void 0?o(m.table[ro.Symbol.Name])+"."+o(w):o(A)+"."+o(m.table[ro.Symbol.Name])+"."+o(w),params:[]}}if(zi(m,zP)){const w=m[zd].schema,A=m[zd].name;return{sql:w===void 0||m[zd].isAlias?o(A):o(w)+"."+o(A),params:[]}}if(zi(m,Fb)){if(zi(m.value,h1))return{sql:u(p.value++,m),params:[m],typings:["none"]};const w=m.value===null?null:m.encoder.mapToDriverValue(m.value);if(zi(w,Bs))return this.buildQueryFromSourceParams([w],n);if(f)return{sql:this.mapInlineParam(w,n),params:[]};let A=["none"];return c&&(A=[c(m.encoder)]),{sql:u(p.value++,w),params:[w],typings:A}}return zi(m,h1)?{sql:u(p.value++,m),params:[m],typings:["none"]}:zi(m,Bs.Aliased)&&m.fieldAlias!==void 0?{sql:o(m.fieldAlias),params:[]}:zi(m,Eb)?m._.isWith?{sql:o(m._.alias),params:[]}:this.buildQueryFromSourceParams([new zo("("),m._.sql,new zo(") "),new f1(m._.alias)],n):MP(m)?m.schema?{sql:o(m.schema)+"."+o(m.enumName),params:[]}:{sql:o(m.enumName),params:[]}:qP(m)?m.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([m.getSQL()],n):this.buildQueryFromSourceParams([new zo("("),m.getSQL(),new zo(")")],n):f?{sql:this.mapInlineParam(m,n),params:[]}:{sql:u(p.value++,m),params:[m],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Bs.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class f1{constructor(e){this.value=e}static[gt]="Name";brand;getSQL(){return new Bs([this])}}const Db={mapFromDriverValue:t=>t},Ib={mapToDriverValue:t=>t};({...Db,...Ib});class Fb{constructor(e,r=Ib){this.value=e,this.encoder=r}static[gt]="Param";brand;getSQL(){return new Bs([this])}}function vm(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new zo(t[0]));for(const[n,a]of e.entries())r.push(a,new zo(t[n+1]));return new Bs(r)}(t=>{function e(){return new Bs([])}t.empty=e;function r(f){return new Bs(f)}t.fromList=r;function n(f){return new Bs([new zo(f)])}t.raw=n;function a(f,p){const m=[];for(const[w,A]of f.entries())w>0&&p!==void 0&&m.push(p),m.push(A);return new Bs(m)}t.join=a;function o(f){return new f1(f)}t.identifier=o;function u(f){return new h1(f)}t.placeholder=u;function c(f,p){return new Fb(f,p)}t.param=c})(vm||(vm={}));(t=>{class e{constructor(n,a){this.sql=n,this.fieldAlias=a}static[gt]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Bs||(Bs={}));class h1{constructor(e){this.name=e}static[gt]="Placeholder";getSQL(){return new Bs([this])}}const Ob=Symbol.for("drizzle:IsDrizzleView");class zP{static[gt]="View";[zd];[Ob]=!0;constructor({name:e,schema:r,selectedFields:n,query:a}){this[zd]={name:e,originalName:e,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Bs([this])}}function $P(t){return typeof t=="object"&&t!==null&&Ob in t}Nh.prototype.getSQL=function(){return new Bs([this])};ro.prototype.getSQL=function(){return new Bs([this])};Eb.prototype.getSQL=function(){return new Bs([this])};function VP(t){return t[ro.Symbol.Columns]}function HP(t){return t[zd].selectedFields}function Ti(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class Hm extends _n{static[gt]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class WP extends Hm{static[gt]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new GP(e,this.config)}}class GP extends an{static[gt]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class KP extends Hm{static[gt]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new QP(e,this.config)}}class QP extends an{static[gt]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function ZP(t,e){const{name:r,config:n}=Ti(t,e);return n.mode==="number"?new WP(r):new KP(r)}class YP extends _n{static[gt]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new XP(e,this.config)}}class XP extends an{static[gt]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class JP extends _n{static[gt]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new ek(e,this.config)}}class ek extends an{static[gt]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function tk(t,e){const{name:r,config:n}=Ti(t,e);return n.mode==="number"?new YP(r):new JP(r)}class rk extends _n{static[gt]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new nk(e,this.config)}}class nk extends an{static[gt]="PgBoolean";getSQLType(){return"boolean"}}function sk(t){return new rk(t??"")}class ik extends _n{static[gt]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new ak(e,this.config)}}class ak extends an{static[gt]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function ok(t,e={}){const{name:r,config:n}=Ti(t,e);return new ik(r,n)}class lk extends _n{static[gt]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new ck(e,this.config)}}class ck extends an{static[gt]="PgCidr";getSQLType(){return"cidr"}}function uk(t){return new lk(t??"")}class dk extends _n{static[gt]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new fk(e,this.config)}}class fk extends an{static[gt]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function hk(t){return(e,r)=>{const{name:n,config:a}=Ti(e,r);return new dk(n,a,t)}}class Ih extends _n{static[gt]="PgDateColumnBaseBuilder";defaultNow(){return this.default(vm`now()`)}}class pk extends Ih{static[gt]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new mk(e,this.config)}}class mk extends an{static[gt]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class gk extends Ih{static[gt]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new vk(e,this.config)}}class vk extends an{static[gt]="PgDateString";getSQLType(){return"date"}}function xk(t,e){const{name:r,config:n}=Ti(t,e);return n?.mode==="date"?new pk(r):new gk(r)}class yk extends _n{static[gt]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new wk(e,this.config)}}class wk extends an{static[gt]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function bk(t){return new yk(t??"")}class Nk extends _n{static[gt]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new Sk(e,this.config)}}class Sk extends an{static[gt]="PgInet";getSQLType(){return"inet"}}function jk(t){return new Nk(t??"")}class Ck extends Hm{static[gt]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new _k(e,this.config)}}class _k extends an{static[gt]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function is(t){return new Ck(t??"")}class Ak extends _n{static[gt]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new Pk(e,this.config)}}class Pk extends an{static[gt]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function kk(t,e={}){const{name:r,config:n}=Ti(t,e);return new Ak(r,n)}class Tk extends _n{static[gt]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new Ek(e,this.config)}}class Ek extends an{static[gt]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Lk(t){return new Tk(t??"")}class Rk extends _n{static[gt]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new Dk(e,this.config)}}class Dk extends an{static[gt]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Ik(t){return new Rk(t??"")}class Fk extends _n{static[gt]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new Ok(e,this.config)}}class Ok extends an{static[gt]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,a]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class Mk extends _n{static[gt]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new Bk(e,this.config)}}class Bk extends an{static[gt]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,a]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function qk(t,e){const{name:r,config:n}=Ti(t,e);return!n?.mode||n.mode==="tuple"?new Fk(r):new Mk(r)}class Uk extends _n{static[gt]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new zk(e,this.config)}}class zk extends an{static[gt]="PgMacaddr";getSQLType(){return"macaddr"}}function $k(t){return new Uk(t??"")}class Vk extends _n{static[gt]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new Hk(e,this.config)}}class Hk extends an{static[gt]="PgMacaddr8";getSQLType(){return"macaddr8"}}function Wk(t){return new Vk(t??"")}class Gk extends _n{static[gt]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new Kk(e,this.config)}}class Kk extends an{static[gt]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function Mb(t,e){const{name:r,config:n}=Ti(t,e);return new Gk(r,n?.precision,n?.scale)}const xn=Mb;class Qk extends _n{static[gt]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new Zk(e,this.config)}}class Zk extends an{static[gt]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class Yk extends _n{static[gt]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new Xk(e,this.config)}}class Xk extends an{static[gt]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function Jk(t,e){const{name:r,config:n}=Ti(t,e);return!n?.mode||n.mode==="tuple"?new Qk(r):new Yk(r)}function eT(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function Dx(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,t[e+a]);return n.getFloat64(0,!0)}function Bb(t){const e=eT(t);let r=0;const n=e[r];r+=1;const a=new DataView(e.buffer),o=a.getUint32(r,n===1);if(r+=4,o&536870912&&(a.getUint32(r,n===1),r+=4),(o&65535)===1){const u=Dx(e,r);r+=8;const c=Dx(e,r);return r+=8,[u,c]}throw new Error("Unsupported geometry type")}class tT extends _n{static[gt]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new rT(e,this.config)}}class rT extends an{static[gt]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return Bb(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class nT extends _n{static[gt]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new sT(e,this.config)}}class sT extends an{static[gt]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=Bb(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function iT(t,e){const{name:r,config:n}=Ti(t,e);return!n?.mode||n.mode==="tuple"?new tT(r):new nT(r)}class aT extends _n{static[gt]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new oT(e,this.config)}}class oT extends an{static[gt]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function lT(t){return new aT(t??"")}class cT extends _n{static[gt]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new uT(e,this.config)}}class uT extends an{static[gt]="PgSerial";getSQLType(){return"serial"}}function aa(t){return new cT(t??"")}class dT extends Hm{static[gt]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new fT(e,this.config)}}class fT extends an{static[gt]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function hT(t){return new dT(t??"")}class pT extends _n{static[gt]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new mT(e,this.config)}}class mT extends an{static[gt]="PgSmallSerial";getSQLType(){return"smallserial"}}function gT(t){return new pT(t??"")}class vT extends _n{static[gt]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new xT(e,this.config)}}class xT extends an{static[gt]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function dt(t,e={}){const{name:r,config:n}=Ti(t,e);return new vT(r,n)}class yT extends Ih{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[gt]="PgTimeBuilder";build(e){return new wT(e,this.config)}}class wT extends an{static[gt]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function bT(t,e={}){const{name:r,config:n}=Ti(t,e);return new yT(r,n.withTimezone??!1,n.precision)}class NT extends Ih{static[gt]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new ST(e,this.config)}}class ST extends an{static[gt]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class jT extends Ih{static[gt]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new CT(e,this.config)}}class CT extends an{static[gt]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Il(t,e={}){const{name:r,config:n}=Ti(t,e);return n?.mode==="string"?new jT(r,n.withTimezone??!1,n.precision):new NT(r,n?.withTimezone??!1,n?.precision)}class _T extends _n{static[gt]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(vm`gen_random_uuid()`)}build(e){return new AT(e,this.config)}}class AT extends an{static[gt]="PgUUID";getSQLType(){return"uuid"}}function PT(t){return new _T(t??"")}class kT extends _n{static[gt]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new TT(e,this.config)}}class TT extends an{static[gt]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function ET(t,e={}){const{name:r,config:n}=Ti(t,e);return new kT(r,n)}class LT extends _n{static[gt]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new RT(e,this.config)}}class RT extends an{static[gt]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function DT(t,e){const{name:r,config:n}=Ti(t,e);return new LT(r,n)}class IT extends _n{static[gt]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new FT(e,this.config)}}class FT extends an{static[gt]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function OT(t,e){const{name:r,config:n}=Ti(t,e);return new IT(r,n)}class MT extends _n{static[gt]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new BT(e,this.config)}}class BT extends an{static[gt]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function qT(t,e){const{name:r,config:n}=Ti(t,e);return new MT(r,n)}class UT extends _n{static[gt]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new zT(e,this.config)}}class zT extends an{static[gt]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function $T(t,e){const{name:r,config:n}=Ti(t,e);return new UT(r,n)}function VT(){return{bigint:ZP,bigserial:tk,boolean:sk,char:ok,cidr:uk,customType:hk,date:xk,doublePrecision:bk,inet:jk,integer:is,interval:kk,json:Lk,jsonb:Ik,line:qk,macaddr:$k,macaddr8:Wk,numeric:Mb,point:Jk,geometry:iT,real:lT,serial:aa,smallint:hT,smallserial:gT,text:dt,time:bT,timestamp:Il,uuid:PT,varchar:ET,bit:DT,halfvec:OT,sparsevec:qT,vector:$T}}const p1=Symbol.for("drizzle:PgInlineForeignKeys"),Ix=Symbol.for("drizzle:EnableRLS");class Fx extends ro{static[gt]="PgTable";static Symbol=Object.assign({},ro.Symbol,{InlineForeignKeys:p1,EnableRLS:Ix});[p1]=[];[Ix]=!1;[ro.Symbol.ExtraConfigBuilder]=void 0}function HT(t,e,r,n,a=t){const o=new Fx(t,n,a),u=typeof e=="function"?e(VT()):e,c=Object.fromEntries(Object.entries(u).map(([m,w])=>{const A=w;A.setName(m);const y=A.build(o);return o[p1].push(...A.buildForeignKeys(y,o)),[m,y]})),f=Object.fromEntries(Object.entries(u).map(([m,w])=>{const A=w;A.setName(m);const y=A.buildExtraConfigColumn(o);return[m,y]})),p=Object.assign(o,c);return p[ro.Symbol.Columns]=c,p[ro.Symbol.ExtraConfigColumns]=f,Object.assign(p,{enableRLS:()=>(p[Fx.Symbol.EnableRLS]=!0,p)})}const Sa=(t,e,r)=>HT(t,e,r,void 0),As={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Vs(t,e){return e.includes(t.columnType)}function WT(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const GT=B.union([B.string(),B.number(),B.boolean(),B.null()]),KT=B.union([GT,B.record(B.any()),B.array(B.any())]),QT=B.custom(t=>t instanceof Buffer);function qb(t,e){const r=e?.zodInstance??B,n=e?.coerce??{};let a;return WT(t)&&(a=t.enumValues.length?r.enum(t.enumValues):r.string()),a||(Vs(t,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Vs(t,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Vs(t,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=t.dimensions?a.length(t.dimensions):a):Vs(t,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Vs(t,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Vs(t,["PgArray"])?(a=r.array(qb(t.baseColumn,r)),a=t.size?a.length(t.size):a):t.dataType==="array"?a=r.array(r.any()):t.dataType==="number"?a=ZT(t,r,n):t.dataType==="bigint"?a=YT(t,r,n):t.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?a=XT(t,r,n):t.dataType==="json"?a=KT:t.dataType==="custom"?a=r.any():t.dataType==="buffer"&&(a=QT)),a||(a=r.any()),a}function ZT(t,e,r){let n=t.getSQLType().includes("unsigned"),a,o,u=!1;Vs(t,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:As.INT8_MIN,o=n?As.INT8_UNSIGNED_MAX:As.INT8_MAX,u=!0):Vs(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:As.INT16_MIN,o=n?As.INT16_UNSIGNED_MAX:As.INT16_MAX,u=!0):Vs(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:As.INT24_MIN,o=n?As.INT24_UNSIGNED_MAX:As.INT24_MAX,u=Vs(t,["MySqlMediumInt","SingleStoreMediumInt"])):Vs(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:As.INT32_MIN,o=n?As.INT32_UNSIGNED_MAX:As.INT32_MAX,u=!0):Vs(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:As.INT48_MIN,o=n?As.INT48_UNSIGNED_MAX:As.INT48_MAX):Vs(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Vs(t,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,u=!0):Vs(t,["MySqlYear","SingleStoreYear"])?(a=1901,o=2155,u=!0):(a=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER);let c=r===!0||r?.number?e.coerce.number():e.number();return c=c.min(a).max(o),u?c.int():c}function YT(t,e,r){const n=t.getSQLType().includes("unsigned"),a=n?0n:As.INT64_MIN,o=n?As.INT64_UNSIGNED_MAX:As.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(a).max(o)}function XT(t,e,r){if(Vs(t,["PgUUID"]))return e.string().uuid();let n,a,o=!1;Vs(t,["PgVarchar","SQLiteText"])?n=t.length:Vs(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??As.INT16_UNSIGNED_MAX:Vs(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=As.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=As.INT24_UNSIGNED_MAX:t.textType==="text"?n=As.INT16_UNSIGNED_MAX:n=As.INT8_UNSIGNED_MAX),Vs(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,o=!0),Vs(t,["PgBinaryVector"])&&(a=/^[01]+$/,n=t.dimensions);let u=r===!0||r?.string?e.coerce.string():e.string();return u=a?u.regex(a):u,n&&o?u.length(n):n?u.max(n):u}function Ub(t){return Rb(t)?VP(t):HP(t)}function zb(t,e,r,n){const a={};for(const[o,u]of Object.entries(t)){if(!zi(u,Nh)&&!zi(u,Bs)&&!zi(u,Bs.Aliased)&&typeof u=="object"){const w=Rb(u)||$P(u)?Ub(u):u;a[o]=zb(w,e[o]??{},r,n);continue}const c=e[o];if(c!==void 0&&typeof c!="function"){a[o]=c;continue}const f=zi(u,Nh)?u:void 0,p=f?qb(f,n):B.any(),m=typeof c=="function"?c(p):p;r.never(f)||(a[o]=m,f&&(r.nullable(f)&&(a[o]=a[o].nullable()),r.optional(f)&&(a[o]=a[o].optional())))}return B.object(a)}const JT={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},ja=(t,e)=>{const r=Ub(t);return zb(r,{},JT)},Sh=["Standard","Administrator"],$b=Sa("users",{id:aa("id").primaryKey(),username:dt("username").notNull().unique(),password:dt("password").notNull(),name:dt("name").notNull().default("Admin"),email:dt("email"),mobile:dt("mobile"),role:dt("role").notNull().default("Standard"),createdAt:Il("created_at").notNull().defaultNow()}),eE=Sa("user_client_assignments",{id:aa("id").primaryKey(),userId:is("user_id").notNull().references(()=>$b.id),clientId:is("client_id").notNull().references(()=>ov.id)}),ov=Sa("clients",{id:aa("id").primaryKey(),name:dt("name").notNull(),location:dt("location").notNull(),gstNo:dt("gst_no").notNull(),contactPerson:dt("contact_person").notNull(),mobileNumber:dt("mobile_number").notNull(),emailAddress:dt("email_address").notNull()}),xm=["Supply and Fabrication","Structural Fabrication","Job Work"],Zu=Sa("projects",{id:aa("id").primaryKey(),projectName:dt("project_name").notNull(),clientId:is("client_id").notNull().references(()=>ov.id),location:dt("location").notNull(),quotationType:dt("quotation_type").notNull(),createdAt:Il("created_at").notNull().defaultNow()}),Vb=Sa("quotations",{id:aa("id").primaryKey(),projectId:is("project_id").notNull().references(()=>Zu.id),quotationNumber:dt("quotation_number").notNull(),revision:dt("revision").notNull().default("R-000"),version:is("version").notNull().default(1),parentQuotationId:is("parent_quotation_id"),enquiryNumber:dt("enquiry_number").notNull(),subject:dt("subject").notNull(),contactName:dt("contact_name").notNull(),contactMobile:dt("contact_mobile").notNull(),contactEmail:dt("contact_email").notNull(),buildingDescription:dt("building_description"),buildingArea:dt("building_area"),frameType:dt("frame_type"),length:dt("length"),width:dt("width"),clearHeight:dt("clear_height"),roofSlope:dt("roof_slope"),paymentTerms:dt("payment_terms"),notes:dt("notes"),contentSections:dt("content_sections"),createdAt:Il("created_at").notNull().defaultNow()}),tE=Sa("quotation_items",{id:aa("id").primaryKey(),quotationId:is("quotation_id").notNull().references(()=>Vb.id),serialNo:is("serial_no").notNull(),description:dt("description").notNull(),unit:dt("unit").notNull(),quantity:xn("quantity",{precision:10,scale:2}).notNull(),rate:xn("rate",{precision:12,scale:2}).notNull(),amount:xn("amount",{precision:14,scale:2}).notNull(),remarks:dt("remarks")}),Hb=Sa("invoices",{id:aa("id").primaryKey(),projectId:is("project_id").notNull().references(()=>Zu.id),invoiceNumber:dt("invoice_number").notNull(),revision:dt("revision").notNull().default("R-001"),version:is("version").notNull().default(1),parentInvoiceId:is("parent_invoice_id"),organisationName:dt("organisation_name").notNull(),registeredAddress:dt("registered_address").notNull(),consigneeAddress:dt("consignee_address").notNull(),clientGstin:dt("client_gstin"),workOrderNo:dt("work_order_no"),dispatchDetails:dt("dispatch_details"),cgstRate:xn("cgst_rate",{precision:5,scale:2}).default("9"),sgstRate:xn("sgst_rate",{precision:5,scale:2}).default("9"),igstRate:xn("igst_rate",{precision:5,scale:2}).default("18"),appliedTaxType:dt("applied_tax_type").default("igst"),totalAmount:xn("total_amount",{precision:14,scale:2}).default("0"),totalTax:xn("total_tax",{precision:14,scale:2}).default("0"),grandTotal:xn("grand_total",{precision:14,scale:2}).default("0"),contentSections:dt("content_sections"),createdAt:Il("created_at").notNull().defaultNow()}),rE=Sa("invoice_items",{id:aa("id").primaryKey(),invoiceId:is("invoice_id").notNull().references(()=>Hb.id),serialNo:is("serial_no").notNull(),description:dt("description").notNull(),hsnCode:dt("hsn_code"),quantity:xn("quantity",{precision:10,scale:3}).notNull(),unit:dt("unit").default("LS"),ratePerUnit:xn("rate_per_unit",{precision:12,scale:2}),percentage:xn("percentage",{precision:5,scale:2}),amount:xn("amount",{precision:14,scale:2}).notNull(),remarks:dt("remarks")}),Wb=Sa("gate_passes",{id:aa("id").primaryKey(),projectId:is("project_id").notNull().references(()=>Zu.id),gatePassNumber:dt("gate_pass_number").notNull(),revision:dt("revision").notNull().default("R-001"),version:is("version").notNull().default(1),parentGatePassId:is("parent_gate_pass_id"),organisationName:dt("organisation_name").notNull(),registeredAddress:dt("registered_address").notNull(),consigneeAddress:dt("consignee_address").notNull(),clientGstin:dt("client_gstin"),workOrderNo:dt("work_order_no"),dispatchDetails:dt("dispatch_details"),cgstRate:xn("cgst_rate",{precision:5,scale:2}).default("9"),sgstRate:xn("sgst_rate",{precision:5,scale:2}).default("9"),igstRate:xn("igst_rate",{precision:5,scale:2}).default("18"),appliedTaxType:dt("applied_tax_type").default("igst"),totalAmount:xn("total_amount",{precision:14,scale:2}).default("0"),totalTax:xn("total_tax",{precision:14,scale:2}).default("0"),grandTotal:xn("grand_total",{precision:14,scale:2}).default("0"),contentSections:dt("content_sections"),createdAt:Il("created_at").notNull().defaultNow()}),nE=Sa("gate_pass_items",{id:aa("id").primaryKey(),gatePassId:is("gate_pass_id").notNull().references(()=>Wb.id),serialNo:is("serial_no").notNull(),description:dt("description").notNull(),hsnCode:dt("hsn_code"),quantity:xn("quantity",{precision:10,scale:3}).notNull(),unit:dt("unit").default("LS"),ratePerUnit:xn("rate_per_unit",{precision:12,scale:2}),percentage:xn("percentage",{precision:5,scale:2}),amount:xn("amount",{precision:14,scale:2}).notNull(),remarks:dt("remarks")}),Gb=Sa("delivery_challans",{id:aa("id").primaryKey(),projectId:is("project_id").notNull().references(()=>Zu.id),deliveryChallanNumber:dt("delivery_challan_number").notNull(),revision:dt("revision").notNull().default("R-001"),version:is("version").notNull().default(1),parentDeliveryChallanId:is("parent_delivery_challan_id"),organisationName:dt("organisation_name").notNull(),registeredAddress:dt("registered_address").notNull(),consigneeAddress:dt("consignee_address").notNull(),clientGstin:dt("client_gstin"),workOrderNo:dt("work_order_no"),dispatchDetails:dt("dispatch_details"),cgstRate:xn("cgst_rate",{precision:5,scale:2}).default("9"),sgstRate:xn("sgst_rate",{precision:5,scale:2}).default("9"),igstRate:xn("igst_rate",{precision:5,scale:2}).default("18"),appliedTaxType:dt("applied_tax_type").default("igst"),totalAmount:xn("total_amount",{precision:14,scale:2}).default("0"),totalTax:xn("total_tax",{precision:14,scale:2}).default("0"),grandTotal:xn("grand_total",{precision:14,scale:2}).default("0"),contentSections:dt("content_sections"),createdAt:Il("created_at").notNull().defaultNow()}),sE=Sa("delivery_challan_items",{id:aa("id").primaryKey(),deliveryChallanId:is("delivery_challan_id").notNull().references(()=>Gb.id),serialNo:is("serial_no").notNull(),description:dt("description").notNull(),hsnCode:dt("hsn_code"),quantity:xn("quantity",{precision:10,scale:3}).notNull(),unit:dt("unit").default("LS"),ratePerUnit:xn("rate_per_unit",{precision:12,scale:2}),percentage:xn("percentage",{precision:5,scale:2}),amount:xn("amount",{precision:14,scale:2}).notNull(),remarks:dt("remarks")}),iE=Sa("project_ledger_budgets",{id:aa("id").primaryKey(),projectId:is("project_id").notNull().references(()=>Zu.id),projectValue:xn("project_value",{precision:14,scale:2}).notNull().default("0"),updatedAt:Il("updated_at").notNull().defaultNow()}),aE=Sa("project_ledger_entries",{id:aa("id").primaryKey(),projectId:is("project_id").notNull().references(()=>Zu.id),entryDate:dt("entry_date").notNull(),entryType:dt("entry_type").notNull(),category:dt("category").notNull(),description:dt("description").notNull(),amount:xn("amount",{precision:14,scale:2}).notNull(),paymentMode:dt("payment_mode").notNull(),remarks:dt("remarks"),reference:dt("reference"),receivedAgainst:dt("received_against"),chequeNumber:dt("cheque_number"),bankName:dt("bank_name"),chequeDate:dt("cheque_date"),utrNumber:dt("utr_number"),attachmentUrl:dt("attachment_url"),createdAt:Il("created_at").notNull().defaultNow()}),oE=Sa("branding",{id:aa("id").primaryKey(),logoUrl:dt("logo_url").notNull().default("https://reviranexgen.com/assets/logo-with-name.png"),headerUrl:dt("header_url").notNull().default("https://reviranexgen.com/assets/header.jpg"),footerUrl:dt("footer_url").notNull().default("https://reviranexgen.com/assets/footer.jpg"),stampUrl:dt("stamp_url").notNull().default("https://reviranexgen.com/assets/stamp.png"),storeKeeperSignUrl:dt("store_keeper_sign_url").notNull().default(""),qcEnggSignUrl:dt("qc_engg_sign_url").notNull().default(""),storeInchargeSignUrl:dt("store_incharge_sign_url").notNull().default(""),plantHeadSignUrl:dt("plant_head_sign_url").notNull().default(""),primaryColor:dt("primary_color").notNull().default("#da2032"),secondaryColor:dt("secondary_color").notNull().default("#2f3591"),entityName:dt("entity_name").notNull().default("Revira NexGen Structure Pvt. Ltd."),cin:dt("cin").notNull().default("U16222DL2025PTC459465"),companyGstin:dt("company_gstin").notNull().default("07AAPCR3026H1ZA"),website:dt("website").notNull().default("www.reviranexgen.com"),email:dt("email").notNull().default("info@reviranexgen.com"),headOfficeAddress:dt("head_office_address").notNull().default("28, E2 Block, Shivram Park Nangloi Delhi - 110041"),workshopAddress:dt("workshop_address").notNull().default("Flat No. 302, 3rd Floor Rajat Residency, Subharambha Society Near Toll Naka, Dabha, Nagpur 440023"),updatedAt:Il("updated_at").notNull().defaultNow()});ja($b).omit({id:!0,createdAt:!0});ja(ov);ja(Zu).omit({id:!0,createdAt:!0});ja(Vb).omit({id:!0,createdAt:!0});ja(tE).omit({id:!0});ja(Hb).omit({id:!0,createdAt:!0});ja(rE).omit({id:!0});ja(Wb).omit({id:!0,createdAt:!0});ja(nE).omit({id:!0});ja(Gb).omit({id:!0,createdAt:!0});ja(sE).omit({id:!0});ja(iE).omit({id:!0,updatedAt:!0});ja(aE).omit({id:!0,createdAt:!0});const lE=ja(oE).omit({id:!0,updatedAt:!0});ja(eE).omit({id:!0});B.object({message:B.string()}),B.object({message:B.string()}),B.object({message:B.string()}),B.object({message:B.string()});const bo={auth:{login:{method:"POST",path:"/revira/api/login",input:B.object({username:B.string().email("Please enter a valid email address"),password:B.string().min(1,"Password is required")}),responses:{200:B.custom()}},logout:{method:"POST",path:"/revira/api/logout",responses:{200:B.void()}},me:{path:"/revira/api/user",responses:{200:B.custom()}}},clients:{list:{responses:{200:B.array(B.custom())}},get:{responses:{200:B.custom()}},create:{input:B.object({name:B.string().min(1,"Client name is required"),location:B.string().min(1,"Location is required"),gstNo:B.string().optional(),contactPerson:B.string().optional(),mobileNumber:B.string().optional(),emailAddress:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({name:B.string().min(1).optional(),location:B.string().min(1).optional(),gstNo:B.string().optional(),contactPerson:B.string().optional(),mobileNumber:B.string().optional(),emailAddress:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},projects:{list:{responses:{200:B.array(B.custom())}},get:{responses:{200:B.custom()}},create:{input:B.object({projectName:B.string().min(1,"Project name is required"),clientId:B.number().min(1,"Client selection is required"),location:B.string().min(1,"Location is required"),quotationType:B.enum(xm,{errorMap:()=>({message:"Quotation type is required"})})}),responses:{201:B.custom()}},update:{input:B.object({projectName:B.string().min(1).optional(),clientId:B.number().min(1).optional(),location:B.string().min(1).optional(),quotationType:B.enum(xm).optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},quotations:{list:{responses:{200:B.array(B.custom())}},get:{responses:{200:B.custom()}},getByProject:{responses:{200:B.custom()}},create:{input:B.object({projectId:B.number().min(1),quotationNumber:B.string().min(1),revision:B.string().default("R-000"),enquiryNumber:B.string().min(1),subject:B.string().min(1),contactName:B.string().min(1),contactMobile:B.string().min(1),contactEmail:B.string().email(),buildingDescription:B.string().optional(),buildingArea:B.string().optional(),frameType:B.string().optional(),length:B.string().optional(),width:B.string().optional(),clearHeight:B.string().optional(),roofSlope:B.string().optional(),paymentTerms:B.string().optional(),notes:B.string().optional(),contentSections:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({quotationNumber:B.string().min(1).optional(),revision:B.string().optional(),enquiryNumber:B.string().min(1).optional(),subject:B.string().min(1).optional(),contactName:B.string().min(1).optional(),contactMobile:B.string().min(1).optional(),contactEmail:B.string().email().optional(),buildingDescription:B.string().optional(),buildingArea:B.string().optional(),frameType:B.string().optional(),length:B.string().optional(),width:B.string().optional(),clearHeight:B.string().optional(),roofSlope:B.string().optional(),paymentTerms:B.string().optional(),notes:B.string().optional(),contentSections:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},quotationItems:{list:{responses:{200:B.array(B.custom())}},create:{input:B.object({serialNo:B.number().min(1),description:B.string().min(1),unit:B.string().min(1),quantity:B.string(),rate:B.string(),amount:B.string(),remarks:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({serialNo:B.number().min(1).optional(),description:B.string().min(1).optional(),unit:B.string().min(1).optional(),quantity:B.string().optional(),rate:B.string().optional(),amount:B.string().optional(),remarks:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},branding:{get:{responses:{200:B.custom()}},update:{input:B.object({logoUrl:B.string().optional(),headerUrl:B.string().optional(),footerUrl:B.string().optional(),stampUrl:B.string().optional(),storeKeeperSignUrl:B.string().optional(),qcEnggSignUrl:B.string().optional(),storeInchargeSignUrl:B.string().optional(),plantHeadSignUrl:B.string().optional(),primaryColor:B.string().optional(),secondaryColor:B.string().optional(),entityName:B.string().optional(),cin:B.string().optional(),companyGstin:B.string().optional(),website:B.string().optional(),email:B.string().optional(),headOfficeAddress:B.string().optional(),workshopAddress:B.string().optional()}),responses:{200:B.custom()}}},invoices:{list:{responses:{200:B.array(B.custom())}},get:{responses:{200:B.custom()}},getByProject:{responses:{200:B.custom()}},create:{input:B.object({projectId:B.number().min(1),invoiceNumber:B.string().min(1),revision:B.string().default("R-001"),organisationName:B.string().min(1),registeredAddress:B.string().min(1),consigneeAddress:B.string().min(1),clientGstin:B.string().optional(),workOrderNo:B.string().optional(),dispatchDetails:B.string().optional(),cgstRate:B.string().optional(),sgstRate:B.string().optional(),igstRate:B.string().optional(),appliedTaxType:B.string().optional(),totalAmount:B.string().optional(),totalTax:B.string().optional(),grandTotal:B.string().optional(),contentSections:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({invoiceNumber:B.string().min(1).optional(),revision:B.string().optional(),organisationName:B.string().min(1).optional(),registeredAddress:B.string().min(1).optional(),consigneeAddress:B.string().min(1).optional(),clientGstin:B.string().optional(),workOrderNo:B.string().optional(),dispatchDetails:B.string().optional(),cgstRate:B.string().optional(),sgstRate:B.string().optional(),igstRate:B.string().optional(),appliedTaxType:B.string().optional(),totalAmount:B.string().optional(),totalTax:B.string().optional(),grandTotal:B.string().optional(),contentSections:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},invoiceItems:{list:{responses:{200:B.array(B.custom())}},create:{input:B.object({serialNo:B.number().min(1),description:B.string().min(1),hsnCode:B.string().optional(),quantity:B.string(),unit:B.string().optional(),ratePerUnit:B.string().optional(),percentage:B.string().optional(),amount:B.string(),remarks:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({serialNo:B.number().min(1).optional(),description:B.string().min(1).optional(),hsnCode:B.string().optional(),quantity:B.string().optional(),unit:B.string().optional(),ratePerUnit:B.string().optional(),percentage:B.string().optional(),amount:B.string().optional(),remarks:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},gatePasses:{list:{responses:{200:B.array(B.custom())}},get:{responses:{200:B.custom()}},getByProject:{responses:{200:B.custom()}},create:{input:B.object({projectId:B.number().min(1),gatePassNumber:B.string().min(1),revision:B.string().default("R-001"),organisationName:B.string().min(1),registeredAddress:B.string().min(1),consigneeAddress:B.string().min(1),clientGstin:B.string().optional(),workOrderNo:B.string().optional(),dispatchDetails:B.string().optional(),cgstRate:B.string().optional(),sgstRate:B.string().optional(),igstRate:B.string().optional(),appliedTaxType:B.string().optional(),totalAmount:B.string().optional(),totalTax:B.string().optional(),grandTotal:B.string().optional(),contentSections:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({gatePassNumber:B.string().min(1).optional(),revision:B.string().optional(),organisationName:B.string().min(1).optional(),registeredAddress:B.string().min(1).optional(),consigneeAddress:B.string().min(1).optional(),clientGstin:B.string().optional(),workOrderNo:B.string().optional(),dispatchDetails:B.string().optional(),cgstRate:B.string().optional(),sgstRate:B.string().optional(),igstRate:B.string().optional(),appliedTaxType:B.string().optional(),totalAmount:B.string().optional(),totalTax:B.string().optional(),grandTotal:B.string().optional(),contentSections:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},gatePassItems:{list:{responses:{200:B.array(B.custom())}},create:{input:B.object({serialNo:B.number().min(1),description:B.string().min(1),hsnCode:B.string().optional(),quantity:B.string(),unit:B.string().optional(),ratePerUnit:B.string().optional(),percentage:B.string().optional(),amount:B.string(),remarks:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({serialNo:B.number().min(1).optional(),description:B.string().min(1).optional(),hsnCode:B.string().optional(),quantity:B.string().optional(),unit:B.string().optional(),ratePerUnit:B.string().optional(),percentage:B.string().optional(),amount:B.string().optional(),remarks:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},deliveryChallans:{list:{responses:{200:B.array(B.custom())}},get:{responses:{200:B.custom()}},getByProject:{responses:{200:B.custom()}},create:{input:B.object({projectId:B.number().min(1),deliveryChallanNumber:B.string().min(1),revision:B.string().default("R-001"),organisationName:B.string().min(1),registeredAddress:B.string().min(1),consigneeAddress:B.string().min(1),clientGstin:B.string().optional(),workOrderNo:B.string().optional(),dispatchDetails:B.string().optional(),cgstRate:B.string().optional(),sgstRate:B.string().optional(),igstRate:B.string().optional(),appliedTaxType:B.string().optional(),totalAmount:B.string().optional(),totalTax:B.string().optional(),grandTotal:B.string().optional(),contentSections:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({deliveryChallanNumber:B.string().min(1).optional(),revision:B.string().optional(),organisationName:B.string().min(1).optional(),registeredAddress:B.string().min(1).optional(),consigneeAddress:B.string().min(1).optional(),clientGstin:B.string().optional(),workOrderNo:B.string().optional(),dispatchDetails:B.string().optional(),cgstRate:B.string().optional(),sgstRate:B.string().optional(),igstRate:B.string().optional(),appliedTaxType:B.string().optional(),totalAmount:B.string().optional(),totalTax:B.string().optional(),grandTotal:B.string().optional(),contentSections:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},deliveryChallanItems:{list:{responses:{200:B.array(B.custom())}},create:{input:B.object({serialNo:B.number().min(1),description:B.string().min(1),hsnCode:B.string().optional(),quantity:B.string(),unit:B.string().optional(),ratePerUnit:B.string().optional(),percentage:B.string().optional(),amount:B.string(),remarks:B.string().optional()}),responses:{201:B.custom()}},update:{input:B.object({serialNo:B.number().min(1).optional(),description:B.string().min(1).optional(),hsnCode:B.string().optional(),quantity:B.string().optional(),unit:B.string().optional(),ratePerUnit:B.string().optional(),percentage:B.string().optional(),amount:B.string().optional(),remarks:B.string().optional()}),responses:{200:B.custom()}},delete:{responses:{204:B.void()}}},ledger:{getBudget:{responses:{200:B.custom().nullable()}},upsertBudget:{input:B.object({projectValue:B.string()}),responses:{200:B.custom()}},listEntries:{responses:{200:B.array(B.custom())}},createEntry:{input:B.object({entryDate:B.string().min(1),entryType:B.enum(["expense","receipt"]),category:B.string().min(1),description:B.string().min(1),amount:B.string(),paymentMode:B.string().min(1),remarks:B.string().optional(),reference:B.string().optional(),receivedAgainst:B.string().optional(),chequeNumber:B.string().optional(),bankName:B.string().optional(),chequeDate:B.string().optional(),utrNumber:B.string().optional(),attachmentUrl:B.string().optional()}),responses:{201:B.custom()}},updateEntry:{input:B.object({entryDate:B.string().optional(),entryType:B.enum(["expense","receipt"]).optional(),category:B.string().optional(),description:B.string().optional(),amount:B.string().optional(),paymentMode:B.string().optional(),remarks:B.string().optional(),reference:B.string().optional(),receivedAgainst:B.string().optional(),chequeNumber:B.string().optional(),bankName:B.string().optional(),chequeDate:B.string().optional(),utrNumber:B.string().optional(),attachmentUrl:B.string().optional()}),responses:{200:B.custom()}},deleteEntry:{responses:{204:B.void()}}},users:{list:{responses:{200:B.array(B.custom())}},get:{responses:{200:B.custom()}},create:{input:B.object({username:B.string().email("Please enter a valid email address"),password:B.string().min(6,"Password must be at least 6 characters"),name:B.string().min(1,"Name is required"),email:B.string().email("Please enter a valid email address").optional(),mobile:B.string().min(10,"Valid mobile number is required").optional(),role:B.enum(Sh,{errorMap:()=>({message:"Role is required"})}),assignedClientIds:B.array(B.number()).optional()}),responses:{201:B.custom(),403:B.object({message:B.string()})}},update:{input:B.object({username:B.string().email().optional(),password:B.string().min(6).optional(),name:B.string().min(1).optional(),email:B.string().email().optional(),mobile:B.string().min(10).optional(),role:B.enum(Sh).optional(),assignedClientIds:B.array(B.number()).optional()}),responses:{200:B.custom(),403:B.object({message:B.string()})}},delete:{responses:{204:B.void(),403:B.object({message:B.string()})}},getClientAssignments:{responses:{200:B.array(B.number())}}}};function Ca(){return Rr({queryKey:[bo.auth.me.path],queryFn:async()=>{const t=await fetch(bo.auth.me.path,{credentials:"include"});if(t.status===401)return null;if(!t.ok)throw new Error("Failed to fetch user");return bo.auth.me.responses[200].parse(await t.json())},retry:(t,e)=>e?.message?.includes("401")?!1:t<3})}function cE(){const t=Lm(),[,e]=Ma(),{toast:r}=Ba();return kn({mutationFn:async n=>{const a=bo.auth.login.input.parse(n),o=await fetch(bo.auth.login.path,{method:bo.auth.login.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"});if(!o.ok)throw o.status===401?new Error("Invalid email or password"):new Error("Login failed");return bo.auth.login.responses[200].parse(await o.json())},onSuccess:n=>{t.setQueryData([bo.auth.me.path],n),r({title:"Welcome back!",description:`Successfully logged in as ${n.name}`}),e("/revira/dashboard")},onError:n=>{r({variant:"destructive",title:"Login Failed",description:n.message})}})}function uE(){const t=Lm(),[,e]=Ma(),{toast:r}=Ba();return kn({mutationFn:async()=>{if(!(await fetch(bo.auth.logout.path,{method:bo.auth.logout.method,credentials:"include"})).ok)throw new Error("Logout failed")},onSuccess:()=>{t.setQueryData([bo.auth.me.path],null),e("/revira"),r({title:"Logged out",description:"You have been successfully logged out."})}})}const Kb=L.createContext({branding:null,isLoading:!0});function dE(){return L.useContext(Kb)}function Ox(t){t=t.replace("#","");const e=parseInt(t.substring(0,2),16)/255,r=parseInt(t.substring(2,4),16)/255,n=parseInt(t.substring(4,6),16)/255,a=Math.max(e,r,n),o=Math.min(e,r,n);let u=0,c=0;const f=(a+o)/2;if(a!==o){const p=a-o;switch(c=f>.5?p/(2-a-o):p/(a+o),a){case e:u=((r-n)/p+(r<n?6:0))/6;break;case r:u=((n-e)/p+2)/6;break;case n:u=((e-r)/p+4)/6;break}}return`${Math.round(u*360)} ${Math.round(c*100)}% ${Math.round(f*100)}%`}function fE({children:t}){const{data:e}=Ca(),{data:r,isLoading:n}=Rr({queryKey:["/revira/api/branding"],staleTime:300*1e3,enabled:!!e,refetchOnMount:!0,refetchOnWindowFocus:!1});return L.useEffect(()=>{if(r){const a=document.documentElement;if(r.primaryColor){const o=Ox(r.primaryColor);a.style.setProperty("--primary",o),a.style.setProperty("--ring",o)}if(r.secondaryColor){const o=Ox(r.secondaryColor);a.style.setProperty("--secondary",o)}}},[r]),i.jsx(Kb.Provider,{value:{branding:r||null,isLoading:n},children:t})}var Fh=t=>t.type==="checkbox",Iu=t=>t instanceof Date,va=t=>t==null;const Qb=t=>typeof t=="object";var Qs=t=>!va(t)&&!Array.isArray(t)&&Qb(t)&&!Iu(t),Zb=t=>Qs(t)&&t.target?Fh(t.target)?t.target.checked:t.target.value:t,hE=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Yb=(t,e)=>t.has(hE(e)),pE=t=>{const e=t.constructor&&t.constructor.prototype;return Qs(e)&&e.hasOwnProperty("isPrototypeOf")},lv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ui(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(lv&&(t instanceof Blob||n))&&(r||Qs(t)))if(e=r?[]:{},!r&&!pE(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Ui(t[a]));else return t;return e}var Wm=t=>Array.isArray(t)?t.filter(Boolean):[],Hs=t=>t===void 0,Dt=(t,e,r)=>{if(!e||!Qs(t))return r;const n=Wm(e.split(/[,[\].]+?/)).reduce((a,o)=>va(a)?a:a[o],t);return Hs(n)||n===t?Hs(t[e])?r:t[e]:n},eo=t=>typeof t=="boolean",cv=t=>/^\w*$/.test(t),Xb=t=>Wm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),qn=(t,e,r)=>{let n=-1;const a=cv(e)?[e]:Xb(e),o=a.length,u=o-1;for(;++n<o;){const c=a[n];let f=r;if(n!==u){const p=t[c];f=Qs(p)||Array.isArray(p)?p:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=f,t=t[c]}};const ym={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Jb=xr.createContext(null),Gm=()=>xr.useContext(Jb),mE=t=>{const{children:e,...r}=t;return xr.createElement(Jb.Provider,{value:r},e)};var eN=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(a,o,{get:()=>{const u=o;return e._proxyFormState[u]!==Vo.all&&(e._proxyFormState[u]=!n||Vo.all),r&&(r[u]=!0),t[u]}});return a};function gE(t){const e=Gm(),{control:r=e.control,disabled:n,name:a,exact:o}=t||{},[u,c]=xr.useState(r._formState),f=xr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=xr.useRef(a);return p.current=a,xr.useEffect(()=>r._subscribe({name:p.current,formState:f.current,exact:o,callback:m=>{!n&&c({...r._formState,...m})}}),[r,n,o]),xr.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),xr.useMemo(()=>eN(u,r,f.current,!1),[u,r])}var jl=t=>typeof t=="string",tN=(t,e,r,n,a)=>jl(t)?(n&&e.watch.add(t),Dt(r,t,a)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),Dt(r,o))):(n&&(e.watchAll=!0),r);function vE(t){const e=Gm(),{control:r=e.control,name:n,defaultValue:a,disabled:o,exact:u}=t||{},c=xr.useRef(n),f=xr.useRef(a);c.current=n,xr.useEffect(()=>r._subscribe({name:c.current,formState:{values:!0},exact:u,callback:w=>!o&&m(tN(c.current,r._names,w.values||r._formValues,!1,f.current))}),[r,o,u]);const[p,m]=xr.useState(r._getWatch(n,a));return xr.useEffect(()=>r._removeUnmounted()),p}function xE(t){const e=Gm(),{name:r,disabled:n,control:a=e.control,shouldUnregister:o}=t,u=Yb(a._names.array,r),c=vE({control:a,name:r,defaultValue:Dt(a._formValues,r,Dt(a._defaultValues,r,t.defaultValue)),exact:!0}),f=gE({control:a,name:r,exact:!0}),p=xr.useRef(t),m=xr.useRef(a.register(r,{...t.rules,value:c,...eo(t.disabled)?{disabled:t.disabled}:{}})),w=xr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Dt(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Dt(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Dt(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Dt(f.validatingFields,r)},error:{enumerable:!0,get:()=>Dt(f.errors,r)}}),[f,r]),A=xr.useCallback(E=>m.current.onChange({target:{value:Zb(E),name:r},type:ym.CHANGE}),[r]),y=xr.useCallback(()=>m.current.onBlur({target:{value:Dt(a._formValues,r),name:r},type:ym.BLUR}),[r,a._formValues]),D=xr.useCallback(E=>{const _=Dt(a._fields,r);_&&E&&(_._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:O=>E.setCustomValidity(O),reportValidity:()=>E.reportValidity()})},[a._fields,r]),S=xr.useMemo(()=>({name:r,value:c,...eo(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:A,onBlur:y,ref:D}),[r,n,f.disabled,A,y,D,c]);return xr.useEffect(()=>{const E=a._options.shouldUnregister||o;a.register(r,{...p.current.rules,...eo(p.current.disabled)?{disabled:p.current.disabled}:{}});const _=(O,T)=>{const z=Dt(a._fields,O);z&&z._f&&(z._f.mount=T)};if(_(r,!0),E){const O=Ui(Dt(a._options.defaultValues,r));qn(a._defaultValues,r,O),Hs(Dt(a._formValues,r))&&qn(a._formValues,r,O)}return!u&&a.register(r),()=>{(u?E&&!a._state.action:E)?a.unregister(r):_(r,!1)}},[r,a,u,o]),xr.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),xr.useMemo(()=>({field:S,formState:f,fieldState:w}),[S,f,w])}const yE=t=>t.render(xE(t));var rN=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},Jf=t=>Array.isArray(t)?t:[t],Mx=()=>{let t=[];return{get observers(){return t},next:a=>{for(const o of t)o.next&&o.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(o=>o!==a)}}),unsubscribe:()=>{t=[]}}},m1=t=>va(t)||!Qb(t);function Qc(t,e){if(m1(t)||m1(e))return t===e;if(Iu(t)&&Iu(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const o=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const u=e[a];if(Iu(o)&&Iu(u)||Qs(o)&&Qs(u)||Array.isArray(o)&&Array.isArray(u)?!Qc(o,u):o!==u)return!1}}return!0}var ga=t=>Qs(t)&&!Object.keys(t).length,uv=t=>t.type==="file",Ho=t=>typeof t=="function",wm=t=>{if(!lv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nN=t=>t.type==="select-multiple",dv=t=>t.type==="radio",wE=t=>dv(t)||Fh(t),d0=t=>wm(t)&&t.isConnected;function bE(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Hs(t)?n++:t[e[n++]];return t}function NE(t){for(const e in t)if(t.hasOwnProperty(e)&&!Hs(t[e]))return!1;return!0}function vi(t,e){const r=Array.isArray(e)?e:cv(e)?[e]:Xb(e),n=r.length===1?t:bE(t,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(Qs(n)&&ga(n)||Array.isArray(n)&&NE(n))&&vi(t,r.slice(0,-1)),t}var sN=t=>{for(const e in t)if(Ho(t[e]))return!0;return!1};function bm(t,e={}){const r=Array.isArray(t);if(Qs(t)||r)for(const n in t)Array.isArray(t[n])||Qs(t[n])&&!sN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},bm(t[n],e[n])):va(t[n])||(e[n]=!0);return e}function iN(t,e,r){const n=Array.isArray(t);if(Qs(t)||n)for(const a in t)Array.isArray(t[a])||Qs(t[a])&&!sN(t[a])?Hs(e)||m1(r[a])?r[a]=Array.isArray(t[a])?bm(t[a],[]):{...bm(t[a])}:iN(t[a],va(e)?{}:e[a],r[a]):r[a]=!Qc(t[a],e[a]);return r}var $f=(t,e)=>iN(t,e,bm(e));const Bx={value:!1,isValid:!1},qx={value:!0,isValid:!0};var aN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Hs(t[0].attributes.value)?Hs(t[0].value)||t[0].value===""?qx:{value:t[0].value,isValid:!0}:qx:Bx}return Bx},oN=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Hs(t)?t:e?t===""?NaN:t&&+t:r&&jl(t)?new Date(t):n?n(t):t;const Ux={isValid:!1,value:null};var lN=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Ux):Ux;function zx(t){const e=t.ref;return uv(e)?e.files:dv(e)?lN(t.refs).value:nN(e)?[...e.selectedOptions].map(({value:r})=>r):Fh(e)?aN(t.refs).value:oN(Hs(e.value)?t.ref.value:e.value,t)}var SE=(t,e,r,n)=>{const a={};for(const o of t){const u=Dt(e,o);u&&qn(a,o,u._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},Nm=t=>t instanceof RegExp,Vf=t=>Hs(t)?t:Nm(t)?t.source:Qs(t)?Nm(t.value)?t.value.source:t.value:t,$x=t=>({isOnSubmit:!t||t===Vo.onSubmit,isOnBlur:t===Vo.onBlur,isOnChange:t===Vo.onChange,isOnAll:t===Vo.all,isOnTouch:t===Vo.onTouched});const Vx="AsyncFunction";var jE=t=>!!t&&!!t.validate&&!!(Ho(t.validate)&&t.validate.constructor.name===Vx||Qs(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Vx)),CE=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Hx=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const eh=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const o=Dt(t,a);if(o){const{_f:u,...c}=o;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!n)return!0;if(u.ref&&e(u.ref,u.name)&&!n)return!0;if(eh(c,e))break}else if(Qs(c)&&eh(c,e))break}}};function Wx(t,e,r){const n=Dt(t,r);if(n||cv(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),u=Dt(e,o),c=Dt(t,o);if(u&&!Array.isArray(u)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};a.pop()}return{name:r}}var _E=(t,e,r,n)=>{r(t);const{name:a,...o}=t;return ga(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(u=>e[u]===(!n||Vo.all))},AE=(t,e,r)=>!t||!e||t===e||Jf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),PE=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,kE=(t,e)=>!Wm(Dt(t,e)).length&&vi(t,e),TE=(t,e,r)=>{const n=Jf(Dt(t,r));return qn(n,"root",e[r]),qn(t,r,n),t},$p=t=>jl(t);function Gx(t,e,r="validate"){if($p(t)||Array.isArray(t)&&t.every($p)||eo(t)&&!t)return{type:r,message:$p(t)?t:"",ref:e}}var bd=t=>Qs(t)&&!Nm(t)?t:{value:t,message:""},Kx=async(t,e,r,n,a,o)=>{const{ref:u,refs:c,required:f,maxLength:p,minLength:m,min:w,max:A,pattern:y,validate:D,name:S,valueAsNumber:E,mount:_}=t._f,O=Dt(r,S);if(!_||e.has(S))return{};const T=c?c[0]:u,z=F=>{a&&T.reportValidity&&(T.setCustomValidity(eo(F)?"":F||""),T.reportValidity())},ee={},ae=dv(u),W=Fh(u),te=ae||W,Q=(E||uv(u))&&Hs(u.value)&&Hs(O)||wm(u)&&u.value===""||O===""||Array.isArray(O)&&!O.length,fe=rN.bind(null,S,n,ee),U=(F,X,Y,we=lc.maxLength,ye=lc.minLength)=>{const xe=F?X:Y;ee[S]={type:F?we:ye,message:xe,ref:u,...fe(F?we:ye,xe)}};if(o?!Array.isArray(O)||!O.length:f&&(!te&&(Q||va(O))||eo(O)&&!O||W&&!aN(c).isValid||ae&&!lN(c).isValid)){const{value:F,message:X}=$p(f)?{value:!!f,message:f}:bd(f);if(F&&(ee[S]={type:lc.required,message:X,ref:T,...fe(lc.required,X)},!n))return z(X),ee}if(!Q&&(!va(w)||!va(A))){let F,X;const Y=bd(A),we=bd(w);if(!va(O)&&!isNaN(O)){const ye=u.valueAsNumber||O&&+O;va(Y.value)||(F=ye>Y.value),va(we.value)||(X=ye<we.value)}else{const ye=u.valueAsDate||new Date(O),xe=I=>new Date(new Date().toDateString()+" "+I),se=u.type=="time",me=u.type=="week";jl(Y.value)&&O&&(F=se?xe(O)>xe(Y.value):me?O>Y.value:ye>new Date(Y.value)),jl(we.value)&&O&&(X=se?xe(O)<xe(we.value):me?O<we.value:ye<new Date(we.value))}if((F||X)&&(U(!!F,Y.message,we.message,lc.max,lc.min),!n))return z(ee[S].message),ee}if((p||m)&&!Q&&(jl(O)||o&&Array.isArray(O))){const F=bd(p),X=bd(m),Y=!va(F.value)&&O.length>+F.value,we=!va(X.value)&&O.length<+X.value;if((Y||we)&&(U(Y,F.message,X.message),!n))return z(ee[S].message),ee}if(y&&!Q&&jl(O)){const{value:F,message:X}=bd(y);if(Nm(F)&&!O.match(F)&&(ee[S]={type:lc.pattern,message:X,ref:u,...fe(lc.pattern,X)},!n))return z(X),ee}if(D){if(Ho(D)){const F=await D(O,r),X=Gx(F,T);if(X&&(ee[S]={...X,...fe(lc.validate,X.message)},!n))return z(X.message),ee}else if(Qs(D)){let F={};for(const X in D){if(!ga(F)&&!n)break;const Y=Gx(await D[X](O,r),T,X);Y&&(F={...Y,...fe(X,Y.message)},z(Y.message),n&&(ee[S]=F))}if(!ga(F)&&(ee[S]={ref:T,...F},!n))return ee}}return z(!0),ee};const EE={mode:Vo.onSubmit,reValidateMode:Vo.onChange,shouldFocusError:!0};function LE(t={}){let e={...EE,...t},r={submitCount:0,isDirty:!1,isLoading:Ho(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let a=Qs(e.defaultValues)||Qs(e.values)?Ui(e.values||e.defaultValues)||{}:{},o=e.shouldUnregister?{}:Ui(a),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...m};const A={array:Mx(),state:Mx()},y=$x(e.mode),D=$x(e.reValidateMode),S=e.criteriaMode===Vo.all,E=oe=>Ne=>{clearTimeout(p),p=setTimeout(oe,Ne)},_=async oe=>{if(!e.disabled&&(m.isValid||w.isValid||oe)){const Ne=e.resolver?ga((await Q()).errors):await U(n,!0);Ne!==r.isValid&&A.state.next({isValid:Ne})}},O=(oe,Ne)=>{!e.disabled&&(m.isValidating||m.validatingFields||w.isValidating||w.validatingFields)&&((oe||Array.from(c.mount)).forEach(Fe=>{Fe&&(Ne?qn(r.validatingFields,Fe,Ne):vi(r.validatingFields,Fe))}),A.state.next({validatingFields:r.validatingFields,isValidating:!ga(r.validatingFields)}))},T=(oe,Ne=[],Fe,Re,$e=!0,ze=!0)=>{if(Re&&Fe&&!e.disabled){if(u.action=!0,ze&&Array.isArray(Dt(n,oe))){const ct=Fe(Dt(n,oe),Re.argA,Re.argB);$e&&qn(n,oe,ct)}if(ze&&Array.isArray(Dt(r.errors,oe))){const ct=Fe(Dt(r.errors,oe),Re.argA,Re.argB);$e&&qn(r.errors,oe,ct),kE(r.errors,oe)}if((m.touchedFields||w.touchedFields)&&ze&&Array.isArray(Dt(r.touchedFields,oe))){const ct=Fe(Dt(r.touchedFields,oe),Re.argA,Re.argB);$e&&qn(r.touchedFields,oe,ct)}(m.dirtyFields||w.dirtyFields)&&(r.dirtyFields=$f(a,o)),A.state.next({name:oe,isDirty:X(oe,Ne),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qn(o,oe,Ne)},z=(oe,Ne)=>{qn(r.errors,oe,Ne),A.state.next({errors:r.errors})},ee=oe=>{r.errors=oe,A.state.next({errors:r.errors,isValid:!1})},ae=(oe,Ne,Fe,Re)=>{const $e=Dt(n,oe);if($e){const ze=Dt(o,oe,Hs(Fe)?Dt(a,oe):Fe);Hs(ze)||Re&&Re.defaultChecked||Ne?qn(o,oe,Ne?ze:zx($e._f)):ye(oe,ze),u.mount&&_()}},W=(oe,Ne,Fe,Re,$e)=>{let ze=!1,ct=!1;const pt={name:oe};if(!e.disabled){if(!Fe||Re){(m.isDirty||w.isDirty)&&(ct=r.isDirty,r.isDirty=pt.isDirty=X(),ze=ct!==pt.isDirty);const Tt=Qc(Dt(a,oe),Ne);ct=!!Dt(r.dirtyFields,oe),Tt?vi(r.dirtyFields,oe):qn(r.dirtyFields,oe,!0),pt.dirtyFields=r.dirtyFields,ze=ze||(m.dirtyFields||w.dirtyFields)&&ct!==!Tt}if(Fe){const Tt=Dt(r.touchedFields,oe);Tt||(qn(r.touchedFields,oe,Fe),pt.touchedFields=r.touchedFields,ze=ze||(m.touchedFields||w.touchedFields)&&Tt!==Fe)}ze&&$e&&A.state.next(pt)}return ze?pt:{}},te=(oe,Ne,Fe,Re)=>{const $e=Dt(r.errors,oe),ze=(m.isValid||w.isValid)&&eo(Ne)&&r.isValid!==Ne;if(e.delayError&&Fe?(f=E(()=>z(oe,Fe)),f(e.delayError)):(clearTimeout(p),f=null,Fe?qn(r.errors,oe,Fe):vi(r.errors,oe)),(Fe?!Qc($e,Fe):$e)||!ga(Re)||ze){const ct={...Re,...ze&&eo(Ne)?{isValid:Ne}:{},errors:r.errors,name:oe};r={...r,...ct},A.state.next(ct)}},Q=async oe=>{O(oe,!0);const Ne=await e.resolver(o,e.context,SE(oe||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return O(oe),Ne},fe=async oe=>{const{errors:Ne}=await Q(oe);if(oe)for(const Fe of oe){const Re=Dt(Ne,Fe);Re?qn(r.errors,Fe,Re):vi(r.errors,Fe)}else r.errors=Ne;return Ne},U=async(oe,Ne,Fe={valid:!0})=>{for(const Re in oe){const $e=oe[Re];if($e){const{_f:ze,...ct}=$e;if(ze){const pt=c.array.has(ze.name),Tt=$e._f&&jE($e._f);Tt&&m.validatingFields&&O([Re],!0);const St=await Kx($e,c.disabled,o,S,e.shouldUseNativeValidation&&!Ne,pt);if(Tt&&m.validatingFields&&O([Re]),St[ze.name]&&(Fe.valid=!1,Ne))break;!Ne&&(Dt(St,ze.name)?pt?TE(r.errors,St,ze.name):qn(r.errors,ze.name,St[ze.name]):vi(r.errors,ze.name))}!ga(ct)&&await U(ct,Ne,Fe)}}return Fe.valid},F=()=>{for(const oe of c.unMount){const Ne=Dt(n,oe);Ne&&(Ne._f.refs?Ne._f.refs.every(Fe=>!d0(Fe)):!d0(Ne._f.ref))&&je(oe)}c.unMount=new Set},X=(oe,Ne)=>!e.disabled&&(oe&&Ne&&qn(o,oe,Ne),!Qc(x(),a)),Y=(oe,Ne,Fe)=>tN(oe,c,{...u.mount?o:Hs(Ne)?a:jl(oe)?{[oe]:Ne}:Ne},Fe,Ne),we=oe=>Wm(Dt(u.mount?o:a,oe,e.shouldUnregister?Dt(a,oe,[]):[])),ye=(oe,Ne,Fe={})=>{const Re=Dt(n,oe);let $e=Ne;if(Re){const ze=Re._f;ze&&(!ze.disabled&&qn(o,oe,oN(Ne,ze)),$e=wm(ze.ref)&&va(Ne)?"":Ne,nN(ze.ref)?[...ze.ref.options].forEach(ct=>ct.selected=$e.includes(ct.value)):ze.refs?Fh(ze.ref)?ze.refs.length>1?ze.refs.forEach(ct=>(!ct.defaultChecked||!ct.disabled)&&(ct.checked=Array.isArray($e)?!!$e.find(pt=>pt===ct.value):$e===ct.value)):ze.refs[0]&&(ze.refs[0].checked=!!$e):ze.refs.forEach(ct=>ct.checked=ct.value===$e):uv(ze.ref)?ze.ref.value="":(ze.ref.value=$e,ze.ref.type||A.state.next({name:oe,values:Ui(o)})))}(Fe.shouldDirty||Fe.shouldTouch)&&W(oe,$e,Fe.shouldTouch,Fe.shouldDirty,!0),Fe.shouldValidate&&j(oe)},xe=(oe,Ne,Fe)=>{for(const Re in Ne){const $e=Ne[Re],ze=`${oe}.${Re}`,ct=Dt(n,ze);(c.array.has(oe)||Qs($e)||ct&&!ct._f)&&!Iu($e)?xe(ze,$e,Fe):ye(ze,$e,Fe)}},se=(oe,Ne,Fe={})=>{const Re=Dt(n,oe),$e=c.array.has(oe),ze=Ui(Ne);qn(o,oe,ze),$e?(A.array.next({name:oe,values:Ui(o)}),(m.isDirty||m.dirtyFields||w.isDirty||w.dirtyFields)&&Fe.shouldDirty&&A.state.next({name:oe,dirtyFields:$f(a,o),isDirty:X(oe,ze)})):Re&&!Re._f&&!va(ze)?xe(oe,ze,Fe):ye(oe,ze,Fe),Hx(oe,c)&&A.state.next({...r}),A.state.next({name:u.mount?oe:void 0,values:Ui(o)})},me=async oe=>{u.mount=!0;const Ne=oe.target;let Fe=Ne.name,Re=!0;const $e=Dt(n,Fe),ze=ct=>{Re=Number.isNaN(ct)||Iu(ct)&&isNaN(ct.getTime())||Qc(ct,Dt(o,Fe,ct))};if($e){let ct,pt;const Tt=Ne.type?zx($e._f):Zb(oe),St=oe.type===ym.BLUR||oe.type===ym.FOCUS_OUT,yn=!CE($e._f)&&!e.resolver&&!Dt(r.errors,Fe)&&!$e._f.deps||PE(St,Dt(r.touchedFields,Fe),r.isSubmitted,D,y),Cr=Hx(Fe,c,St);qn(o,Fe,Tt),St?($e._f.onBlur&&$e._f.onBlur(oe),f&&f(0)):$e._f.onChange&&$e._f.onChange(oe);const yr=W(Fe,Tt,St),pr=!ga(yr)||Cr;if(!St&&A.state.next({name:Fe,type:oe.type,values:Ui(o)}),yn)return(m.isValid||w.isValid)&&(e.mode==="onBlur"?St&&_():St||_()),pr&&A.state.next({name:Fe,...Cr?{}:yr});if(!St&&Cr&&A.state.next({...r}),e.resolver){const{errors:Ir}=await Q([Fe]);if(ze(Tt),Re){const Rt=Wx(r.errors,n,Fe),wr=Wx(Ir,n,Rt.name||Fe);ct=wr.error,Fe=wr.name,pt=ga(Ir)}}else O([Fe],!0),ct=(await Kx($e,c.disabled,o,S,e.shouldUseNativeValidation))[Fe],O([Fe]),ze(Tt),Re&&(ct?pt=!1:(m.isValid||w.isValid)&&(pt=await U(n,!0)));Re&&($e._f.deps&&j($e._f.deps),te(Fe,pt,ct,yr))}},I=(oe,Ne)=>{if(Dt(r.errors,Ne)&&oe.focus)return oe.focus(),1},j=async(oe,Ne={})=>{let Fe,Re;const $e=Jf(oe);if(e.resolver){const ze=await fe(Hs(oe)?oe:$e);Fe=ga(ze),Re=oe?!$e.some(ct=>Dt(ze,ct)):Fe}else oe?(Re=(await Promise.all($e.map(async ze=>{const ct=Dt(n,ze);return await U(ct&&ct._f?{[ze]:ct}:ct)}))).every(Boolean),!(!Re&&!r.isValid)&&_()):Re=Fe=await U(n);return A.state.next({...!jl(oe)||(m.isValid||w.isValid)&&Fe!==r.isValid?{}:{name:oe},...e.resolver||!oe?{isValid:Fe}:{},errors:r.errors}),Ne.shouldFocus&&!Re&&eh(n,I,oe?$e:c.mount),Re},x=oe=>{const Ne={...u.mount?o:a};return Hs(oe)?Ne:jl(oe)?Dt(Ne,oe):oe.map(Fe=>Dt(Ne,Fe))},C=(oe,Ne)=>({invalid:!!Dt((Ne||r).errors,oe),isDirty:!!Dt((Ne||r).dirtyFields,oe),error:Dt((Ne||r).errors,oe),isValidating:!!Dt(r.validatingFields,oe),isTouched:!!Dt((Ne||r).touchedFields,oe)}),M=oe=>{oe&&Jf(oe).forEach(Ne=>vi(r.errors,Ne)),A.state.next({errors:oe?r.errors:{}})},H=(oe,Ne,Fe)=>{const Re=(Dt(n,oe,{_f:{}})._f||{}).ref,$e=Dt(r.errors,oe)||{},{ref:ze,message:ct,type:pt,...Tt}=$e;qn(r.errors,oe,{...Tt,...Ne,ref:Re}),A.state.next({name:oe,errors:r.errors,isValid:!1}),Fe&&Fe.shouldFocus&&Re&&Re.focus&&Re.focus()},ie=(oe,Ne)=>Ho(oe)?A.state.subscribe({next:Fe=>oe(Y(void 0,Ne),Fe)}):Y(oe,Ne,!0),le=oe=>A.state.subscribe({next:Ne=>{AE(oe.name,Ne.name,oe.exact)&&_E(Ne,oe.formState||m,tt,oe.reRenderRoot)&&oe.callback({values:{...o},...r,...Ne})}}).unsubscribe,ve=oe=>(u.mount=!0,w={...w,...oe.formState},le({...oe,formState:w})),je=(oe,Ne={})=>{for(const Fe of oe?Jf(oe):c.mount)c.mount.delete(Fe),c.array.delete(Fe),Ne.keepValue||(vi(n,Fe),vi(o,Fe)),!Ne.keepError&&vi(r.errors,Fe),!Ne.keepDirty&&vi(r.dirtyFields,Fe),!Ne.keepTouched&&vi(r.touchedFields,Fe),!Ne.keepIsValidating&&vi(r.validatingFields,Fe),!e.shouldUnregister&&!Ne.keepDefaultValue&&vi(a,Fe);A.state.next({values:Ui(o)}),A.state.next({...r,...Ne.keepDirty?{isDirty:X()}:{}}),!Ne.keepIsValid&&_()},Te=({disabled:oe,name:Ne})=>{(eo(oe)&&u.mount||oe||c.disabled.has(Ne))&&(oe?c.disabled.add(Ne):c.disabled.delete(Ne))},Ge=(oe,Ne={})=>{let Fe=Dt(n,oe);const Re=eo(Ne.disabled)||eo(e.disabled);return qn(n,oe,{...Fe||{},_f:{...Fe&&Fe._f?Fe._f:{ref:{name:oe}},name:oe,mount:!0,...Ne}}),c.mount.add(oe),Fe?Te({disabled:eo(Ne.disabled)?Ne.disabled:e.disabled,name:oe}):ae(oe,!0,Ne.value),{...Re?{disabled:Ne.disabled||e.disabled}:{},...e.progressive?{required:!!Ne.required,min:Vf(Ne.min),max:Vf(Ne.max),minLength:Vf(Ne.minLength),maxLength:Vf(Ne.maxLength),pattern:Vf(Ne.pattern)}:{},name:oe,onChange:me,onBlur:me,ref:$e=>{if($e){Ge(oe,Ne),Fe=Dt(n,oe);const ze=Hs($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,ct=wE(ze),pt=Fe._f.refs||[];if(ct?pt.find(Tt=>Tt===ze):ze===Fe._f.ref)return;qn(n,oe,{_f:{...Fe._f,...ct?{refs:[...pt.filter(d0),ze,...Array.isArray(Dt(a,oe))?[{}]:[]],ref:{type:ze.type,name:oe}}:{ref:ze}}}),ae(oe,!1,void 0,ze)}else Fe=Dt(n,oe,{}),Fe._f&&(Fe._f.mount=!1),(e.shouldUnregister||Ne.shouldUnregister)&&!(Yb(c.array,oe)&&u.action)&&c.unMount.add(oe)}}},at=()=>e.shouldFocusError&&eh(n,I,c.mount),nt=oe=>{eo(oe)&&(A.state.next({disabled:oe}),eh(n,(Ne,Fe)=>{const Re=Dt(n,Fe);Re&&(Ne.disabled=Re._f.disabled||oe,Array.isArray(Re._f.refs)&&Re._f.refs.forEach($e=>{$e.disabled=Re._f.disabled||oe}))},0,!1))},ht=(oe,Ne)=>async Fe=>{let Re;Fe&&(Fe.preventDefault&&Fe.preventDefault(),Fe.persist&&Fe.persist());let $e=Ui(o);if(A.state.next({isSubmitting:!0}),e.resolver){const{errors:ze,values:ct}=await Q();r.errors=ze,$e=ct}else await U(n);if(c.disabled.size)for(const ze of c.disabled)qn($e,ze,void 0);if(vi(r.errors,"root"),ga(r.errors)){A.state.next({errors:{}});try{await oe($e,Fe)}catch(ze){Re=ze}}else Ne&&await Ne({...r.errors},Fe),at(),setTimeout(at);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ga(r.errors)&&!Re,submitCount:r.submitCount+1,errors:r.errors}),Re)throw Re},re=(oe,Ne={})=>{Dt(n,oe)&&(Hs(Ne.defaultValue)?se(oe,Ui(Dt(a,oe))):(se(oe,Ne.defaultValue),qn(a,oe,Ui(Ne.defaultValue))),Ne.keepTouched||vi(r.touchedFields,oe),Ne.keepDirty||(vi(r.dirtyFields,oe),r.isDirty=Ne.defaultValue?X(oe,Ui(Dt(a,oe))):X()),Ne.keepError||(vi(r.errors,oe),m.isValid&&_()),A.state.next({...r}))},ke=(oe,Ne={})=>{const Fe=oe?Ui(oe):a,Re=Ui(Fe),$e=ga(oe),ze=$e?a:Re;if(Ne.keepDefaultValues||(a=Fe),!Ne.keepValues){if(Ne.keepDirtyValues){const ct=new Set([...c.mount,...Object.keys($f(a,o))]);for(const pt of Array.from(ct))Dt(r.dirtyFields,pt)?qn(ze,pt,Dt(o,pt)):se(pt,Dt(ze,pt))}else{if(lv&&Hs(oe))for(const ct of c.mount){const pt=Dt(n,ct);if(pt&&pt._f){const Tt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(wm(Tt)){const St=Tt.closest("form");if(St){St.reset();break}}}}for(const ct of c.mount)se(ct,Dt(ze,ct))}o=Ui(ze),A.array.next({values:{...ze}}),A.state.next({values:{...ze}})}c={mount:Ne.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!m.isValid||!!Ne.keepIsValid||!!Ne.keepDirtyValues,u.watch=!!e.shouldUnregister,A.state.next({submitCount:Ne.keepSubmitCount?r.submitCount:0,isDirty:$e?!1:Ne.keepDirty?r.isDirty:!!(Ne.keepDefaultValues&&!Qc(oe,a)),isSubmitted:Ne.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$e?{}:Ne.keepDirtyValues?Ne.keepDefaultValues&&o?$f(a,o):r.dirtyFields:Ne.keepDefaultValues&&oe?$f(a,oe):Ne.keepDirty?r.dirtyFields:{},touchedFields:Ne.keepTouched?r.touchedFields:{},errors:Ne.keepErrors?r.errors:{},isSubmitSuccessful:Ne.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(oe,Ne)=>ke(Ho(oe)?oe(o):oe,Ne),He=(oe,Ne={})=>{const Fe=Dt(n,oe),Re=Fe&&Fe._f;if(Re){const $e=Re.refs?Re.refs[0]:Re.ref;$e.focus&&($e.focus(),Ne.shouldSelect&&Ho($e.select)&&$e.select())}},tt=oe=>{r={...r,...oe}},_t={control:{register:Ge,unregister:je,getFieldState:C,handleSubmit:ht,setError:H,_subscribe:le,_runSchema:Q,_getWatch:Y,_getDirty:X,_setValid:_,_setFieldArray:T,_setDisabledField:Te,_setErrors:ee,_getFieldArray:we,_reset:ke,_resetDefaultValues:()=>Ho(e.defaultValues)&&e.defaultValues().then(oe=>{Ve(oe,e.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:nt,_subjects:A,_proxyFormState:m,get _fields(){return n},get _formValues(){return o},get _state(){return u},set _state(oe){u=oe},get _defaultValues(){return a},get _names(){return c},set _names(oe){c=oe},get _formState(){return r},get _options(){return e},set _options(oe){e={...e,...oe}}},subscribe:ve,trigger:j,register:Ge,handleSubmit:ht,watch:ie,setValue:se,getValues:x,reset:Ve,resetField:re,clearErrors:M,unregister:je,setError:H,setFocus:He,getFieldState:C};return{..._t,formControl:_t}}function df(t={}){const e=xr.useRef(void 0),r=xr.useRef(void 0),[n,a]=xr.useState({isDirty:!1,isValidating:!1,isLoading:Ho(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ho(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:LE(t),formState:n},t.formControl&&t.defaultValues&&!Ho(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,xr.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0}),[o]),xr.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),xr.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==n.isDirty&&o._subjects.state.next({isDirty:u})}},[o,n.isDirty]),xr.useEffect(()=>{t.values&&!Qc(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,a(u=>({...u}))):o._resetDefaultValues()},[t.values,o]),xr.useEffect(()=>{t.errors&&!ga(t.errors)&&o._setErrors(t.errors)},[t.errors,o]),xr.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),xr.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=eN(n,o),e.current}const Qx=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Dt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},cN=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Qx(n.ref,r,t):n.refs&&n.refs.forEach(a=>Qx(a,r,t))}},RE=(t,e)=>{e.shouldUseNativeValidation&&cN(t,e);const r={};for(const n in t){const a=Dt(e.fields,n),o=Object.assign(t[n]||{},{ref:a&&a.ref});if(DE(e.names||Object.keys(t),n)){const u=Object.assign({},Dt(r,n));qn(u,"root",o),qn(r,n,u)}else qn(r,n,o)}return r},DE=(t,e)=>t.some(r=>r.startsWith(e+"."));var IE=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,o=n.message,u=n.path.join(".");if(!r[u])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[u]={message:c.message,type:c.code}}else r[u]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(w){return t.push(w)})}),e){var f=r[u].types,p=f&&f[n.code];r[u]=rN(u,e,r,a,p?[].concat(p,n.message):n.message)}t.shift()}return r},ff=function(t,e,r){return r===void 0&&(r={}),function(n,a,o){try{return Promise.resolve((function(u,c){try{var f=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(p){return o.shouldUseNativeValidation&&cN({},o),{errors:{},values:r.raw?n:p}})}catch(p){return c(p)}return f&&f.then?f.then(void 0,c):f})(0,function(u){if((function(c){return Array.isArray(c?.errors)})(u))return{values:{},errors:RE(IE(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}};const FE=Fm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Be=L.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},o)=>{const u=n?tw:"button";return i.jsx(u,{className:zr(FE({variant:e,size:r,className:t})),ref:o,...a})});Be.displayName="Button";const et=L.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:zr("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));et.displayName="Input";var OE="Label",uN=L.forwardRef((t,e)=>i.jsx(Zr.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uN.displayName=OE;var dN=uN;const ME=Fm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fN=L.forwardRef(({className:t,...e},r)=>i.jsx(dN,{ref:r,className:zr(ME(),t),...e}));fN.displayName=dN.displayName;const hf=mE,hN=L.createContext({}),on=({...t})=>i.jsx(hN.Provider,{value:{name:t.name},children:i.jsx(yE,{...t})}),Km=()=>{const t=L.useContext(hN),e=L.useContext(pN),{getFieldState:r,formState:n}=Gm(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},pN=L.createContext({}),tn=L.forwardRef(({className:t,...e},r)=>{const n=L.useId();return i.jsx(pN.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:zr("space-y-2",t),...e})})});tn.displayName="FormItem";const rn=L.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=Km();return i.jsx(fN,{ref:r,className:zr(n&&"text-destructive",t),htmlFor:a,...e})});rn.displayName="FormLabel";const nn=L.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:o}=Km();return i.jsx(tw,{ref:e,id:n,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...t})});nn.displayName="FormControl";const BE=L.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Km();return i.jsx("p",{ref:r,id:n,className:zr("text-sm text-muted-foreground",t),...e})});BE.displayName="FormDescription";const sn=L.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:o}=Km(),u=a?String(a?.message??""):e;return u?i.jsx("p",{ref:n,id:o,className:zr("text-sm font-medium text-destructive",t),...r,children:u}):null});sn.displayName="FormMessage";const qE=bo.auth.login.input;function UE(){const[,t]=Ma(),{data:e,isLoading:r}=Ca(),{mutate:n,isPending:a}=cE(),{data:o}=Rr({queryKey:["/revira/api/branding/public"],staleTime:300*1e3}),u=df({resolver:ff(qE),defaultValues:{username:"",password:""}});L.useEffect(()=>{e&&t("/revira/dashboard")},[e,t]);function c(f){n(f)}return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:i.jsx(e1,{className:"w-8 h-8 animate-spin text-primary"})}):e?null:i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:[i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"flex justify-center mb-8",children:o?.logoUrl?i.jsx("img",{src:o.logoUrl,alt:"Company Logo",className:"h-16 max-w-[280px] object-contain","data-testid":"img-login-logo"}):i.jsx("h1",{className:"font-display font-bold text-3xl text-slate-900",children:"REVIRAAPP"})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"font-display font-bold text-2xl text-slate-900",children:"Welcome Back"}),i.jsx("p",{className:"text-slate-500 mt-2",children:"Please enter your details to sign in."})]}),i.jsx(hf,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(c),className:"space-y-6",children:[i.jsx(on,{control:u.control,name:"username",render:({field:f})=>i.jsxs(tn,{children:[i.jsx(rn,{className:"text-slate-700 font-medium",children:"Email Address"}),i.jsx(nn,{children:i.jsx(et,{placeholder:"admin@reviranexgen.com",className:"h-12 rounded-xl border-slate-300 focus:border-slate-900 transition-all","data-testid":"input-username",...f})}),i.jsx(sn,{})]})}),i.jsx(on,{control:u.control,name:"password",render:({field:f})=>i.jsxs(tn,{children:[i.jsx(rn,{className:"text-slate-700 font-medium",children:"Password"}),i.jsx(nn,{children:i.jsx(et,{type:"password",placeholder:"",className:"h-12 rounded-xl border-slate-300 focus:border-slate-900 transition-all","data-testid":"input-password",...f})}),i.jsx(sn,{})]})}),i.jsx(Be,{type:"submit",disabled:a,className:"w-full h-12 rounded-xl text-base font-semibold bg-[#da2032] hover:bg-[#c41b2b] text-white transition-all duration-300","data-testid":"button-login",children:a?i.jsxs(i.Fragment,{children:[i.jsx(e1,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})}),i.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200 text-center",children:i.jsxs("p",{className:"text-sm text-slate-500",children:["Don't have an account?"," ",i.jsx("span",{className:"font-medium text-slate-900",children:"Contact Support"})]})})]}),i.jsxs("div",{className:"fixed bottom-4 right-4 bg-slate-900/90 text-slate-300 p-4 rounded-lg backdrop-blur text-xs hidden lg:block shadow-xl",children:[i.jsx("p",{className:"font-bold text-white mb-1",children:"Demo Credentials:"}),i.jsx("p",{children:"User: admin@reviranexgen.com"}),i.jsx("p",{children:"Pass: Admin@121"})]})]})}var fv="Avatar",[zE]=Rl(fv),[$E,mN]=zE(fv),gN=L.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,o]=L.useState("idle");return i.jsx($E,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:i.jsx(Zr.span,{...n,ref:e})})});gN.displayName=fv;var vN="AvatarImage",xN=L.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=t,u=mN(vN,r),c=VE(n,o),f=Oa(p=>{a(p),u.onImageLoadingStatusChange(p)});return si(()=>{c!=="idle"&&f(c)},[c,f]),c==="loaded"?i.jsx(Zr.img,{...o,ref:e,src:n}):null});xN.displayName=vN;var yN="AvatarFallback",wN=L.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,o=mN(yN,r),[u,c]=L.useState(n===void 0);return L.useEffect(()=>{if(n!==void 0){const f=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(f)}},[n]),u&&o.imageLoadingStatus!=="loaded"?i.jsx(Zr.span,{...a,ref:e}):null});wN.displayName=yN;function Zx(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function VE(t,{referrerPolicy:e,crossOrigin:r}){const n=WE(),a=L.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[u,c]=L.useState(()=>Zx(o,t));return si(()=>{c(Zx(o,t))},[o,t]),si(()=>{const f=w=>()=>{c(w)};if(!o)return;const p=f("loaded"),m=f("error");return o.addEventListener("load",p),o.addEventListener("error",m),e&&(o.referrerPolicy=e),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",p),o.removeEventListener("error",m)}},[o,r,e]),u}function HE(){return()=>{}}function WE(){return L.useSyncExternalStore(HE,()=>!0,()=>!1)}var bN=gN,NN=xN,SN=wN;const jN=L.forwardRef(({className:t,...e},r)=>i.jsx(bN,{ref:r,className:zr(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));jN.displayName=bN.displayName;const CN=L.forwardRef(({className:t,...e},r)=>i.jsx(NN,{ref:r,className:zr("aspect-square h-full w-full",t),...e}));CN.displayName=NN.displayName;const _N=L.forwardRef(({className:t,...e},r)=>i.jsx(SN,{ref:r,className:zr("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));_N.displayName=SN.displayName;var f0="focusScope.autoFocusOnMount",h0="focusScope.autoFocusOnUnmount",Yx={bubbles:!1,cancelable:!0},GE="FocusScope",hv=L.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...u}=t,[c,f]=L.useState(null),p=Oa(a),m=Oa(o),w=L.useRef(null),A=Kn(e,S=>f(S)),y=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(n){let S=function(T){if(y.paused||!c)return;const z=T.target;c.contains(z)?w.current=z:Gc(w.current,{select:!0})},E=function(T){if(y.paused||!c)return;const z=T.relatedTarget;z!==null&&(c.contains(z)||Gc(w.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const ee of T)ee.removedNodes.length>0&&Gc(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",E);const O=new MutationObserver(_);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",E),O.disconnect()}}},[n,c,y.paused]),L.useEffect(()=>{if(c){Jx.add(y);const S=document.activeElement;if(!c.contains(S)){const _=new CustomEvent(f0,Yx);c.addEventListener(f0,p),c.dispatchEvent(_),_.defaultPrevented||(KE(JE(AN(c)),{select:!0}),document.activeElement===S&&Gc(c))}return()=>{c.removeEventListener(f0,p),setTimeout(()=>{const _=new CustomEvent(h0,Yx);c.addEventListener(h0,m),c.dispatchEvent(_),_.defaultPrevented||Gc(S??document.body,{select:!0}),c.removeEventListener(h0,m),Jx.remove(y)},0)}}},[c,p,m,y]);const D=L.useCallback(S=>{if(!r&&!n||y.paused)return;const E=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,_=document.activeElement;if(E&&_){const O=S.currentTarget,[T,z]=QE(O);T&&z?!S.shiftKey&&_===z?(S.preventDefault(),r&&Gc(T,{select:!0})):S.shiftKey&&_===T&&(S.preventDefault(),r&&Gc(z,{select:!0})):_===O&&S.preventDefault()}},[r,n,y.paused]);return i.jsx(Zr.div,{tabIndex:-1,...u,ref:A,onKeyDown:D})});hv.displayName=GE;function KE(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Gc(n,{select:e}),document.activeElement!==r)return}function QE(t){const e=AN(t),r=Xx(e,t),n=Xx(e.reverse(),t);return[r,n]}function AN(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Xx(t,e){for(const r of t)if(!ZE(r,{upTo:e}))return r}function ZE(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YE(t){return t instanceof HTMLInputElement&&"select"in t}function Gc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&YE(t)&&e&&t.select()}}var Jx=XE();function XE(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=ey(t,e),t.unshift(e)},remove(e){t=ey(t,e),t[0]?.resume()}}}function ey(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function JE(t){return t.filter(e=>e.tagName!=="A")}var p0=0;function PN(){L.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ty()),document.body.insertAdjacentElement("beforeend",t[1]??ty()),p0++,()=>{p0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),p0--}},[])}function ty(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sl=function(){return Sl=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Sl.apply(this,arguments)};function kN(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function e8(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var Vp="right-scroll-bar-position",Hp="width-before-scroll-bar",t8="with-scroll-bars-hidden",r8="--removed-body-scroll-bar-size";function m0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function n8(t,e){var r=L.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var s8=typeof window<"u"?L.useLayoutEffect:L.useEffect,ry=new WeakMap;function i8(t,e){var r=n8(null,function(n){return t.forEach(function(a){return m0(a,n)})});return s8(function(){var n=ry.get(r);if(n){var a=new Set(n),o=new Set(t),u=r.current;a.forEach(function(c){o.has(c)||m0(c,null)}),o.forEach(function(c){a.has(c)||m0(c,u)})}ry.set(r,t)},[t]),r}function a8(t){return t}function o8(t,e){e===void 0&&(e=a8);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var u=e(o,n);return r.push(u),function(){r=r.filter(function(c){return c!==u})}},assignSyncMedium:function(o){for(n=!0;r.length;){var u=r;r=[],u.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var u=[];if(r.length){var c=r;r=[],c.forEach(o),u=r}var f=function(){var m=u;u=[],m.forEach(o)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(m){u.push(m),p()},filter:function(m){return u=u.filter(m),r}}}};return a}function l8(t){t===void 0&&(t={});var e=o8(null);return e.options=Sl({async:!0,ssr:!1},t),e}var TN=function(t){var e=t.sideCar,r=kN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return L.createElement(n,Sl({},r))};TN.isSideCarExport=!0;function c8(t,e){return t.useMedium(e),TN}var EN=l8(),g0=function(){},Qm=L.forwardRef(function(t,e){var r=L.useRef(null),n=L.useState({onScrollCapture:g0,onWheelCapture:g0,onTouchMoveCapture:g0}),a=n[0],o=n[1],u=t.forwardProps,c=t.children,f=t.className,p=t.removeScrollBar,m=t.enabled,w=t.shards,A=t.sideCar,y=t.noIsolation,D=t.inert,S=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,O=t.gapMode,T=kN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=A,ee=i8([r,e]),ae=Sl(Sl({},T),a);return L.createElement(L.Fragment,null,m&&L.createElement(z,{sideCar:EN,removeScrollBar:p,shards:w,noIsolation:y,inert:D,setCallbacks:o,allowPinchZoom:!!S,lockRef:r,gapMode:O}),u?L.cloneElement(L.Children.only(c),Sl(Sl({},ae),{ref:ee})):L.createElement(_,Sl({},ae,{className:f,ref:ee}),c))});Qm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qm.classNames={fullWidth:Hp,zeroRight:Vp};var u8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=u8();return e&&t.setAttribute("nonce",e),t}function f8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function h8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var p8=function(){var t=0,e=null;return{add:function(r){t==0&&(e=d8())&&(f8(e,r),h8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},m8=function(){var t=p8();return function(e,r){L.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},LN=function(){var t=m8(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},g8={left:0,top:0,right:0,gap:0},v0=function(t){return parseInt(t||"",10)||0},v8=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[v0(r),v0(n),v0(a)]},x8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return g8;var e=v8(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},y8=LN(),$d="data-scroll-locked",w8=function(t,e,r,n){var a=t.left,o=t.top,u=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(t8,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat($d,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vp,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Hp,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Vp," .").concat(Vp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hp," .").concat(Hp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($d,`] {
    `).concat(r8,": ").concat(c,`px;
  }
`)},ny=function(){var t=parseInt(document.body.getAttribute($d)||"0",10);return isFinite(t)?t:0},b8=function(){L.useEffect(function(){return document.body.setAttribute($d,(ny()+1).toString()),function(){var t=ny()-1;t<=0?document.body.removeAttribute($d):document.body.setAttribute($d,t.toString())}},[])},N8=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;b8();var o=L.useMemo(function(){return x8(a)},[a]);return L.createElement(y8,{styles:w8(o,!e,a,r?"":"!important")})},g1=!1;if(typeof window<"u")try{var jp=Object.defineProperty({},"passive",{get:function(){return g1=!0,!0}});window.addEventListener("test",jp,jp),window.removeEventListener("test",jp,jp)}catch{g1=!1}var Nd=g1?{passive:!1}:!1,S8=function(t){return t.tagName==="TEXTAREA"},RN=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!S8(t)&&r[e]==="visible")},j8=function(t){return RN(t,"overflowY")},C8=function(t){return RN(t,"overflowX")},sy=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=DN(t,n);if(a){var o=IN(t,n),u=o[1],c=o[2];if(u>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_8=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},A8=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},DN=function(t,e){return t==="v"?j8(e):C8(e)},IN=function(t,e){return t==="v"?_8(e):A8(e)},P8=function(t,e){return t==="h"&&e==="rtl"?-1:1},k8=function(t,e,r,n,a){var o=P8(t,window.getComputedStyle(e).direction),u=o*n,c=r.target,f=e.contains(c),p=!1,m=u>0,w=0,A=0;do{var y=IN(t,c),D=y[0],S=y[1],E=y[2],_=S-E-o*D;(D||_)&&DN(t,c)&&(w+=_,A+=D),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(w)<1||!m&&Math.abs(A)<1)&&(p=!0),p},Cp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iy=function(t){return[t.deltaX,t.deltaY]},ay=function(t){return t&&"current"in t?t.current:t},T8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},E8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},L8=0,Sd=[];function R8(t){var e=L.useRef([]),r=L.useRef([0,0]),n=L.useRef(),a=L.useState(L8++)[0],o=L.useState(LN)[0],u=L.useRef(t);L.useEffect(function(){u.current=t},[t]),L.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var S=e8([t.lockRef.current],(t.shards||[]).map(ay),!0).filter(Boolean);return S.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),S.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var c=L.useCallback(function(S,E){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!u.current.allowPinchZoom;var _=Cp(S),O=r.current,T="deltaX"in S?S.deltaX:O[0]-_[0],z="deltaY"in S?S.deltaY:O[1]-_[1],ee,ae=S.target,W=Math.abs(T)>Math.abs(z)?"h":"v";if("touches"in S&&W==="h"&&ae.type==="range")return!1;var te=sy(W,ae);if(!te)return!0;if(te?ee=W:(ee=W==="v"?"h":"v",te=sy(W,ae)),!te)return!1;if(!n.current&&"changedTouches"in S&&(T||z)&&(n.current=ee),!ee)return!0;var Q=n.current||ee;return k8(Q,E,S,Q==="h"?T:z)},[]),f=L.useCallback(function(S){var E=S;if(!(!Sd.length||Sd[Sd.length-1]!==o)){var _="deltaY"in E?iy(E):Cp(E),O=e.current.filter(function(ee){return ee.name===E.type&&(ee.target===E.target||E.target===ee.shadowParent)&&T8(ee.delta,_)})[0];if(O&&O.should){E.cancelable&&E.preventDefault();return}if(!O){var T=(u.current.shards||[]).map(ay).filter(Boolean).filter(function(ee){return ee.contains(E.target)}),z=T.length>0?c(E,T[0]):!u.current.noIsolation;z&&E.cancelable&&E.preventDefault()}}},[]),p=L.useCallback(function(S,E,_,O){var T={name:S,delta:E,target:_,should:O,shadowParent:D8(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(z){return z!==T})},1)},[]),m=L.useCallback(function(S){r.current=Cp(S),n.current=void 0},[]),w=L.useCallback(function(S){p(S.type,iy(S),S.target,c(S,t.lockRef.current))},[]),A=L.useCallback(function(S){p(S.type,Cp(S),S.target,c(S,t.lockRef.current))},[]);L.useEffect(function(){return Sd.push(o),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:A}),document.addEventListener("wheel",f,Nd),document.addEventListener("touchmove",f,Nd),document.addEventListener("touchstart",m,Nd),function(){Sd=Sd.filter(function(S){return S!==o}),document.removeEventListener("wheel",f,Nd),document.removeEventListener("touchmove",f,Nd),document.removeEventListener("touchstart",m,Nd)}},[]);var y=t.removeScrollBar,D=t.inert;return L.createElement(L.Fragment,null,D?L.createElement(o,{styles:E8(a)}):null,y?L.createElement(N8,{gapMode:t.gapMode}):null)}function D8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const I8=c8(EN,R8);var pv=L.forwardRef(function(t,e){return L.createElement(Qm,Sl({},t,{ref:e,sideCar:I8}))});pv.classNames=Qm.classNames;var F8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jd=new WeakMap,_p=new WeakMap,Ap={},x0=0,FN=function(t){return t&&(t.host||FN(t.parentNode))},O8=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=FN(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},M8=function(t,e,r,n){var a=O8(e,Array.isArray(t)?t:[t]);Ap[r]||(Ap[r]=new WeakMap);var o=Ap[r],u=[],c=new Set,f=new Set(a),p=function(w){!w||c.has(w)||(c.add(w),p(w.parentNode))};a.forEach(p);var m=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(A){if(c.has(A))m(A);else try{var y=A.getAttribute(n),D=y!==null&&y!=="false",S=(jd.get(A)||0)+1,E=(o.get(A)||0)+1;jd.set(A,S),o.set(A,E),u.push(A),S===1&&D&&_p.set(A,!0),E===1&&A.setAttribute(r,"true"),D||A.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",A,_)}})};return m(e),c.clear(),x0++,function(){u.forEach(function(w){var A=jd.get(w)-1,y=o.get(w)-1;jd.set(w,A),o.set(w,y),A||(_p.has(w)||w.removeAttribute(n),_p.delete(w)),y||w.removeAttribute(r)}),x0--,x0||(jd=new WeakMap,jd=new WeakMap,_p=new WeakMap,Ap={})}},ON=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=F8(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),M8(n,a,r,"aria-hidden")):function(){return null}},mv="Dialog",[MN]=Rl(mv),[B8,el]=MN(mv),BN=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:u=!0}=t,c=L.useRef(null),f=L.useRef(null),[p=!1,m]=Jc({prop:n,defaultProp:a,onChange:o});return i.jsx(B8,{scope:e,triggerRef:c,contentRef:f,contentId:Yc(),titleId:Yc(),descriptionId:Yc(),open:p,onOpenChange:m,onOpenToggle:L.useCallback(()=>m(w=>!w),[m]),modal:u,children:r})};BN.displayName=mv;var qN="DialogTrigger",UN=L.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=el(qN,r),o=Kn(e,a.triggerRef);return i.jsx(Zr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xv(a.open),...n,ref:o,onClick:Hr(t.onClick,a.onOpenToggle)})});UN.displayName=qN;var gv="DialogPortal",[q8,zN]=MN(gv,{forceMount:void 0}),$N=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,o=el(gv,e);return i.jsx(q8,{scope:e,forceMount:r,children:L.Children.map(n,u=>i.jsx(cu,{present:r||o.open,children:i.jsx(Rm,{asChild:!0,container:a,children:u})}))})};$N.displayName=gv;var Sm="DialogOverlay",VN=L.forwardRef((t,e)=>{const r=zN(Sm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,o=el(Sm,t.__scopeDialog);return o.modal?i.jsx(cu,{present:n||o.open,children:i.jsx(z8,{...a,ref:e})}):null});VN.displayName=Sm;var U8=Kd("DialogOverlay.RemoveScroll"),z8=L.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=el(Sm,r);return i.jsx(pv,{as:U8,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Zr.div,{"data-state":xv(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Hu="DialogContent",HN=L.forwardRef((t,e)=>{const r=zN(Hu,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,o=el(Hu,t.__scopeDialog);return i.jsx(cu,{present:n||o.open,children:o.modal?i.jsx($8,{...a,ref:e}):i.jsx(V8,{...a,ref:e})})});HN.displayName=Hu;var $8=L.forwardRef((t,e)=>{const r=el(Hu,t.__scopeDialog),n=L.useRef(null),a=Kn(e,r.contentRef,n);return L.useEffect(()=>{const o=n.current;if(o)return ON(o)},[]),i.jsx(WN,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hr(t.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Hr(t.onPointerDownOutside,o=>{const u=o.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0;(u.button===2||c)&&o.preventDefault()}),onFocusOutside:Hr(t.onFocusOutside,o=>o.preventDefault())})}),V8=L.forwardRef((t,e)=>{const r=el(Hu,t.__scopeDialog),n=L.useRef(!1),a=L.useRef(!1);return i.jsx(WN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=o.target;r.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),WN=L.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...u}=t,c=el(Hu,r),f=L.useRef(null),p=Kn(e,f);return PN(),i.jsxs(i.Fragment,{children:[i.jsx(hv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(kh,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":xv(c.open),...u,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(H8,{titleId:c.titleId}),i.jsx(G8,{contentRef:f,descriptionId:c.descriptionId})]})]})}),vv="DialogTitle",GN=L.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=el(vv,r);return i.jsx(Zr.h2,{id:a.titleId,...n,ref:e})});GN.displayName=vv;var KN="DialogDescription",QN=L.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=el(KN,r);return i.jsx(Zr.p,{id:a.descriptionId,...n,ref:e})});QN.displayName=KN;var ZN="DialogClose",YN=L.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=el(ZN,r);return i.jsx(Zr.button,{type:"button",...n,ref:e,onClick:Hr(t.onClick,()=>a.onOpenChange(!1))})});YN.displayName=ZN;function xv(t){return t?"open":"closed"}var XN="DialogTitleWarning",[p7,JN]=sC(XN,{contentName:Hu,titleName:vv,docsSlug:"dialog"}),H8=({titleId:t})=>{const e=JN(XN),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return L.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},W8="DialogDescriptionWarning",G8=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JN(W8).contentName}}.`;return L.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},eS=BN,tS=UN,rS=$N,Zm=VN,Ym=HN,Xm=GN,Jm=QN,nS=YN;const K8=eS,Q8=tS,Z8=rS,sS=L.forwardRef(({className:t,...e},r)=>i.jsx(Zm,{className:zr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));sS.displayName=Zm.displayName;const Y8=Fm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),iS=L.forwardRef(({side:t="right",className:e,children:r,...n},a)=>i.jsxs(Z8,{children:[i.jsx(sS,{}),i.jsxs(Ym,{ref:a,className:zr(Y8({side:t}),e),...n,children:[r,i.jsxs(nS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(of,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));iS.displayName=Ym.displayName;const X8=L.forwardRef(({className:t,...e},r)=>i.jsx(Xm,{ref:r,className:zr("text-lg font-semibold text-foreground",t),...e}));X8.displayName=Xm.displayName;const J8=L.forwardRef(({className:t,...e},r)=>i.jsx(Jm,{ref:r,className:zr("text-sm text-muted-foreground",t),...e}));J8.displayName=Jm.displayName;function ks({children:t,user:e}){const[r]=Ma(),{mutate:n}=uE(),[a,o]=L.useState(!1),{branding:u}=dE(),c=[{name:"Dashboard",href:"/revira/dashboard",icon:t_},{name:"Clients",href:"/revira/clients",icon:ah},{name:"Projects",href:"/revira/projects",icon:nm},{name:"User Management",href:"/revira/users",icon:d_},{name:"Branding",href:"/revira/branding",icon:t1},{name:"Settings",href:"/revira/settings",icon:a_}],f=()=>i.jsxs("div",{className:"flex flex-col h-full bg-white",children:[i.jsx("div",{className:"p-6 border-b border-slate-200",children:i.jsx("div",{className:"flex justify-center",children:u?.logoUrl?i.jsx("img",{src:u.logoUrl,alt:"Company Logo",className:"h-12 max-w-[200px] object-contain","data-testid":"img-sidebar-logo"}):i.jsx("h1",{className:"font-display font-bold text-xl text-slate-900",children:"REVIRAAPP"})})}),i.jsx("div",{className:"flex-1 px-4 py-6 space-y-1",children:c.map(p=>{const m=r===p.href;return i.jsxs(B5,{href:p.href,className:`
              flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group
              ${m?"bg-[#da2032] text-white":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}
            `,children:[i.jsx(p.icon,{className:`w-5 h-5 ${m?"text-white":"text-slate-500 group-hover:text-slate-900"}`}),i.jsx("span",{className:"font-medium",children:p.name})]},p.name)})}),i.jsxs("div",{className:"p-4 border-t border-slate-200",children:[i.jsx("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200 mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(jN,{className:"h-10 w-10 border-2 border-slate-200",children:[i.jsx(CN,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${e?.name}`}),i.jsx(_N,{className:"bg-slate-200 text-slate-700",children:e?.name?.[0]})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:e?.name}),i.jsx("p",{className:"text-xs text-slate-500 truncate",children:e?.username})]})]})}),i.jsxs(Be,{variant:"outline",className:"w-full justify-start gap-3 text-slate-700 hover:text-slate-900 border-slate-300",onClick:()=>n(),children:[i.jsx(r_,{className:"w-4 h-4"}),"Sign Out"]})]})]});return i.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[i.jsx("aside",{className:"hidden lg:block w-72 h-screen sticky top-0 border-r border-slate-200",children:i.jsx(f,{})}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[i.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 sticky top-0 z-30 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4 lg:hidden",children:[i.jsxs(K8,{open:a,onOpenChange:o,children:[i.jsx(Q8,{asChild:!0,children:i.jsx(Be,{variant:"ghost",size:"icon",className:"-ml-2",children:i.jsx(n_,{className:"w-6 h-6 text-slate-600"})})}),i.jsx(iS,{side:"left",className:"p-0 w-72 border-r-0",children:i.jsx(f,{})})]}),u?.logoUrl?i.jsx("img",{src:u.logoUrl,alt:"Company Logo",className:"h-8 max-w-[140px] object-contain"}):i.jsx("span",{className:"font-display font-bold text-xl text-slate-900",children:"REVIRAAPP"})]}),i.jsx("div",{className:"flex-1 max-w-xl mx-auto hidden lg:block px-8",children:i.jsxs("div",{className:"relative",children:[i.jsx(G1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search resources...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-slate-100 border-transparent focus:bg-white focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200 text-sm"})]})}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs(Be,{variant:"ghost",size:"icon",className:"relative text-slate-500 hover:text-slate-700",children:[i.jsx(YC,{className:"w-5 h-5"}),i.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white"})]})})]}),i.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:i.jsx("div",{className:"max-w-7xl mx-auto animate-fade-in",children:t})})]})]})}const Ar=L.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:zr("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ar.displayName="Card";const Yn=L.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:zr("flex flex-col space-y-1.5 p-6",t),...e}));Yn.displayName="CardHeader";const Xn=L.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:zr("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xn.displayName="CardTitle";const Kc=L.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:zr("text-sm text-muted-foreground",t),...e}));Kc.displayName="CardDescription";const Pr=L.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:zr("p-6 pt-0",t),...e}));Pr.displayName="CardContent";const eL=L.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:zr("flex items-center p-6 pt-0",t),...e}));eL.displayName="CardFooter";async function Cd(t){try{const e=await fetch(t,{credentials:"include"});return e.ok?e.json():[]}catch{return[]}}function tL(){const{data:t,isLoading:e}=Ca(),[,r]=Ma(),{data:n=[]}=Rr({queryKey:["/revira/dashboard/clients"],queryFn:()=>Cd("/revira/api/clients"),enabled:!!t}),{data:a=[]}=Rr({queryKey:["/revira/dashboard/projects"],queryFn:()=>Cd("/revira/api/projects"),enabled:!!t}),{data:o=[]}=Rr({queryKey:["/revira/dashboard/quotations"],queryFn:()=>Cd("/revira/api/quotations"),enabled:!!t}),{data:u=[]}=Rr({queryKey:["/revira/dashboard/invoices"],queryFn:()=>Cd("/revira/api/invoices"),enabled:!!t}),{data:c=[]}=Rr({queryKey:["/revira/dashboard/gate-passes"],queryFn:()=>Cd("/revira/api/gate-passes"),enabled:!!t}),{data:f=[]}=Rr({queryKey:["/revira/dashboard/delivery-challans"],queryFn:()=>Cd("/revira/api/delivery-challans"),enabled:!!t}),p=L.useMemo(()=>{const S=new Map;return a.forEach(E=>S.set(E.id,E.projectName)),S},[a]),m=S=>{const E=String(S??"0").replace(/,/g,""),_=Number(E);return Number.isFinite(_)?_:0},w=L.useMemo(()=>u.reduce((S,E)=>S+m(E.grandTotal),0),[u]),A=L.useMemo(()=>{const S=new Set(o.map(ee=>ee.projectId)),E=new Set(u.map(ee=>ee.projectId)),_=new Set(c.map(ee=>ee.projectId)),O=new Set(f.map(ee=>ee.projectId)),T=a.length||1,z=a.filter(ee=>S.has(ee.id)&&E.has(ee.id)&&_.has(ee.id)&&O.has(ee.id)).length;return{quotationCoverage:Math.round(S.size/T*100),invoiceCoverage:Math.round(E.size/T*100),gatePassCoverage:Math.round(_.size/T*100),deliveryCoverage:Math.round(O.size/T*100),fullDocProjects:z}},[a,o,u,c,f]),y=L.useMemo(()=>{const S=_=>new Date(_?String(_):0).getTime();return[...o.map(_=>({id:`q-${_.id}`,type:"Quotation",number:_.quotationNumber,projectId:_.projectId,revision:_.revision,createdAt:_.createdAt})),...u.map(_=>({id:`i-${_.id}`,type:"Invoice",number:_.invoiceNumber,projectId:_.projectId,revision:_.revision,createdAt:_.createdAt})),...c.map(_=>({id:`g-${_.id}`,type:"Gate Pass",number:_.gatePassNumber,projectId:_.projectId,revision:_.revision,createdAt:_.createdAt})),...f.map(_=>({id:`d-${_.id}`,type:"Delivery Challan",number:_.deliveryChallanNumber,projectId:_.projectId,revision:_.revision,createdAt:_.createdAt}))].sort((_,O)=>S(O.createdAt)-S(_.createdAt)).slice(0,8)},[o,u,c,f]);if(e)return null;const D=[{title:"Clients",value:n.length,icon:ah,color:"text-blue-600",bg:"bg-blue-50"},{title:"Projects",value:a.length,icon:nm,color:"text-indigo-600",bg:"bg-indigo-50"},{title:"Documents",value:o.length+u.length+c.length+f.length,icon:xa,color:"text-emerald-600",bg:"bg-emerald-50"},{title:"Invoice Value",value:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(w),icon:e_,color:"text-amber-600",bg:"bg-amber-50"}];return i.jsx(ks,{user:t,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),i.jsxs("p",{className:"text-slate-500 mt-1",children:["Welcome, ",t?.name,". Live snapshot of projects and document flow."]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Be,{variant:"outline",onClick:()=>r("/revira/clients"),children:"Clients"}),i.jsx(Be,{variant:"outline",onClick:()=>r("/revira/projects"),children:"Projects"})]})]}),i.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:D.map(S=>i.jsx(Ar,{className:"border-slate-200",children:i.jsx(Pr,{className:"p-5",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:S.title}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-slate-900",children:S.value})]}),i.jsx("div",{className:`rounded-lg p-2.5 ${S.bg}`,children:i.jsx(S.icon,{className:`h-5 w-5 ${S.color}`})})]})})},S.title))}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 xl:grid-cols-3",children:[i.jsxs(Ar,{className:"xl:col-span-2 border-slate-200",children:[i.jsx(Yn,{className:"pb-2",children:i.jsx(Xn,{className:"text-base",children:"Recent Document Activity"})}),i.jsx(Pr,{children:y.length===0?i.jsx("p",{className:"text-sm text-slate-500",children:"No activity yet. Create a project and start with quotation."}):i.jsx("div",{className:"space-y-2",children:y.map(S=>i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 px-3 py-2.5",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[S.type," ",i.jsxs("span",{className:"font-normal text-slate-500",children:["(",S.revision,")"]})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[S.number," | ",p.get(S.projectId)||"Unknown Project"]})]}),i.jsx("p",{className:"text-xs text-slate-500",children:S.createdAt?new Date(S.createdAt).toLocaleDateString("en-IN"):"-"})]},S.id))})})]}),i.jsxs(Ar,{className:"border-slate-200",children:[i.jsx(Yn,{className:"pb-2",children:i.jsx(Xn,{className:"text-base",children:"Documentation Health"})}),i.jsxs(Pr,{className:"space-y-3",children:[i.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Projects with all docs"}),i.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[A.fullDocProjects,"/",a.length]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(xa,{className:"h-4 w-4 text-red-500"})," Quotations"]}),i.jsxs("span",{className:"font-semibold",children:[A.quotationCoverage,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(r1,{className:"h-4 w-4 text-green-600"})," Invoices"]}),i.jsxs("span",{className:"font-semibold",children:[A.invoiceCoverage,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(J0,{className:"h-4 w-4 text-blue-600"})," Gate Pass"]}),i.jsxs("span",{className:"font-semibold",children:[A.gatePassCoverage,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(X0,{className:"h-4 w-4 text-indigo-600"})," Delivery Challan"]}),i.jsxs("span",{className:"font-semibold",children:[A.deliveryCoverage,"%"]})]})]}),i.jsxs(Be,{className:"w-full mt-2",variant:"outline",onClick:()=>r("/revira/projects"),children:["Review Projects ",i.jsx(QC,{className:"ml-2 h-4 w-4"})]}),i.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-2.5 text-xs text-emerald-700 flex items-center gap-2",children:[i.jsx(ZC,{className:"h-4 w-4"}),"Keep all four documents updated for better project traceability."]})]})]})]})]})})}const Fa=eS,jh=tS,rL=rS,aS=L.forwardRef(({className:t,...e},r)=>i.jsx(Zm,{ref:r,className:zr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));aS.displayName=Zm.displayName;const ya=L.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(rL,{children:[i.jsx(aS,{}),i.jsxs(Ym,{ref:n,className:zr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(nS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(of,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ya.displayName=Ym.displayName;const wa=({className:t,...e})=>i.jsx("div",{className:zr("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});wa.displayName="DialogHeader";const ba=L.forwardRef(({className:t,...e},r)=>i.jsx(Xm,{ref:r,className:zr("text-lg font-semibold leading-none tracking-tight",t),...e}));ba.displayName=Xm.displayName;const ef=L.forwardRef(({className:t,...e},r)=>i.jsx(Jm,{ref:r,className:zr("text-sm text-muted-foreground",t),...e}));ef.displayName=Jm.displayName;const nL=B.object({name:B.string().min(1,"Client name is required"),location:B.string(),gstNo:B.string(),contactPerson:B.string(),mobileNumber:B.string().min(10,"Valid mobile number is required"),emailAddress:B.string()}),sL=t=>({...t,gstNo:t.gstNo?.trim()||"NA",contactPerson:t.contactPerson?.trim()||"NA",mobileNumber:t.mobileNumber?.trim()||"0000000000",emailAddress:t.emailAddress?.trim()||"na@example.com"});function iL(){const[t,e]=L.useState(!1),[r,n]=L.useState(null),[a,o]=L.useState(""),[,u]=Ma(),{toast:c}=Ba(),{data:f}=Ca(),{data:p,isLoading:m}=Rr({queryKey:["/revira/api/clients"]}),w=df({resolver:ff(nL),defaultValues:{name:"",location:"",gstNo:"",contactPerson:"",mobileNumber:"",emailAddress:""}}),A=kn({mutationFn:async T=>(await Mr("POST","/revira/api/clients",sL(T))).json(),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/clients"]}),w.reset(),e(!1),c({title:"Success",description:"Client created successfully"})},onError:T=>{c({title:"Error",description:T.message,variant:"destructive"})}}),y=kn({mutationFn:async({id:T,data:z})=>(await Mr("PUT",`/revira/api/clients/${T}`,z)).json(),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/clients"]}),w.reset(),n(null),e(!1),c({title:"Success",description:"Client updated successfully"})},onError:T=>{c({title:"Error",description:T.message,variant:"destructive"})}}),D=kn({mutationFn:async T=>{await Mr("DELETE",`/revira/api/clients/${T}`)},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/clients"]}),c({title:"Success",description:"Client deleted successfully"})},onError:T=>{c({title:"Error",description:T.message,variant:"destructive"})}}),S=T=>{r?y.mutate({id:r.id,data:T}):A.mutate(T)},E=T=>{n(T),w.reset({name:T.name,location:T.location,gstNo:T.gstNo,contactPerson:T.contactPerson,mobileNumber:T.mobileNumber,emailAddress:T.emailAddress}),e(!0)},_=T=>{e(T),T||(n(null),w.reset())},O=L.useMemo(()=>{const T=a.trim().toLowerCase(),z=[...p??[]].sort((ee,ae)=>ae.id-ee.id);return T?z.filter(ee=>[ee.name,ee.location,ee.gstNo,ee.contactPerson,ee.mobileNumber,ee.emailAddress].join(" ").toLowerCase().includes(T)):z},[p,a]);return i.jsxs(ks,{user:f,children:[i.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary to-primary/80 text-white shadow-lg shadow-primary/25",children:i.jsx(ah,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Clients"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Manage your client partners"})]})]}),i.jsxs(Fa,{open:t,onOpenChange:_,children:[i.jsx(jh,{asChild:!0,children:i.jsxs(Be,{"data-testid":"button-add-client",className:"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg shadow-primary/25 transition-all duration-300",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),i.jsxs(ya,{className:"sm:max-w-[500px]",children:[i.jsxs(wa,{children:[i.jsx(ba,{children:r?"Edit Client":"Create New Client"}),i.jsx(ef,{children:r?"Update client details below.":"Add a new client partner to your system."})]}),i.jsx(hf,{...w,children:i.jsxs("form",{onSubmit:w.handleSubmit(S),className:"space-y-4",children:[i.jsx(on,{control:w.control,name:"name",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Client Name"}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-client-name",placeholder:"Enter client name",...T})}),i.jsx(sn,{})]})}),i.jsx(on,{control:w.control,name:"location",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Location"}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-location",placeholder:"Enter location",...T})}),i.jsx(sn,{})]})}),i.jsx(on,{control:w.control,name:"gstNo",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"GST No."}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-gst-no",placeholder:"Enter GST number",...T})}),i.jsx(sn,{})]})}),i.jsx(on,{control:w.control,name:"contactPerson",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Contact Person"}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-contact-person",placeholder:"Enter contact person name",...T})}),i.jsx(sn,{})]})}),i.jsx(on,{control:w.control,name:"mobileNumber",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Mobile Number"}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-mobile-number",placeholder:"Enter mobile number",...T})}),i.jsx(sn,{})]})}),i.jsx(on,{control:w.control,name:"emailAddress",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Email Address"}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-email-address",type:"email",placeholder:"Enter email address",...T})}),i.jsx(sn,{})]})}),i.jsx(Be,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-primary/90",disabled:A.isPending||y.isPending,"data-testid":"button-submit-client",children:A.isPending||y.isPending?r?"Updating...":"Creating...":r?"Update Client":"Create Client"})]})})]})]})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(G1,{className:"h-4 w-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),i.jsx(et,{value:a,onChange:T=>o(T.target.value),placeholder:"Search by name, GST, location, contact...",className:"pl-9","data-testid":"input-search-clients"})]})]}),i.jsx(Ar,{className:"border-0 shadow-lg overflow-hidden",children:i.jsxs(Pr,{className:"p-0",children:[i.jsx("div",{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4",children:[i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Client Name"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Location"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"GST No."})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Contact Person"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Contact Info"})}),i.jsx("div",{className:"col-span-2 text-right",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})})]})}),m?i.jsx("div",{className:"divide-y divide-slate-100",children:[1,2,3].map(T=>i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-5 animate-pulse",children:[i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-28"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-20"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-32"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-28"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-16 ml-auto"})})]},T))}):O.length>0?i.jsxs("div",{className:"divide-y divide-slate-100",children:[O.map(T=>i.jsxs("div",{"data-testid":`row-client-${T.id}`,className:"hidden md:grid grid-cols-12 gap-4 px-6 py-5 items-center hover:bg-slate-50/50 transition-colors group",children:[i.jsxs("div",{className:"col-span-2 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center text-white font-bold text-sm shadow-sm",children:i.jsx(W1,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-semibold text-slate-800 uppercase text-sm","data-testid":`text-client-name-${T.id}`,children:T.name.length>15?T.name.substring(0,15)+"...":T.name})]}),i.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[i.jsx(eu,{className:"w-3.5 h-3.5 text-slate-400"}),i.jsx("span",{className:"text-slate-600 text-sm","data-testid":`text-location-${T.id}`,children:T.location})]}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-slate-700 text-sm font-mono","data-testid":`text-gst-${T.id}`,children:T.gstNo})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-slate-600 text-sm","data-testid":`text-contact-${T.id}`,children:T.contactPerson})}),i.jsxs("div",{className:"col-span-2 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tw,{className:"w-3 h-3 text-green-500"}),i.jsx("span",{className:"text-slate-600 text-xs","data-testid":`text-mobile-${T.id}`,children:T.mobileNumber})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Lh,{className:"w-3 h-3 text-blue-500"}),i.jsx("span",{className:"text-slate-600 text-xs truncate max-w-[140px]","data-testid":`text-email-${T.id}`,title:T.emailAddress,children:T.emailAddress})]})]}),i.jsxs("div",{className:"col-span-2 flex items-center justify-end gap-1",children:[i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-indigo-600 hover:bg-indigo-50",onClick:()=>u(`/clients/${T.id}/ledger`),"data-testid":`button-ledger-client-${T.id}`,title:"Client Ledger",children:i.jsx(sm,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-amber-600 hover:bg-amber-50",onClick:()=>E(T),"data-testid":`button-edit-client-${T.id}`,title:"Edit Client",children:i.jsx(qu,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-red-600 hover:bg-red-50",onClick:()=>D.mutate(T.id),disabled:D.isPending,"data-testid":`button-delete-client-${T.id}`,title:"Delete Client",children:i.jsx(mn,{className:"w-4 h-4"})})]})]},T.id)),O.map(T=>i.jsxs("div",{className:"md:hidden px-4 py-4 space-y-2 hover:bg-slate-50/50","data-testid":`card-client-${T.id}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900 uppercase text-sm",children:T.name}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-indigo-600 hover:bg-indigo-50",onClick:()=>u(`/clients/${T.id}/ledger`),"data-testid":`button-ledger-client-mobile-${T.id}`,title:"Client Ledger",children:i.jsx(sm,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-amber-600 hover:bg-amber-50",onClick:()=>E(T),"data-testid":`button-edit-client-mobile-${T.id}`,children:i.jsx(qu,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-red-600 hover:bg-red-50",onClick:()=>D.mutate(T.id),disabled:D.isPending,"data-testid":`button-delete-client-mobile-${T.id}`,children:i.jsx(mn,{className:"w-4 h-4"})})]})]}),i.jsxs("p",{className:"text-xs text-slate-600",children:[i.jsx("span",{className:"font-semibold",children:"GST:"})," ",T.gstNo]}),i.jsxs("p",{className:"text-xs text-slate-600",children:[i.jsx("span",{className:"font-semibold",children:"Contact:"})," ",T.contactPerson]}),i.jsxs("p",{className:"text-xs text-slate-600",children:[i.jsx("span",{className:"font-semibold",children:"Mobile:"})," ",T.mobileNumber]}),i.jsxs("p",{className:"text-xs text-slate-600 break-all",children:[i.jsx("span",{className:"font-semibold",children:"Email:"})," ",T.emailAddress]})]},`mobile-${T.id}`))]}):i.jsxs("div",{className:"py-16 text-center",children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gradient-to-br from-primary/10 to-blue-500/10 flex items-center justify-center mb-4",children:i.jsx(ah,{className:"w-8 h-8 text-primary/60"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No clients yet"}),i.jsx("p",{className:"text-slate-500 mb-6 max-w-sm mx-auto",children:"Get started by adding your first client partner."}),i.jsxs(Be,{onClick:()=>e(!0),className:"bg-gradient-to-r from-primary to-primary/90 shadow-lg shadow-primary/25",children:[i.jsx(ki,{className:"w-4 h-4 mr-2"}),"Add First Client"]})]})]})})]})}function oy(t,[e,r]){return Math.min(r,Math.max(e,t))}var aL=L.createContext(void 0);function oS(t){const e=L.useContext(aL);return t||e||"ltr"}function lS(t){const e=L.useRef({value:t,previous:t});return L.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var oL=[" ","Enter","ArrowUp","ArrowDown"],lL=[" ","Enter"],Oh="Select",[eg,tg,cL]=z1(Oh),[pf]=Rl(Oh,[cL,Um]),rg=Um(),[uL,uu]=pf(Oh),[dL,fL]=pf(Oh),cS=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:o,value:u,defaultValue:c,onValueChange:f,dir:p,name:m,autoComplete:w,disabled:A,required:y,form:D}=t,S=rg(e),[E,_]=L.useState(null),[O,T]=L.useState(null),[z,ee]=L.useState(!1),ae=oS(p),[W=!1,te]=Jc({prop:n,defaultProp:a,onChange:o}),[Q,fe]=Jc({prop:u,defaultProp:c,onChange:f}),U=L.useRef(null),F=E?D||!!E.closest("form"):!0,[X,Y]=L.useState(new Set),we=Array.from(X).map(ye=>ye.props.value).join(";");return i.jsx(r6,{...S,children:i.jsxs(uL,{required:y,scope:e,trigger:E,onTriggerChange:_,valueNode:O,onValueNodeChange:T,valueNodeHasChildren:z,onValueNodeHasChildrenChange:ee,contentId:Yc(),value:Q,onValueChange:fe,open:W,onOpenChange:te,dir:ae,triggerPointerDownPosRef:U,disabled:A,children:[i.jsx(eg.Provider,{scope:e,children:i.jsx(dL,{scope:t.__scopeSelect,onNativeOptionAdd:L.useCallback(ye=>{Y(xe=>new Set(xe).add(ye))},[]),onNativeOptionRemove:L.useCallback(ye=>{Y(xe=>{const se=new Set(xe);return se.delete(ye),se})},[]),children:r})}),F?i.jsxs(DS,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:w,value:Q,onChange:ye=>fe(ye.target.value),disabled:A,form:D,children:[Q===void 0?i.jsx("option",{value:""}):null,Array.from(X)]},we):null]})})};cS.displayName=Oh;var uS="SelectTrigger",dS=L.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,o=rg(r),u=uu(uS,r),c=u.disabled||n,f=Kn(e,u.onTriggerChange),p=tg(r),m=L.useRef("touch"),[w,A,y]=IS(S=>{const E=p().filter(T=>!T.disabled),_=E.find(T=>T.value===u.value),O=FS(E,S,_);O!==void 0&&u.onValueChange(O.value)}),D=S=>{c||(u.onOpenChange(!0),y()),S&&(u.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return i.jsx(lb,{asChild:!0,...o,children:i.jsx(Zr.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":RS(u.value)?"":void 0,...a,ref:f,onClick:Hr(a.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&D(S)}),onPointerDown:Hr(a.onPointerDown,S=>{m.current=S.pointerType;const E=S.target;E.hasPointerCapture(S.pointerId)&&E.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(D(S),S.preventDefault())}),onKeyDown:Hr(a.onKeyDown,S=>{const E=w.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&A(S.key),!(E&&S.key===" ")&&oL.includes(S.key)&&(D(),S.preventDefault())})})})});dS.displayName=uS;var fS="SelectValue",hS=L.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:u="",...c}=t,f=uu(fS,r),{onValueNodeHasChildrenChange:p}=f,m=o!==void 0,w=Kn(e,f.onValueNodeChange);return si(()=>{p(m)},[p,m]),i.jsx(Zr.span,{...c,ref:w,style:{pointerEvents:"none"},children:RS(f.value)?i.jsx(i.Fragment,{children:u}):o})});hS.displayName=fS;var hL="SelectIcon",pS=L.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return i.jsx(Zr.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});pS.displayName=hL;var pL="SelectPortal",mS=t=>i.jsx(Rm,{asChild:!0,...t});mS.displayName=pL;var Wu="SelectContent",gS=L.forwardRef((t,e)=>{const r=uu(Wu,t.__scopeSelect),[n,a]=L.useState();if(si(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?nf.createPortal(i.jsx(vS,{scope:t.__scopeSelect,children:i.jsx(eg.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),o):null}return i.jsx(xS,{...t,ref:e})});gS.displayName=Wu;var Uo=10,[vS,du]=pf(Wu),mL="SelectContentImpl",gL=Kd("SelectContent.RemoveScroll"),xS=L.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:u,side:c,sideOffset:f,align:p,alignOffset:m,arrowPadding:w,collisionBoundary:A,collisionPadding:y,sticky:D,hideWhenDetached:S,avoidCollisions:E,..._}=t,O=uu(Wu,r),[T,z]=L.useState(null),[ee,ae]=L.useState(null),W=Kn(e,le=>z(le)),[te,Q]=L.useState(null),[fe,U]=L.useState(null),F=tg(r),[X,Y]=L.useState(!1),we=L.useRef(!1);L.useEffect(()=>{if(T)return ON(T)},[T]),PN();const ye=L.useCallback(le=>{const[ve,...je]=F().map(at=>at.ref.current),[Te]=je.slice(-1),Ge=document.activeElement;for(const at of le)if(at===Ge||(at?.scrollIntoView({block:"nearest"}),at===ve&&ee&&(ee.scrollTop=0),at===Te&&ee&&(ee.scrollTop=ee.scrollHeight),at?.focus(),document.activeElement!==Ge))return},[F,ee]),xe=L.useCallback(()=>ye([te,T]),[ye,te,T]);L.useEffect(()=>{X&&xe()},[X,xe]);const{onOpenChange:se,triggerPointerDownPosRef:me}=O;L.useEffect(()=>{if(T){let le={x:0,y:0};const ve=Te=>{le={x:Math.abs(Math.round(Te.pageX)-(me.current?.x??0)),y:Math.abs(Math.round(Te.pageY)-(me.current?.y??0))}},je=Te=>{le.x<=10&&le.y<=10?Te.preventDefault():T.contains(Te.target)||se(!1),document.removeEventListener("pointermove",ve),me.current=null};return me.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",je,{capture:!0})}}},[T,se,me]),L.useEffect(()=>{const le=()=>se(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[se]);const[I,j]=IS(le=>{const ve=F().filter(Ge=>!Ge.disabled),je=ve.find(Ge=>Ge.ref.current===document.activeElement),Te=FS(ve,le,je);Te&&setTimeout(()=>Te.ref.current.focus())}),x=L.useCallback((le,ve,je)=>{const Te=!we.current&&!je;(O.value!==void 0&&O.value===ve||Te)&&(Q(le),Te&&(we.current=!0))},[O.value]),C=L.useCallback(()=>T?.focus(),[T]),M=L.useCallback((le,ve,je)=>{const Te=!we.current&&!je;(O.value!==void 0&&O.value===ve||Te)&&U(le)},[O.value]),H=n==="popper"?v1:yS,ie=H===v1?{side:c,sideOffset:f,align:p,alignOffset:m,arrowPadding:w,collisionBoundary:A,collisionPadding:y,sticky:D,hideWhenDetached:S,avoidCollisions:E}:{};return i.jsx(vS,{scope:r,content:T,viewport:ee,onViewportChange:ae,itemRefCallback:x,selectedItem:te,onItemLeave:C,itemTextRefCallback:M,focusSelectedItem:xe,selectedItemText:fe,position:n,isPositioned:X,searchRef:I,children:i.jsx(pv,{as:gL,allowPinchZoom:!0,children:i.jsx(hv,{asChild:!0,trapped:O.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Hr(a,le=>{O.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:i.jsx(kh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:i.jsx(H,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:le=>le.preventDefault(),..._,...ie,onPlaced:()=>Y(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Hr(_.onKeyDown,le=>{const ve=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ve&&le.key.length===1&&j(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Te=F().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Ge=le.target,at=Te.indexOf(Ge);Te=Te.slice(at+1)}setTimeout(()=>ye(Te)),le.preventDefault()}})})})})})})});xS.displayName=mL;var vL="SelectItemAlignedPosition",yS=L.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,o=uu(Wu,r),u=du(Wu,r),[c,f]=L.useState(null),[p,m]=L.useState(null),w=Kn(e,W=>m(W)),A=tg(r),y=L.useRef(!1),D=L.useRef(!0),{viewport:S,selectedItem:E,selectedItemText:_,focusSelectedItem:O}=u,T=L.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&p&&S&&E&&_){const W=o.trigger.getBoundingClientRect(),te=p.getBoundingClientRect(),Q=o.valueNode.getBoundingClientRect(),fe=_.getBoundingClientRect();if(o.dir!=="rtl"){const Ge=fe.left-te.left,at=Q.left-Ge,nt=W.left-at,ht=W.width+nt,re=Math.max(ht,te.width),ke=window.innerWidth-Uo,Ve=oy(at,[Uo,Math.max(Uo,ke-re)]);c.style.minWidth=ht+"px",c.style.left=Ve+"px"}else{const Ge=te.right-fe.right,at=window.innerWidth-Q.right-Ge,nt=window.innerWidth-W.right-at,ht=W.width+nt,re=Math.max(ht,te.width),ke=window.innerWidth-Uo,Ve=oy(at,[Uo,Math.max(Uo,ke-re)]);c.style.minWidth=ht+"px",c.style.right=Ve+"px"}const U=A(),F=window.innerHeight-Uo*2,X=S.scrollHeight,Y=window.getComputedStyle(p),we=parseInt(Y.borderTopWidth,10),ye=parseInt(Y.paddingTop,10),xe=parseInt(Y.borderBottomWidth,10),se=parseInt(Y.paddingBottom,10),me=we+ye+X+se+xe,I=Math.min(E.offsetHeight*5,me),j=window.getComputedStyle(S),x=parseInt(j.paddingTop,10),C=parseInt(j.paddingBottom,10),M=W.top+W.height/2-Uo,H=F-M,ie=E.offsetHeight/2,le=E.offsetTop+ie,ve=we+ye+le,je=me-ve;if(ve<=M){const Ge=U.length>0&&E===U[U.length-1].ref.current;c.style.bottom="0px";const at=p.clientHeight-S.offsetTop-S.offsetHeight,nt=Math.max(H,ie+(Ge?C:0)+at+xe),ht=ve+nt;c.style.height=ht+"px"}else{const Ge=U.length>0&&E===U[0].ref.current;c.style.top="0px";const nt=Math.max(M,we+S.offsetTop+(Ge?x:0)+ie)+je;c.style.height=nt+"px",S.scrollTop=ve-M+S.offsetTop}c.style.margin=`${Uo}px 0`,c.style.minHeight=I+"px",c.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>y.current=!0)}},[A,o.trigger,o.valueNode,c,p,S,E,_,o.dir,n]);si(()=>T(),[T]);const[z,ee]=L.useState();si(()=>{p&&ee(window.getComputedStyle(p).zIndex)},[p]);const ae=L.useCallback(W=>{W&&D.current===!0&&(T(),O?.(),D.current=!1)},[T,O]);return i.jsx(yL,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:ae,children:i.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:i.jsx(Zr.div,{...a,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});yS.displayName=vL;var xL="SelectPopperPosition",v1=L.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Uo,...o}=t,u=rg(r);return i.jsx(cb,{...u,...o,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v1.displayName=xL;var[yL,yv]=pf(Wu,{}),x1="SelectViewport",wS=L.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,o=du(x1,r),u=yv(x1,r),c=Kn(e,o.onViewportChange),f=L.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(eg.Slot,{scope:r,children:i.jsx(Zr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Hr(a.onScroll,p=>{const m=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:A}=u;if(A?.current&&w){const y=Math.abs(f.current-m.scrollTop);if(y>0){const D=window.innerHeight-Uo*2,S=parseFloat(w.style.minHeight),E=parseFloat(w.style.height),_=Math.max(S,E);if(_<D){const O=_+y,T=Math.min(D,O),z=O-T;w.style.height=T+"px",w.style.bottom==="0px"&&(m.scrollTop=z>0?z:0,w.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});wS.displayName=x1;var bS="SelectGroup",[wL,bL]=pf(bS),NL=L.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Yc();return i.jsx(wL,{scope:r,id:a,children:i.jsx(Zr.div,{role:"group","aria-labelledby":a,...n,ref:e})})});NL.displayName=bS;var NS="SelectLabel",SS=L.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=bL(NS,r);return i.jsx(Zr.div,{id:a.id,...n,ref:e})});SS.displayName=NS;var jm="SelectItem",[SL,jS]=pf(jm),CS=L.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...u}=t,c=uu(jm,r),f=du(jm,r),p=c.value===n,[m,w]=L.useState(o??""),[A,y]=L.useState(!1),D=Kn(e,O=>f.itemRefCallback?.(O,n,a)),S=Yc(),E=L.useRef("touch"),_=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(SL,{scope:r,value:n,disabled:a,textId:S,isSelected:p,onItemTextChange:L.useCallback(O=>{w(T=>T||(O?.textContent??"").trim())},[]),children:i.jsx(eg.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:i.jsx(Zr.div,{role:"option","aria-labelledby":S,"data-highlighted":A?"":void 0,"aria-selected":p&&A,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:D,onFocus:Hr(u.onFocus,()=>y(!0)),onBlur:Hr(u.onBlur,()=>y(!1)),onClick:Hr(u.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:Hr(u.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:Hr(u.onPointerDown,O=>{E.current=O.pointerType}),onPointerMove:Hr(u.onPointerMove,O=>{E.current=O.pointerType,a?f.onItemLeave?.():E.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Hr(u.onPointerLeave,O=>{O.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Hr(u.onKeyDown,O=>{f.searchRef?.current!==""&&O.key===" "||(lL.includes(O.key)&&_(),O.key===" "&&O.preventDefault())})})})})});CS.displayName=jm;var Zf="SelectItemText",_S=L.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...o}=t,u=uu(Zf,r),c=du(Zf,r),f=jS(Zf,r),p=fL(Zf,r),[m,w]=L.useState(null),A=Kn(e,_=>w(_),f.onItemTextChange,_=>c.itemTextRefCallback?.(_,f.value,f.disabled)),y=m?.textContent,D=L.useMemo(()=>i.jsx("option",{value:f.value,disabled:f.disabled,children:y},f.value),[f.disabled,f.value,y]),{onNativeOptionAdd:S,onNativeOptionRemove:E}=p;return si(()=>(S(D),()=>E(D)),[S,E,D]),i.jsxs(i.Fragment,{children:[i.jsx(Zr.span,{id:f.textId,...o,ref:A}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?nf.createPortal(o.children,u.valueNode):null]})});_S.displayName=Zf;var AS="SelectItemIndicator",PS=L.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return jS(AS,r).isSelected?i.jsx(Zr.span,{"aria-hidden":!0,...n,ref:e}):null});PS.displayName=AS;var y1="SelectScrollUpButton",kS=L.forwardRef((t,e)=>{const r=du(y1,t.__scopeSelect),n=yv(y1,t.__scopeSelect),[a,o]=L.useState(!1),u=Kn(e,n.onScrollButtonChange);return si(()=>{if(r.viewport&&r.isPositioned){let c=function(){const p=f.scrollTop>0;o(p)};const f=r.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?i.jsx(ES,{...t,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=r;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});kS.displayName=y1;var w1="SelectScrollDownButton",TS=L.forwardRef((t,e)=>{const r=du(w1,t.__scopeSelect),n=yv(w1,t.__scopeSelect),[a,o]=L.useState(!1),u=Kn(e,n.onScrollButtonChange);return si(()=>{if(r.viewport&&r.isPositioned){let c=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;o(m)};const f=r.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?i.jsx(ES,{...t,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=r;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});TS.displayName=w1;var ES=L.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,o=du("SelectScrollButton",r),u=L.useRef(null),c=tg(r),f=L.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return L.useEffect(()=>()=>f(),[f]),si(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),i.jsx(Zr.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Hr(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:Hr(a.onPointerMove,()=>{o.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:Hr(a.onPointerLeave,()=>{f()})})}),jL="SelectSeparator",LS=L.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(Zr.div,{"aria-hidden":!0,...n,ref:e})});LS.displayName=jL;var b1="SelectArrow",CL=L.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=rg(r),o=uu(b1,r),u=du(b1,r);return o.open&&u.position==="popper"?i.jsx(ub,{...a,...n,ref:e}):null});CL.displayName=b1;function RS(t){return t===""||t===void 0}var DS=L.forwardRef((t,e)=>{const{value:r,...n}=t,a=L.useRef(null),o=Kn(e,a),u=lS(r);return L.useEffect(()=>{const c=a.current,f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==r&&m){const w=new Event("change",{bubbles:!0});m.call(c,r),c.dispatchEvent(w)}},[u,r]),i.jsx(Th,{asChild:!0,children:i.jsx("select",{...n,ref:o,defaultValue:r})})});DS.displayName="BubbleSelect";function IS(t){const e=Oa(t),r=L.useRef(""),n=L.useRef(0),a=L.useCallback(u=>{const c=r.current+u;e(c),(function f(p){r.current=p,window.clearTimeout(n.current),p!==""&&(n.current=window.setTimeout(()=>f(""),1e3))})(c)},[e]),o=L.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return L.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function FS(t,e,r){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let u=_L(t,Math.max(o,0));a.length===1&&(u=u.filter(p=>p!==r));const f=u.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==r?f:void 0}function _L(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var AL=cS,OS=dS,PL=hS,kL=pS,TL=mS,MS=gS,EL=wS,BS=SS,qS=CS,LL=_S,RL=PS,US=kS,zS=TS,$S=LS;const Pl=AL,kl=PL,Ko=L.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(OS,{ref:n,className:zr("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(kL,{asChild:!0,children:i.jsx(Od,{className:"h-4 w-4 opacity-50"})})]}));Ko.displayName=OS.displayName;const VS=L.forwardRef(({className:t,...e},r)=>i.jsx(US,{ref:r,className:zr("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Up,{className:"h-4 w-4"})}));VS.displayName=US.displayName;const HS=L.forwardRef(({className:t,...e},r)=>i.jsx(zS,{ref:r,className:zr("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Od,{className:"h-4 w-4"})}));HS.displayName=zS.displayName;const Qo=L.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>i.jsx(TL,{children:i.jsxs(MS,{ref:a,className:zr("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(VS,{}),i.jsx(EL,{className:zr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(HS,{})]})}));Qo.displayName=MS.displayName;const DL=L.forwardRef(({className:t,...e},r)=>i.jsx(BS,{ref:r,className:zr("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));DL.displayName=BS.displayName;const sa=L.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(qS,{ref:n,className:zr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(RL,{children:i.jsx(Rd,{className:"h-4 w-4"})})}),i.jsx(LL,{children:e})]}));sa.displayName=qS.displayName;const IL=L.forwardRef(({className:t,...e},r)=>i.jsx($S,{ref:r,className:zr("-mx-1 my-1 h-px bg-muted",t),...e}));IL.displayName=$S.displayName;const FL=B.object({projectName:B.string().min(1,"Project name is required"),clientId:B.string().min(1,"Client selection is required"),location:B.string().min(1,"Location is required"),quotationType:B.enum(xm,{errorMap:()=>({message:"Quotation type is required"})})});function OL(){const[t,e]=L.useState(!1),[r,n]=L.useState(null),[a,o]=L.useState(null),[u,c]=L.useState(""),[,f]=Ma(),{toast:p}=Ba(),{data:m}=Ca(),{data:w,isLoading:A}=Rr({queryKey:["/revira/api/projects"]}),{data:y,isLoading:D}=Rr({queryKey:["/revira/api/clients"]}),S=df({resolver:ff(FL),defaultValues:{projectName:"",clientId:"",location:"",quotationType:void 0}}),E=kn({mutationFn:async F=>Mr("POST","/revira/api/projects",{...F,clientId:Number(F.clientId)}),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/projects"]}),p({title:"Project created",description:"The project has been created successfully."}),S.reset(),e(!1)},onError:F=>{p({title:"Error",description:F.message||"Failed to create project",variant:"destructive"})}}),_=kn({mutationFn:async({id:F,data:X})=>Mr("PUT",`/revira/api/projects/${F}`,{...X,clientId:Number(X.clientId)}),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/projects"]}),p({title:"Project updated",description:"The project has been updated successfully."}),S.reset(),n(null),e(!1)},onError:F=>{p({title:"Error",description:F.message||"Failed to update project",variant:"destructive"})}}),O=kn({mutationFn:async F=>Mr("DELETE",`/revira/api/projects/${F}`),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/projects"]}),p({title:"Project deleted",description:"The project has been deleted successfully."}),o(null)},onError:F=>{p({title:"Error",description:F.message||"Failed to delete project",variant:"destructive"})}}),T=F=>{r?_.mutate({id:r.id,data:F}):E.mutate(F)},z=F=>{n(F),S.reset({projectName:F.projectName,clientId:String(F.clientId),location:F.location,quotationType:F.quotationType}),e(!0)},ee=F=>{e(F),F||(n(null),S.reset())},ae=F=>y?.find(Y=>Y.id===F)?.name||"Unknown Client",W=F=>new Date(F).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}).toUpperCase(),te=F=>{switch(F){case"Supply and Fabrication":return"text-blue-600";case"Structural Fabrication":return"text-purple-600";case"Job Work":return"text-amber-600";default:return"text-slate-600"}},Q=F=>{switch(F){case"Supply and Fabrication":return"SUPPLY & FAB";case"Structural Fabrication":return"STRUCTURAL";case"Job Work":return"JOB WORK";default:return F.toUpperCase()}},fe=()=>{a&&O.mutate(a.id)},U=L.useMemo(()=>{const F=u.trim().toLowerCase(),X=[...w??[]].sort((Y,we)=>{const ye=Y.createdAt?new Date(Y.createdAt).getTime():0,xe=we.createdAt?new Date(we.createdAt).getTime():0;return ye!==xe?xe-ye:we.id-Y.id});return F?X.filter(Y=>[Y.projectName,ae(Y.clientId),Y.location,Y.quotationType].join(" ").toLowerCase().includes(F)):X},[w,u,y]);return i.jsxs(ks,{user:m,children:[i.jsxs("div",{className:"flex flex-col gap-4 mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary to-primary/80 text-white shadow-lg shadow-primary/25",children:i.jsx(nm,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Projects"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Manage your projects and quotations"})]})]}),i.jsxs(Fa,{open:t,onOpenChange:ee,children:[i.jsx(jh,{asChild:!0,children:i.jsxs(Be,{"data-testid":"button-add-project",className:"bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg shadow-primary/25 transition-all duration-300",children:[i.jsx(ki,{className:"w-4 h-4 mr-2"}),"Add Project"]})}),i.jsxs(ya,{className:"sm:max-w-[500px]",children:[i.jsxs(wa,{children:[i.jsx(ba,{children:r?"Edit Project":"Create New Project"}),i.jsx(ef,{children:r?"Update project details below.":"Add a new project with client and quotation details."})]}),i.jsx(hf,{...S,children:i.jsxs("form",{onSubmit:S.handleSubmit(T),className:"space-y-4",children:[i.jsx(on,{control:S.control,name:"projectName",render:({field:F})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Project Name"}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-project-name",placeholder:"Enter project name",...F})}),i.jsx(sn,{})]})}),i.jsx(on,{control:S.control,name:"clientId",render:({field:F})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Client Name"}),i.jsxs(Pl,{onValueChange:F.onChange,value:F.value,children:[i.jsx(nn,{children:i.jsx(Ko,{"data-testid":"select-client",children:i.jsx(kl,{placeholder:"Select a client"})})}),i.jsx(Qo,{children:D?i.jsx(sa,{value:"loading",disabled:!0,children:"Loading clients..."}):y&&y.length>0?y.map(X=>i.jsx(sa,{value:String(X.id),"data-testid":`select-client-option-${X.id}`,children:X.name},X.id)):i.jsx(sa,{value:"none",disabled:!0,children:"No clients available. Please add a client first."})})]}),i.jsx(sn,{})]})}),i.jsx(on,{control:S.control,name:"location",render:({field:F})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Location"}),i.jsx(nn,{children:i.jsx(et,{"data-testid":"input-location",placeholder:"Enter location",...F})}),i.jsx(sn,{})]})}),i.jsx(on,{control:S.control,name:"quotationType",render:({field:F})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Quotation Type"}),i.jsxs(Pl,{onValueChange:F.onChange,value:F.value,children:[i.jsx(nn,{children:i.jsx(Ko,{"data-testid":"select-quotation-type",children:i.jsx(kl,{placeholder:"Select quotation type"})})}),i.jsx(Qo,{children:xm.map(X=>i.jsx(sa,{value:X,"data-testid":`select-quotation-option-${X.replace(/\s+/g,"-").toLowerCase()}`,children:X},X))})]}),i.jsx(sn,{})]})}),i.jsx(Be,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-primary/90",disabled:E.isPending||_.isPending,"data-testid":"button-submit-project",children:E.isPending||_.isPending?r?"Updating...":"Creating...":r?"Update Project":"Create Project"})]})})]})]})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(G1,{className:"h-4 w-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),i.jsx(et,{value:u,onChange:F=>c(F.target.value),placeholder:"Search by project, client, location, type...",className:"pl-9","data-testid":"input-search-projects"})]})]}),i.jsx(Ar,{className:"border-0 shadow-lg overflow-hidden",children:i.jsxs(Pr,{className:"p-0",children:[i.jsx("div",{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4",children:[i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Project Identifier"})}),i.jsx("div",{className:"col-span-3",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Client Partner"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Geographic Site"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Creation Date"})}),i.jsx("div",{className:"col-span-1",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"})}),i.jsx("div",{className:"col-span-2 text-right",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})})]})}),A?i.jsx("div",{className:"divide-y divide-slate-100",children:[1,2,3].map(F=>i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-5 animate-pulse",children:[i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-20"})}),i.jsx("div",{className:"col-span-3",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-40"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-28"})}),i.jsx("div",{className:"col-span-1",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-16"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-24 ml-auto"})})]},F))}):U.length>0?i.jsxs("div",{className:"divide-y divide-slate-100",children:[U.map(F=>i.jsxs("div",{"data-testid":`row-project-${F.id}`,className:"hidden md:grid grid-cols-12 gap-4 px-6 py-5 items-center hover:bg-slate-50/50 transition-colors group",children:[i.jsxs("div",{className:"col-span-2 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-teal-400 to-teal-500 flex items-center justify-center text-white font-bold text-sm shadow-sm",children:"P"}),i.jsx("span",{className:"font-semibold text-slate-800","data-testid":`text-project-name-${F.id}`,children:F.projectName.length>15?F.projectName.substring(0,15)+"...":F.projectName})]}),i.jsx("div",{className:"col-span-3",children:i.jsx("span",{className:"font-semibold text-slate-700 uppercase text-sm","data-testid":`text-client-name-${F.id}`,children:ae(F.clientId)})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-slate-600 text-sm","data-testid":`text-location-${F.id}`,children:F.location})}),i.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[i.jsx(XC,{className:"w-4 h-4 text-red-400"}),i.jsx("span",{className:"text-slate-600 text-sm","data-testid":`text-created-date-${F.id}`,children:F.createdAt?W(F.createdAt):"N/A"})]}),i.jsx("div",{className:"col-span-1",children:i.jsx("span",{className:`font-bold text-xs uppercase tracking-wide ${te(F.quotationType)}`,"data-testid":`text-status-${F.id}`,children:Q(F.quotationType)})}),i.jsxs("div",{className:"col-span-2 flex items-center justify-end gap-1",children:[i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-red-400 hover:text-red-600 hover:bg-red-50",onClick:()=>f(`/revira/projects/${F.id}/quotation`),"data-testid":`button-quotation-${F.id}`,title:"Create Quotation",children:i.jsx(xa,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-green-600 hover:bg-green-50",onClick:()=>f(`/revira/projects/${F.id}/invoice`),"data-testid":`button-invoice-${F.id}`,title:"Create Invoice",children:i.jsx(r1,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-blue-600 hover:bg-blue-50",onClick:()=>f(`/revira/projects/${F.id}/gate-pass`),"data-testid":`button-gate-pass-${F.id}`,title:"Create Gate Pass",children:i.jsx(J0,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-indigo-600 hover:bg-indigo-50",onClick:()=>f(`/revira/projects/${F.id}/delivery-challan`),"data-testid":`button-delivery-challan-${F.id}`,title:"Create Delivery Challan",children:i.jsx(X0,{className:"w-4 h-4"})}),i.jsx(Be,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-violet-600 hover:bg-violet-50",onClick:()=>f(`/revira/projects/${F.id}/ledger`),"data-testid":`button-ledger-${F.id}`,title:"Open Ledger",children:i.jsx(hx,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-amber-600 hover:bg-amber-50",onClick:()=>z(F),"data-testid":`button-edit-project-${F.id}`,title:"Edit Project",children:i.jsx(qu,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-red-600 hover:bg-red-50",onClick:()=>o(F),disabled:O.isPending,"data-testid":`button-delete-project-${F.id}`,title:"Delete Project",children:i.jsx(mn,{className:"w-4 h-4"})})]})]},F.id)),U.map(F=>i.jsxs("div",{className:"md:hidden px-4 py-4 space-y-3 hover:bg-slate-50/50","data-testid":`card-project-${F.id}`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:F.projectName}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:ae(F.clientId)}),i.jsx("p",{className:"text-xs text-slate-500",children:F.location})]}),i.jsx("span",{className:`font-bold text-[10px] uppercase tracking-wide ${te(F.quotationType)}`,children:Q(F.quotationType)})]}),i.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-red-400 hover:text-red-600 hover:bg-red-50",onClick:()=>f(`/revira/projects/${F.id}/quotation`),"data-testid":`button-quotation-mobile-${F.id}`,children:i.jsx(xa,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-green-600 hover:bg-green-50",onClick:()=>f(`/revira/projects/${F.id}/invoice`),"data-testid":`button-invoice-mobile-${F.id}`,children:i.jsx(r1,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-blue-600 hover:bg-blue-50",onClick:()=>f(`/revira/projects/${F.id}/gate-pass`),"data-testid":`button-gate-pass-mobile-${F.id}`,children:i.jsx(J0,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-indigo-600 hover:bg-indigo-50",onClick:()=>f(`/revira/projects/${F.id}/delivery-challan`),"data-testid":`button-delivery-challan-mobile-${F.id}`,children:i.jsx(X0,{className:"w-4 h-4"})}),i.jsx(Be,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-violet-600 hover:bg-violet-50",onClick:()=>f(`/revira/projects/${F.id}/ledger`),"data-testid":`button-ledger-mobile-${F.id}`,title:"Open Ledger",children:i.jsx(hx,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-amber-600 hover:bg-amber-50",onClick:()=>z(F),"data-testid":`button-edit-project-mobile-${F.id}`,children:i.jsx(qu,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-red-600 hover:bg-red-50",onClick:()=>o(F),disabled:O.isPending,"data-testid":`button-delete-project-mobile-${F.id}`,children:i.jsx(mn,{className:"w-4 h-4"})})]})]},`mobile-${F.id}`))]}):i.jsxs("div",{className:"py-16 text-center",children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gradient-to-br from-primary/10 to-teal-500/10 flex items-center justify-center mb-4",children:i.jsx(nm,{className:"w-8 h-8 text-primary/60"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No projects yet"}),i.jsx("p",{className:"text-slate-500 mb-6 max-w-sm mx-auto",children:"Get started by creating your first project. Add clients first if you haven't already."}),i.jsxs(Be,{onClick:()=>e(!0),className:"bg-gradient-to-r from-primary to-primary/90 shadow-lg shadow-primary/25",children:[i.jsx(ki,{className:"w-4 h-4 mr-2"}),"Create First Project"]})]})]})}),i.jsx(Fa,{open:!!a,onOpenChange:F=>!F&&o(null),children:i.jsxs(ya,{className:"sm:max-w-md",children:[i.jsxs(wa,{children:[i.jsx(ba,{children:"Delete Project?"}),i.jsx(ef,{children:a?`Are you sure you want to delete "${a.projectName}"? This action cannot be undone.`:"Are you sure you want to delete this project? This action cannot be undone."})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Be,{type:"button",variant:"outline",onClick:()=>o(null),disabled:O.isPending,"data-testid":"button-cancel-delete-project",children:"Cancel"}),i.jsx(Be,{type:"button",variant:"destructive",onClick:fe,disabled:O.isPending,"data-testid":"button-confirm-delete-project",children:O.isPending?"Deleting...":"Delete"})]})]})})]})}var wv="Checkbox",[ML]=Rl(wv),[BL,qL]=ML(wv),WS=L.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:u,disabled:c,value:f="on",onCheckedChange:p,form:m,...w}=t,[A,y]=L.useState(null),D=Kn(e,z=>y(z)),S=L.useRef(!1),E=A?m||!!A.closest("form"):!0,[_=!1,O]=Jc({prop:a,defaultProp:o,onChange:p}),T=L.useRef(_);return L.useEffect(()=>{const z=A?.form;if(z){const ee=()=>O(T.current);return z.addEventListener("reset",ee),()=>z.removeEventListener("reset",ee)}},[A,O]),i.jsxs(BL,{scope:r,state:_,disabled:c,children:[i.jsx(Zr.button,{type:"button",role:"checkbox","aria-checked":Xc(_)?"mixed":_,"aria-required":u,"data-state":QS(_),"data-disabled":c?"":void 0,disabled:c,value:f,...w,ref:D,onKeyDown:Hr(t.onKeyDown,z=>{z.key==="Enter"&&z.preventDefault()}),onClick:Hr(t.onClick,z=>{O(ee=>Xc(ee)?!0:!ee),E&&(S.current=z.isPropagationStopped(),S.current||z.stopPropagation())})}),E&&i.jsx(UL,{control:A,bubbles:!S.current,name:n,value:f,checked:_,required:u,disabled:c,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Xc(o)?!1:o})]})});WS.displayName=wv;var GS="CheckboxIndicator",KS=L.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,o=qL(GS,r);return i.jsx(cu,{present:n||Xc(o.state)||o.state===!0,children:i.jsx(Zr.span,{"data-state":QS(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});KS.displayName=GS;var UL=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:a,...o}=t,u=L.useRef(null),c=lS(r),f=Xw(e);L.useEffect(()=>{const m=u.current,w=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(w,"checked").set;if(c!==r&&y){const D=new Event("click",{bubbles:n});m.indeterminate=Xc(r),y.call(m,Xc(r)?!1:r),m.dispatchEvent(D)}},[c,r,n]);const p=L.useRef(Xc(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??p.current,...o,tabIndex:-1,ref:u,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Xc(t){return t==="indeterminate"}function QS(t){return Xc(t)?"indeterminate":t?"checked":"unchecked"}var ZS=WS,zL=KS;const th=L.forwardRef(({className:t,...e},r)=>i.jsx(ZS,{ref:r,className:zr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(zL,{className:zr("flex items-center justify-center text-current"),children:i.jsx(Rd,{className:"h-4 w-4"})})}));th.displayName=ZS.displayName;const YS=B.object({name:B.string().min(1,"Name is required"),username:B.string().email("Please enter a valid email address"),mobile:B.string().min(10,"Valid mobile number is required"),password:B.string().min(6,"Password must be at least 6 characters"),role:B.enum(Sh,{errorMap:()=>({message:"Role is required"})}),assignedClientIds:B.array(B.number()).optional()}),$L=YS.partial().extend({name:B.string().min(1,"Name is required"),username:B.string().email("Please enter a valid email address"),mobile:B.string().min(10,"Valid mobile number is required"),role:B.enum(Sh,{errorMap:()=>({message:"Role is required"})}),password:B.string().optional()});function VL(){const[t,e]=L.useState(!1),[r,n]=L.useState(null),[a,o]=L.useState([]),{toast:u}=Ba(),{data:c}=Ca(),f=c?.role==="Administrator",{data:p,isLoading:m}=Rr({queryKey:["/revira/api/users"]}),{data:w}=Rr({queryKey:["/revira/api/clients"]}),A=df({resolver:ff(r?$L:YS),defaultValues:{name:"",username:"",mobile:"",password:"",role:"Standard",assignedClientIds:[]}}),y=A.watch("role"),D=kn({mutationFn:async ae=>Mr("POST","/revira/api/users",{...ae,email:ae.username,assignedClientIds:a}),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/users"]}),u({title:"User created",description:"The user has been created successfully."}),A.reset(),o([]),e(!1)},onError:ae=>{u({title:"Error",description:ae.message||"Failed to create user",variant:"destructive"})}}),S=kn({mutationFn:async({id:ae,data:W})=>{const te={name:W.name,username:W.username,email:W.username,mobile:W.mobile,role:W.role,assignedClientIds:a};return W.password&&W.password.length>=6&&(te.password=W.password),Mr("PUT",`/revira/api/users/${ae}`,te)},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/users"]}),u({title:"User updated",description:"The user has been updated successfully."}),A.reset(),o([]),n(null),e(!1)},onError:ae=>{u({title:"Error",description:ae.message||"Failed to update user",variant:"destructive"})}}),E=kn({mutationFn:async ae=>Mr("DELETE",`/revira/api/users/${ae}`),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/users"]}),u({title:"User deleted",description:"The user has been deleted successfully."})},onError:ae=>{u({title:"Error",description:ae.message||"Failed to delete user",variant:"destructive"})}}),_=async ae=>{n(ae),A.reset({name:ae.name,username:ae.username,mobile:ae.mobile||"",password:"",role:ae.role});try{const te=await(await fetch(`/revira/api/users/${ae.id}/clients`)).json();o(te)}catch{o([])}e(!0)},O=ae=>{ae||(A.reset(),n(null),o([])),e(ae)},T=ae=>{r?S.mutate({id:r.id,data:ae}):D.mutate(ae)},z=ae=>{o(W=>W.includes(ae)?W.filter(te=>te!==ae):[...W,ae])},ee=ae=>ae==="Administrator"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700";return i.jsxs(ks,{user:c,children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-1","data-testid":"text-page-title",children:"User Management"}),i.jsx("p",{className:"text-slate-500","data-testid":"text-page-description",children:"Manage system users and their access permissions"})]}),f&&i.jsxs(Fa,{open:t,onOpenChange:O,children:[i.jsxs(Be,{onClick:()=>{n(null),A.reset(),o([]),e(!0)},className:"bg-gradient-to-r from-[#d92134] to-[#b51c2c] hover:from-[#b51c2c] hover:to-[#a01827] shadow-lg shadow-red-200/50","data-testid":"button-add-user",children:[i.jsx(ki,{className:"w-4 h-4 mr-2"}),"Add User"]}),i.jsxs(ya,{className:"sm:max-w-[500px]",children:[i.jsxs(wa,{children:[i.jsx(ba,{children:r?"Edit User":"Add New User"}),i.jsx(ef,{children:r?"Update the user details below.":"Fill in the details to create a new user account."})]}),i.jsx(hf,{...A,children:i.jsxs("form",{onSubmit:A.handleSubmit(T),className:"space-y-4",children:[i.jsx(on,{control:A.control,name:"name",render:({field:ae})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"User Name"}),i.jsx(nn,{children:i.jsx(et,{placeholder:"Enter full name",...ae,"data-testid":"input-user-name"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:A.control,name:"username",render:({field:ae})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Email ID"}),i.jsx(nn,{children:i.jsx(et,{type:"email",placeholder:"Enter email address",...ae,"data-testid":"input-user-email"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:A.control,name:"mobile",render:({field:ae})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Mobile No."}),i.jsx(nn,{children:i.jsx(et,{placeholder:"Enter mobile number",...ae,"data-testid":"input-user-mobile"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:A.control,name:"password",render:({field:ae})=>i.jsxs(tn,{children:[i.jsx(rn,{children:r?"New Password (leave blank to keep current)":"Password"}),i.jsx(nn,{children:i.jsx(et,{type:"password",placeholder:r?"Enter new password (optional)":"Enter password",...ae,"data-testid":"input-user-password"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:A.control,name:"role",render:({field:ae})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Role"}),i.jsxs(Pl,{onValueChange:ae.onChange,value:ae.value,children:[i.jsx(nn,{children:i.jsx(Ko,{"data-testid":"select-user-role",children:i.jsx(kl,{placeholder:"Select role"})})}),i.jsx(Qo,{children:Sh.map(W=>i.jsx(sa,{value:W,"data-testid":`option-role-${W.toLowerCase()}`,children:W},W))})]}),i.jsx(sn,{})]})}),y==="Standard"&&w&&w.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Assign Clients"}),i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Standard users can only access projects of assigned clients"}),i.jsx("div",{className:"border rounded-md p-3 max-h-40 overflow-y-auto space-y-2",children:w.map(ae=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(th,{id:`client-${ae.id}`,checked:a.includes(ae.id),onCheckedChange:()=>z(ae.id),"data-testid":`checkbox-client-${ae.id}`}),i.jsx("label",{htmlFor:`client-${ae.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:ae.name})]},ae.id))})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(Be,{type:"button",variant:"outline",onClick:()=>O(!1),"data-testid":"button-cancel",children:"Cancel"}),i.jsx(Be,{type:"submit",disabled:D.isPending||S.isPending,className:"bg-gradient-to-r from-[#d92134] to-[#b51c2c]","data-testid":"button-submit-user",children:D.isPending||S.isPending?"Saving...":r?"Update User":"Create User"})]})]})})]})]})]}),i.jsx(Ar,{className:"shadow-lg border-slate-200/50 overflow-hidden",children:i.jsxs(Pr,{className:"p-0",children:[i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100/50 border-b border-slate-200",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4",children:[i.jsx("div",{className:"col-span-3",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"})}),i.jsx("div",{className:"col-span-3",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Email"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Mobile"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"})}),i.jsx("div",{className:"col-span-2 text-right",children:i.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})})]})}),m?i.jsx("div",{className:"divide-y divide-slate-100",children:[1,2,3].map(ae=>i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-5 animate-pulse",children:[i.jsx("div",{className:"col-span-3",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-32"})}),i.jsx("div",{className:"col-span-3",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-40"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-20"})}),i.jsx("div",{className:"col-span-2",children:i.jsx("div",{className:"h-4 bg-slate-200 rounded w-16 ml-auto"})})]},ae))}):p&&p.length>0?i.jsx("div",{className:"divide-y divide-slate-100",children:p.map(ae=>i.jsxs("div",{"data-testid":`row-user-${ae.id}`,className:"grid grid-cols-12 gap-4 px-6 py-5 items-center hover:bg-slate-50/50 transition-colors group",children:[i.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-400 to-slate-500 flex items-center justify-center text-white font-bold text-sm shadow-sm",children:ae.name?.charAt(0).toUpperCase()||"U"}),i.jsx("span",{className:"font-semibold text-slate-800","data-testid":`text-user-name-${ae.id}`,children:ae.name})]}),i.jsxs("div",{className:"col-span-3 flex items-center gap-2",children:[i.jsx(Lh,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-slate-600 text-sm","data-testid":`text-user-email-${ae.id}`,children:ae.username})]}),i.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[i.jsx(Tw,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-slate-600 text-sm","data-testid":`text-user-mobile-${ae.id}`,children:ae.mobile||"-"})]}),i.jsx("div",{className:"col-span-2",children:i.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold ${ee(ae.role||"Standard")}`,"data-testid":`text-user-role-${ae.id}`,children:[i.jsx(o_,{className:"w-3 h-3"}),ae.role||"Standard"]})}),i.jsx("div",{className:"col-span-2 flex items-center justify-end gap-1",children:f&&i.jsxs(i.Fragment,{children:[i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-amber-600 hover:bg-amber-50",onClick:()=>_(ae),"data-testid":`button-edit-user-${ae.id}`,title:"Edit User",children:i.jsx(qu,{className:"w-4 h-4"})}),ae.id!==c?.id&&i.jsx(Be,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-md text-slate-400 hover:text-red-600 hover:bg-red-50",onClick:()=>{confirm(`Are you sure you want to delete ${ae.name}?`)&&E.mutate(ae.id)},disabled:E.isPending,"data-testid":`button-delete-user-${ae.id}`,title:"Delete User",children:i.jsx(mn,{className:"w-4 h-4"})})]})})]},ae.id))}):i.jsxs("div",{className:"py-16 text-center",children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gradient-to-br from-primary/10 to-slate-500/10 flex items-center justify-center mb-4",children:i.jsx(ah,{className:"w-8 h-8 text-primary/60"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No users yet"}),i.jsx("p",{className:"text-slate-500 mb-6 max-w-sm mx-auto",children:"Get started by adding your first user account."}),f&&i.jsxs(Be,{onClick:()=>e(!0),className:"bg-gradient-to-r from-[#d92134] to-[#b51c2c] shadow-lg shadow-red-200/50",children:[i.jsx(ki,{className:"w-4 h-4 mr-2"}),"Add First User"]})]})]})})]})}const ss=L.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:zr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));ss.displayName="Textarea";var bv="Collapsible",[HL,XS]=Rl(bv),[WL,Nv]=HL(bv),JS=L.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:o,onOpenChange:u,...c}=t,[f=!1,p]=Jc({prop:n,defaultProp:a,onChange:u});return i.jsx(WL,{scope:r,disabled:o,contentId:Yc(),open:f,onOpenToggle:L.useCallback(()=>p(m=>!m),[p]),children:i.jsx(Zr.div,{"data-state":jv(f),"data-disabled":o?"":void 0,...c,ref:e})})});JS.displayName=bv;var e4="CollapsibleTrigger",t4=L.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,a=Nv(e4,r);return i.jsx(Zr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":jv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:Hr(t.onClick,a.onOpenToggle)})});t4.displayName=e4;var Sv="CollapsibleContent",r4=L.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Nv(Sv,t.__scopeCollapsible);return i.jsx(cu,{present:r||a.open,children:({present:o})=>i.jsx(GL,{...n,ref:e,present:o})})});r4.displayName=Sv;var GL=L.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:a,...o}=t,u=Nv(Sv,r),[c,f]=L.useState(n),p=L.useRef(null),m=Kn(e,p),w=L.useRef(0),A=w.current,y=L.useRef(0),D=y.current,S=u.open||c,E=L.useRef(S),_=L.useRef(void 0);return L.useEffect(()=>{const O=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(O)},[]),si(()=>{const O=p.current;if(O){_.current=_.current||{transitionDuration:O.style.transitionDuration,animationName:O.style.animationName},O.style.transitionDuration="0s",O.style.animationName="none";const T=O.getBoundingClientRect();w.current=T.height,y.current=T.width,E.current||(O.style.transitionDuration=_.current.transitionDuration,O.style.animationName=_.current.animationName),f(n)}},[u.open,n]),i.jsx(Zr.div,{"data-state":jv(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!S,...o,ref:m,style:{"--radix-collapsible-content-height":A?`${A}px`:void 0,"--radix-collapsible-content-width":D?`${D}px`:void 0,...t.style},children:S&&a})});function jv(t){return t?"open":"closed"}var KL=JS,QL=t4,ZL=r4,vc="Accordion",YL=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Cv,XL,JL]=z1(vc),[ng]=Rl(vc,[JL,XS]),_v=XS(),n4=xr.forwardRef((t,e)=>{const{type:r,...n}=t,a=n,o=n;return i.jsx(Cv.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?i.jsx(nR,{...o,ref:e}):i.jsx(rR,{...a,ref:e})})});n4.displayName=vc;var[s4,eR]=ng(vc),[i4,tR]=ng(vc,{collapsible:!1}),rR=xr.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:o=!1,...u}=t,[c,f]=Jc({prop:r,defaultProp:n,onChange:a});return i.jsx(s4,{scope:t.__scopeAccordion,value:c?[c]:[],onItemOpen:f,onItemClose:xr.useCallback(()=>o&&f(""),[o,f]),children:i.jsx(i4,{scope:t.__scopeAccordion,collapsible:o,children:i.jsx(a4,{...u,ref:e})})})}),nR=xr.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...o}=t,[u=[],c]=Jc({prop:r,defaultProp:n,onChange:a}),f=xr.useCallback(m=>c((w=[])=>[...w,m]),[c]),p=xr.useCallback(m=>c((w=[])=>w.filter(A=>A!==m)),[c]);return i.jsx(s4,{scope:t.__scopeAccordion,value:u,onItemOpen:f,onItemClose:p,children:i.jsx(i4,{scope:t.__scopeAccordion,collapsible:!0,children:i.jsx(a4,{...o,ref:e})})})}),[sR,sg]=ng(vc),a4=xr.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:o="vertical",...u}=t,c=xr.useRef(null),f=Kn(c,e),p=XL(r),w=oS(a)==="ltr",A=Hr(t.onKeyDown,y=>{if(!YL.includes(y.key))return;const D=y.target,S=p().filter(te=>!te.ref.current?.disabled),E=S.findIndex(te=>te.ref.current===D),_=S.length;if(E===-1)return;y.preventDefault();let O=E;const T=0,z=_-1,ee=()=>{O=E+1,O>z&&(O=T)},ae=()=>{O=E-1,O<T&&(O=z)};switch(y.key){case"Home":O=T;break;case"End":O=z;break;case"ArrowRight":o==="horizontal"&&(w?ee():ae());break;case"ArrowDown":o==="vertical"&&ee();break;case"ArrowLeft":o==="horizontal"&&(w?ae():ee());break;case"ArrowUp":o==="vertical"&&ae();break}const W=O%_;S[W].ref.current?.focus()});return i.jsx(sR,{scope:r,disabled:n,direction:a,orientation:o,children:i.jsx(Cv.Slot,{scope:r,children:i.jsx(Zr.div,{...u,"data-orientation":o,ref:f,onKeyDown:n?void 0:A})})})}),Cm="AccordionItem",[iR,Av]=ng(Cm),o4=xr.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...a}=t,o=sg(Cm,r),u=eR(Cm,r),c=_v(r),f=Yc(),p=n&&u.value.includes(n)||!1,m=o.disabled||t.disabled;return i.jsx(iR,{scope:r,open:p,disabled:m,triggerId:f,children:i.jsx(KL,{"data-orientation":o.orientation,"data-state":h4(p),...c,...a,ref:e,disabled:m,open:p,onOpenChange:w=>{w?u.onItemOpen(n):u.onItemClose(n)}})})});o4.displayName=Cm;var l4="AccordionHeader",c4=xr.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=sg(vc,r),o=Av(l4,r);return i.jsx(Zr.h3,{"data-orientation":a.orientation,"data-state":h4(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:e})});c4.displayName=l4;var N1="AccordionTrigger",u4=xr.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=sg(vc,r),o=Av(N1,r),u=tR(N1,r),c=_v(r);return i.jsx(Cv.ItemSlot,{scope:r,children:i.jsx(QL,{"aria-disabled":o.open&&!u.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...c,...n,ref:e})})});u4.displayName=N1;var d4="AccordionContent",f4=xr.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,a=sg(vc,r),o=Av(d4,r),u=_v(r);return i.jsx(ZL,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...u,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});f4.displayName=d4;function h4(t){return t?"open":"closed"}var aR=n4,oR=o4,lR=c4,p4=u4,m4=f4;const y0=aR,Wp=L.forwardRef(({className:t,...e},r)=>i.jsx(oR,{ref:r,className:zr("border-b",t),...e}));Wp.displayName="AccordionItem";const Gp=L.forwardRef(({className:t,children:e,...r},n)=>i.jsx(lR,{className:"flex",children:i.jsxs(p4,{ref:n,className:zr("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,i.jsx(Od,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Gp.displayName=p4.displayName;const Kp=L.forwardRef(({className:t,children:e,...r},n)=>i.jsx(m4,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:i.jsx("div",{className:zr("pb-4 pt-0",t),children:e})}));Kp.displayName=m4.displayName;const cR="modulepreload",uR=function(t){return"/revira/"+t},ly={},w0=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let f=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(r.map(p=>{if(p=uR(p),p in ly)return;ly[p]=!0;const m=p.endsWith(".css"),w=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const A=document.createElement("link");if(A.rel=m?"stylesheet":cR,m||(A.as="script"),A.crossOrigin="",A.href=p,c&&A.setAttribute("nonce",c),document.head.appendChild(A),m)return new Promise((y,D)=>{A.addEventListener("load",y),A.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Hn(t){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}var Jo=Uint8Array,no=Uint16Array,Pv=Int32Array,kv=new Jo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tv=new Jo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cy=new Jo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g4=function(t,e){for(var r=new no(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new Pv(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return{b:r,r:a}},v4=g4(kv,2),dR=v4.b,S1=v4.r;dR[28]=258,S1[258]=28;var fR=g4(Tv,0),uy=fR.r,j1=new no(32768);for(var cs=0;cs<32768;++cs){var Hc=(cs&43690)>>1|(cs&21845)<<1;Hc=(Hc&52428)>>2|(Hc&13107)<<2,Hc=(Hc&61680)>>4|(Hc&3855)<<4,j1[cs]=((Hc&65280)>>8|(Hc&255)<<8)>>1}var rh=(function(t,e,r){for(var n=t.length,a=0,o=new no(e);a<n;++a)t[a]&&++o[t[a]-1];var u=new no(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(r){c=new no(1<<e);var f=15-e;for(a=0;a<n;++a)if(t[a])for(var p=a<<4|t[a],m=e-t[a],w=u[t[a]-1]++<<m,A=w|(1<<m)-1;w<=A;++w)c[j1[w]>>f]=p}else for(c=new no(n),a=0;a<n;++a)t[a]&&(c[a]=j1[u[t[a]-1]++]>>15-t[a]);return c}),Gu=new Jo(288);for(var cs=0;cs<144;++cs)Gu[cs]=8;for(var cs=144;cs<256;++cs)Gu[cs]=9;for(var cs=256;cs<280;++cs)Gu[cs]=7;for(var cs=280;cs<288;++cs)Gu[cs]=8;var _m=new Jo(32);for(var cs=0;cs<32;++cs)_m[cs]=5;var hR=rh(Gu,9,0),pR=rh(_m,5,0),x4=function(t){return(t+7)/8|0},mR=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Jo(t.subarray(e,r))},cc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Hf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},b0=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,o=r.slice();if(!a)return{t:w4,l:0};if(a==1){var u=new Jo(r[0].s+1);return u[r[0].s]=1,{t:u,l:1}}r.sort(function(ee,ae){return ee.f-ae.f}),r.push({s:-1,f:25001});var c=r[0],f=r[1],p=0,m=1,w=2;for(r[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=r[r[p].f<r[w].f?p++:w++],f=r[p!=m&&r[p].f<r[w].f?p++:w++],r[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var A=o[0].s,n=1;n<a;++n)o[n].s>A&&(A=o[n].s);var y=new no(A+1),D=C1(r[m-1],y,0);if(D>e){var n=0,S=0,E=D-e,_=1<<E;for(o.sort(function(ae,W){return y[W.s]-y[ae.s]||ae.f-W.f});n<a;++n){var O=o[n].s;if(y[O]>e)S+=_-(1<<D-y[O]),y[O]=e;else break}for(S>>=E;S>0;){var T=o[n].s;y[T]<e?S-=1<<e-y[T]++-1:++n}for(;n>=0&&S;--n){var z=o[n].s;y[z]==e&&(--y[z],++S)}D=e}return{t:new Jo(y),l:D}},C1=function(t,e,r){return t.s==-1?Math.max(C1(t.l,e,r+1),C1(t.r,e,r+1)):e[t.s]=r},dy=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new no(++e),n=0,a=t[0],o=1,u=function(f){r[n++]=f},c=1;c<=e;++c)if(t[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=t[c]}return{c:r.subarray(0,n),n:e}},Wf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},y4=function(t,e,r){var n=r.length,a=x4(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var o=0;o<n;++o)t[a+o+4]=r[o];return(a+4+n)*8},fy=function(t,e,r,n,a,o,u,c,f,p,m){cc(e,m++,r),++a[256];for(var w=b0(a,15),A=w.t,y=w.l,D=b0(o,15),S=D.t,E=D.l,_=dy(A),O=_.c,T=_.n,z=dy(S),ee=z.c,ae=z.n,W=new no(19),te=0;te<O.length;++te)++W[O[te]&31];for(var te=0;te<ee.length;++te)++W[ee[te]&31];for(var Q=b0(W,7),fe=Q.t,U=Q.l,F=19;F>4&&!fe[cy[F-1]];--F);var X=p+5<<3,Y=Wf(a,Gu)+Wf(o,_m)+u,we=Wf(a,A)+Wf(o,S)+u+14+3*F+Wf(W,fe)+2*W[16]+3*W[17]+7*W[18];if(f>=0&&X<=Y&&X<=we)return y4(e,m,t.subarray(f,f+p));var ye,xe,se,me;if(cc(e,m,1+(we<Y)),m+=2,we<Y){ye=rh(A,y,0),xe=A,se=rh(S,E,0),me=S;var I=rh(fe,U,0);cc(e,m,T-257),cc(e,m+5,ae-1),cc(e,m+10,F-4),m+=14;for(var te=0;te<F;++te)cc(e,m+3*te,fe[cy[te]]);m+=3*F;for(var j=[O,ee],x=0;x<2;++x)for(var C=j[x],te=0;te<C.length;++te){var M=C[te]&31;cc(e,m,I[M]),m+=fe[M],M>15&&(cc(e,m,C[te]>>5&127),m+=C[te]>>12)}}else ye=hR,xe=Gu,se=pR,me=_m;for(var te=0;te<c;++te){var H=n[te];if(H>255){var M=H>>18&31;Hf(e,m,ye[M+257]),m+=xe[M+257],M>7&&(cc(e,m,H>>23&31),m+=kv[M]);var ie=H&31;Hf(e,m,se[ie]),m+=me[ie],ie>3&&(Hf(e,m,H>>5&8191),m+=Tv[ie])}else Hf(e,m,ye[H]),m+=xe[H]}return Hf(e,m,ye[256]),m+xe[256]},gR=new Pv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),w4=new Jo(0),vR=function(t,e,r,n,a,o){var u=o.z||t.length,c=new Jo(n+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(n,c.length-a),p=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var w=gR[e-1],A=w>>13,y=w&8191,D=(1<<r)-1,S=o.p||new no(32768),E=o.h||new no(D+1),_=Math.ceil(r/3),O=2*_,T=function(ht){return(t[ht]^t[ht+1]<<_^t[ht+2]<<O)&D},z=new Pv(25e3),ee=new no(288),ae=new no(32),W=0,te=0,Q=o.i||0,fe=0,U=o.w||0,F=0;Q+2<u;++Q){var X=T(Q),Y=Q&32767,we=E[X];if(S[Y]=we,E[X]=Y,U<=Q){var ye=u-Q;if((W>7e3||fe>24576)&&(ye>423||!p)){m=fy(t,f,0,z,ee,ae,te,fe,F,Q-F,m),fe=W=te=0,F=Q;for(var xe=0;xe<286;++xe)ee[xe]=0;for(var xe=0;xe<30;++xe)ae[xe]=0}var se=2,me=0,I=y,j=Y-we&32767;if(ye>2&&X==T(Q-j))for(var x=Math.min(A,ye)-1,C=Math.min(32767,Q),M=Math.min(258,ye);j<=C&&--I&&Y!=we;){if(t[Q+se]==t[Q+se-j]){for(var H=0;H<M&&t[Q+H]==t[Q+H-j];++H);if(H>se){if(se=H,me=j,H>x)break;for(var ie=Math.min(j,H-2),le=0,xe=0;xe<ie;++xe){var ve=Q-j+xe&32767,je=S[ve],Te=ve-je&32767;Te>le&&(le=Te,we=ve)}}}Y=we,we=S[Y],j+=Y-we&32767}if(me){z[fe++]=268435456|S1[se]<<18|uy[me];var Ge=S1[se]&31,at=uy[me]&31;te+=kv[Ge]+Tv[at],++ee[257+Ge],++ae[at],U=Q+se,++W}else z[fe++]=t[Q],++ee[t[Q]]}}for(Q=Math.max(Q,U);Q<u;++Q)z[fe++]=t[Q],++ee[t[Q]];m=fy(t,f,p,z,ee,ae,te,fe,F,Q-F,m),p||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=E,o.p=S,o.i=Q,o.w=U)}else{for(var Q=o.w||0;Q<u+p;Q+=65535){var nt=Q+65535;nt>=u&&(f[m/8|0]=p,nt=u),m=y4(f,m+1,t.subarray(Q,nt))}o.i=u}return mR(c,0,n+x4(m)+a)},b4=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,o=r.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=n+=r[u];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},xR=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Jo(o.length+t.length);u.set(o),u.set(t,o.length),t=u,a.w=o.length}return vR(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},N4=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},yR=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=b4();a.p(e.dictionary),N4(t,2,a.d())}};function _1(t,e){e||(e={});var r=b4();r.p(t);var n=xR(t,e,e.dictionary?6:2,4);return yR(n,e),N4(n,n.length-4,r.d()),n}var wR=typeof TextDecoder<"u"&&new TextDecoder,bR=0;try{wR.decode(w4,{stream:!0}),bR=1}catch{}function NR(t){if(Array.isArray(t))return t}function SR(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,u,c=[],f=!0,p=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(f=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);f=!0);}catch(m){p=!0,a=m}finally{try{if(!f&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(p)throw a}}return c}}function hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function jR(t,e){if(t){if(typeof t=="string")return hy(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hy(t,e):void 0}}function CR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function py(t,e){return NR(t)||SR(t,e)||jR(t,e)||CR()}function my(t,e="utf8"){return new TextDecoder(e).decode(t)}const _R=new TextEncoder;function AR(t){return _R.encode(t)}const PR=1024*8,kR=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),N0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ev{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=PR,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof Ev)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=N0[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+n);if(this.littleEndian===kR&&r!=="uint8"&&r!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+n));c.reverse();const f=new N0[r](c.buffer);return this.offset+=n,f.reverse(),f}const u=new N0[r](o);return this.offset+=n,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return my(this.readBytes(e))}decodeText(e=1,r="utf8"){return my(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(AR(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function mf(t){let e=t.length;for(;--e>=0;)t[e]=0}const TR=3,ER=258,S4=29,LR=256,RR=LR+1+S4,j4=30,DR=512,IR=new Array((RR+2)*2);mf(IR);const FR=new Array(j4*2);mf(FR);const OR=new Array(DR);mf(OR);const MR=new Array(ER-TR+1);mf(MR);const BR=new Array(S4);mf(BR);const qR=new Array(j4);mf(qR);const UR=(t,e,r,n)=>{let a=t&65535|0,o=t>>>16&65535|0,u=0;for(;r!==0;){u=r>2e3?2e3:r,r-=u;do a=a+e[n++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var A1=UR;const zR=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},$R=new Uint32Array(zR()),VR=(t,e,r,n)=>{const a=$R,o=n+r;t^=-1;for(let u=n;u<o;u++)t=t>>>8^a[(t^e[u])&255];return t^-1};var wl=VR,P1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},C4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const HR=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var WR=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)HR(r,n)&&(t[n]=r[n])}}return t},GR=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,o=t.length;n<o;n++){let u=t[n];r.set(u,a),a+=u.length}return r},_4={assign:WR,flattenChunks:GR};let A4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A4=!1}const Ch=new Uint8Array(256);for(let t=0;t<256;t++)Ch[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ch[254]=Ch[254]=1;var KR=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,o,u=t.length,c=0;for(a=0;a<u;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<u&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<u&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const QR=(t,e)=>{if(e<65534&&t.subarray&&A4)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var ZR=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const o=new Array(r*2);for(a=0,n=0;n<r;){let u=t[n++];if(u<128){o[a++]=u;continue}let c=Ch[u];if(c>4){o[a++]=65533,n+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&n<r;)u=u<<6|t[n++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return QR(o,a)},YR=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Ch[t[r]]>e?r:e},k1={string2buf:KR,buf2string:ZR,utf8border:YR};function XR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var JR=XR;const Pp=16209,eD=16191;var tD=function(e,r){let n,a,o,u,c,f,p,m,w,A,y,D,S,E,_,O,T,z,ee,ae,W,te,Q,fe;const U=e.state;n=e.next_in,Q=e.input,a=n+(e.avail_in-5),o=e.next_out,fe=e.output,u=o-(r-e.avail_out),c=o+(e.avail_out-257),f=U.dmax,p=U.wsize,m=U.whave,w=U.wnext,A=U.window,y=U.hold,D=U.bits,S=U.lencode,E=U.distcode,_=(1<<U.lenbits)-1,O=(1<<U.distbits)-1;e:do{D<15&&(y+=Q[n++]<<D,D+=8,y+=Q[n++]<<D,D+=8),T=S[y&_];t:for(;;){if(z=T>>>24,y>>>=z,D-=z,z=T>>>16&255,z===0)fe[o++]=T&65535;else if(z&16){ee=T&65535,z&=15,z&&(D<z&&(y+=Q[n++]<<D,D+=8),ee+=y&(1<<z)-1,y>>>=z,D-=z),D<15&&(y+=Q[n++]<<D,D+=8,y+=Q[n++]<<D,D+=8),T=E[y&O];r:for(;;){if(z=T>>>24,y>>>=z,D-=z,z=T>>>16&255,z&16){if(ae=T&65535,z&=15,D<z&&(y+=Q[n++]<<D,D+=8,D<z&&(y+=Q[n++]<<D,D+=8)),ae+=y&(1<<z)-1,ae>f){e.msg="invalid distance too far back",U.mode=Pp;break e}if(y>>>=z,D-=z,z=o-u,ae>z){if(z=ae-z,z>m&&U.sane){e.msg="invalid distance too far back",U.mode=Pp;break e}if(W=0,te=A,w===0){if(W+=p-z,z<ee){ee-=z;do fe[o++]=A[W++];while(--z);W=o-ae,te=fe}}else if(w<z){if(W+=p+w-z,z-=w,z<ee){ee-=z;do fe[o++]=A[W++];while(--z);if(W=0,w<ee){z=w,ee-=z;do fe[o++]=A[W++];while(--z);W=o-ae,te=fe}}}else if(W+=w-z,z<ee){ee-=z;do fe[o++]=A[W++];while(--z);W=o-ae,te=fe}for(;ee>2;)fe[o++]=te[W++],fe[o++]=te[W++],fe[o++]=te[W++],ee-=3;ee&&(fe[o++]=te[W++],ee>1&&(fe[o++]=te[W++]))}else{W=o-ae;do fe[o++]=fe[W++],fe[o++]=fe[W++],fe[o++]=fe[W++],ee-=3;while(ee>2);ee&&(fe[o++]=fe[W++],ee>1&&(fe[o++]=fe[W++]))}}else if((z&64)===0){T=E[(T&65535)+(y&(1<<z)-1)];continue r}else{e.msg="invalid distance code",U.mode=Pp;break e}break}}else if((z&64)===0){T=S[(T&65535)+(y&(1<<z)-1)];continue t}else if(z&32){U.mode=eD;break e}else{e.msg="invalid literal/length code",U.mode=Pp;break e}break}}while(n<a&&o<c);ee=D>>3,n-=ee,D-=ee<<3,y&=(1<<D)-1,e.next_in=n,e.next_out=o,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=o<c?257+(c-o):257-(o-c),U.hold=y,U.bits=D};const _d=15,gy=852,vy=592,xy=0,S0=1,yy=2,rD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nD=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),aD=(t,e,r,n,a,o,u,c)=>{const f=c.bits;let p=0,m=0,w=0,A=0,y=0,D=0,S=0,E=0,_=0,O=0,T,z,ee,ae,W,te=null,Q;const fe=new Uint16Array(_d+1),U=new Uint16Array(_d+1);let F=null,X,Y,we;for(p=0;p<=_d;p++)fe[p]=0;for(m=0;m<n;m++)fe[e[r+m]]++;for(y=f,A=_d;A>=1&&fe[A]===0;A--);if(y>A&&(y=A),A===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<A&&fe[w]===0;w++);for(y<w&&(y=w),E=1,p=1;p<=_d;p++)if(E<<=1,E-=fe[p],E<0)return-1;if(E>0&&(t===xy||A!==1))return-1;for(U[1]=0,p=1;p<_d;p++)U[p+1]=U[p]+fe[p];for(m=0;m<n;m++)e[r+m]!==0&&(u[U[e[r+m]]++]=m);if(t===xy?(te=F=u,Q=20):t===S0?(te=rD,F=nD,Q=257):(te=sD,F=iD,Q=0),O=0,m=0,p=w,W=o,D=y,S=0,ee=-1,_=1<<y,ae=_-1,t===S0&&_>gy||t===yy&&_>vy)return 1;for(;;){X=p-S,u[m]+1<Q?(Y=0,we=u[m]):u[m]>=Q?(Y=F[u[m]-Q],we=te[u[m]-Q]):(Y=96,we=0),T=1<<p-S,z=1<<D,w=z;do z-=T,a[W+(O>>S)+z]=X<<24|Y<<16|we|0;while(z!==0);for(T=1<<p-1;O&T;)T>>=1;if(T!==0?(O&=T-1,O+=T):O=0,m++,--fe[p]===0){if(p===A)break;p=e[r+u[m]]}if(p>y&&(O&ae)!==ee){for(S===0&&(S=y),W+=w,D=p-S,E=1<<D;D+S<A&&(E-=fe[D+S],!(E<=0));)D++,E<<=1;if(_+=1<<D,t===S0&&_>gy||t===yy&&_>vy)return 1;ee=O&ae,a[ee]=y<<24|D<<16|W-o|0}}return O!==0&&(a[W+O]=p-S<<24|64<<16|0),c.bits=y,0};var nh=aD;const oD=0,P4=1,k4=2,{Z_FINISH:wy,Z_BLOCK:lD,Z_TREES:kp,Z_OK:Ku,Z_STREAM_END:cD,Z_NEED_DICT:uD,Z_STREAM_ERROR:No,Z_DATA_ERROR:T4,Z_MEM_ERROR:E4,Z_BUF_ERROR:dD,Z_DEFLATED:by}=C4,ig=16180,Ny=16181,Sy=16182,jy=16183,Cy=16184,_y=16185,Ay=16186,Py=16187,ky=16188,Ty=16189,Am=16190,uc=16191,j0=16192,Ey=16193,C0=16194,Ly=16195,Ry=16196,Dy=16197,Iy=16198,Tp=16199,Ep=16200,Fy=16201,Oy=16202,My=16203,By=16204,qy=16205,_0=16206,Uy=16207,zy=16208,xs=16209,L4=16210,R4=16211,fD=852,hD=592,pD=15,mD=pD,$y=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function gD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ig||e.mode>R4?1:0},D4=t=>{if(Yu(t))return No;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ig,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(fD),e.distcode=e.distdyn=new Int32Array(hD),e.sane=1,e.back=-1,Ku},I4=t=>{if(Yu(t))return No;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,D4(t)},F4=(t,e)=>{let r;if(Yu(t))return No;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?No:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,I4(t))},O4=(t,e)=>{if(!t)return No;const r=new gD;t.state=r,r.strm=t,r.window=null,r.mode=ig;const n=F4(t,e);return n!==Ku&&(t.state=null),n},vD=t=>O4(t,mD);let Vy=!0,A0,P0;const xD=t=>{if(Vy){A0=new Int32Array(512),P0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(nh(P4,t.lens,0,288,A0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;nh(k4,t.lens,0,32,P0,0,t.work,{bits:5}),Vy=!1}t.lencode=A0,t.lenbits=9,t.distcode=P0,t.distbits=5},M4=(t,e,r,n)=>{let a;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),o.window.set(e.subarray(r-n,r-n+a),o.wnext),n-=a,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},yD=(t,e)=>{let r,n,a,o,u,c,f,p,m,w,A,y,D,S,E=0,_,O,T,z,ee,ae,W,te;const Q=new Uint8Array(4);let fe,U;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yu(t)||!t.output||!t.input&&t.avail_in!==0)return No;r=t.state,r.mode===uc&&(r.mode=j0),u=t.next_out,a=t.output,f=t.avail_out,o=t.next_in,n=t.input,c=t.avail_in,p=r.hold,m=r.bits,w=c,A=f,te=Ku;e:for(;;)switch(r.mode){case ig:if(r.wrap===0){r.mode=j0;break}for(;m<16;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(r.wrap&2&&p===35615){r.wbits===0&&(r.wbits=15),r.check=0,Q[0]=p&255,Q[1]=p>>>8&255,r.check=wl(r.check,Q,2,0),p=0,m=0,r.mode=Ny;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((p&255)<<8)+(p>>8))%31){t.msg="incorrect header check",r.mode=xs;break}if((p&15)!==by){t.msg="unknown compression method",r.mode=xs;break}if(p>>>=4,m-=4,W=(p&15)+8,r.wbits===0&&(r.wbits=W),W>15||W>r.wbits){t.msg="invalid window size",r.mode=xs;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=p&512?Ty:uc,p=0,m=0;break;case Ny:for(;m<16;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(r.flags=p,(r.flags&255)!==by){t.msg="unknown compression method",r.mode=xs;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=xs;break}r.head&&(r.head.text=p>>8&1),r.flags&512&&r.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,r.check=wl(r.check,Q,2,0)),p=0,m=0,r.mode=Sy;case Sy:for(;m<32;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}r.head&&(r.head.time=p),r.flags&512&&r.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,Q[2]=p>>>16&255,Q[3]=p>>>24&255,r.check=wl(r.check,Q,4,0)),p=0,m=0,r.mode=jy;case jy:for(;m<16;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}r.head&&(r.head.xflags=p&255,r.head.os=p>>8),r.flags&512&&r.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,r.check=wl(r.check,Q,2,0)),p=0,m=0,r.mode=Cy;case Cy:if(r.flags&1024){for(;m<16;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}r.length=p,r.head&&(r.head.extra_len=p),r.flags&512&&r.wrap&4&&(Q[0]=p&255,Q[1]=p>>>8&255,r.check=wl(r.check,Q,2,0)),p=0,m=0}else r.head&&(r.head.extra=null);r.mode=_y;case _y:if(r.flags&1024&&(y=r.length,y>c&&(y=c),y&&(r.head&&(W=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+y),W)),r.flags&512&&r.wrap&4&&(r.check=wl(r.check,n,y,o)),c-=y,o+=y,r.length-=y),r.length))break e;r.length=0,r.mode=Ay;case Ay:if(r.flags&2048){if(c===0)break e;y=0;do W=n[o+y++],r.head&&W&&r.length<65536&&(r.head.name+=String.fromCharCode(W));while(W&&y<c);if(r.flags&512&&r.wrap&4&&(r.check=wl(r.check,n,y,o)),c-=y,o+=y,W)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Py;case Py:if(r.flags&4096){if(c===0)break e;y=0;do W=n[o+y++],r.head&&W&&r.length<65536&&(r.head.comment+=String.fromCharCode(W));while(W&&y<c);if(r.flags&512&&r.wrap&4&&(r.check=wl(r.check,n,y,o)),c-=y,o+=y,W)break e}else r.head&&(r.head.comment=null);r.mode=ky;case ky:if(r.flags&512){for(;m<16;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(r.wrap&4&&p!==(r.check&65535)){t.msg="header crc mismatch",r.mode=xs;break}p=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=uc;break;case Ty:for(;m<32;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}t.adler=r.check=$y(p),p=0,m=0,r.mode=Am;case Am:if(r.havedict===0)return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,r.hold=p,r.bits=m,uD;t.adler=r.check=1,r.mode=uc;case uc:if(e===lD||e===kp)break e;case j0:if(r.last){p>>>=m&7,m-=m&7,r.mode=_0;break}for(;m<3;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}switch(r.last=p&1,p>>>=1,m-=1,p&3){case 0:r.mode=Ey;break;case 1:if(xD(r),r.mode=Tp,e===kp){p>>>=2,m-=2;break e}break;case 2:r.mode=Ry;break;case 3:t.msg="invalid block type",r.mode=xs}p>>>=2,m-=2;break;case Ey:for(p>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if((p&65535)!==(p>>>16^65535)){t.msg="invalid stored block lengths",r.mode=xs;break}if(r.length=p&65535,p=0,m=0,r.mode=C0,e===kp)break e;case C0:r.mode=Ly;case Ly:if(y=r.length,y){if(y>c&&(y=c),y>f&&(y=f),y===0)break e;a.set(n.subarray(o,o+y),u),c-=y,o+=y,f-=y,u+=y,r.length-=y;break}r.mode=uc;break;case Ry:for(;m<14;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(r.nlen=(p&31)+257,p>>>=5,m-=5,r.ndist=(p&31)+1,p>>>=5,m-=5,r.ncode=(p&15)+4,p>>>=4,m-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=xs;break}r.have=0,r.mode=Dy;case Dy:for(;r.have<r.ncode;){for(;m<3;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}r.lens[F[r.have++]]=p&7,p>>>=3,m-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,fe={bits:r.lenbits},te=nh(oD,r.lens,0,19,r.lencode,0,r.work,fe),r.lenbits=fe.bits,te){t.msg="invalid code lengths set",r.mode=xs;break}r.have=0,r.mode=Iy;case Iy:for(;r.have<r.nlen+r.ndist;){for(;E=r.lencode[p&(1<<r.lenbits)-1],_=E>>>24,O=E>>>16&255,T=E&65535,!(_<=m);){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(T<16)p>>>=_,m-=_,r.lens[r.have++]=T;else{if(T===16){for(U=_+2;m<U;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(p>>>=_,m-=_,r.have===0){t.msg="invalid bit length repeat",r.mode=xs;break}W=r.lens[r.have-1],y=3+(p&3),p>>>=2,m-=2}else if(T===17){for(U=_+3;m<U;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}p>>>=_,m-=_,W=0,y=3+(p&7),p>>>=3,m-=3}else{for(U=_+7;m<U;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}p>>>=_,m-=_,W=0,y=11+(p&127),p>>>=7,m-=7}if(r.have+y>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=xs;break}for(;y--;)r.lens[r.have++]=W}}if(r.mode===xs)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=xs;break}if(r.lenbits=9,fe={bits:r.lenbits},te=nh(P4,r.lens,0,r.nlen,r.lencode,0,r.work,fe),r.lenbits=fe.bits,te){t.msg="invalid literal/lengths set",r.mode=xs;break}if(r.distbits=6,r.distcode=r.distdyn,fe={bits:r.distbits},te=nh(k4,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,fe),r.distbits=fe.bits,te){t.msg="invalid distances set",r.mode=xs;break}if(r.mode=Tp,e===kp)break e;case Tp:r.mode=Ep;case Ep:if(c>=6&&f>=258){t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,r.hold=p,r.bits=m,tD(t,A),u=t.next_out,a=t.output,f=t.avail_out,o=t.next_in,n=t.input,c=t.avail_in,p=r.hold,m=r.bits,r.mode===uc&&(r.back=-1);break}for(r.back=0;E=r.lencode[p&(1<<r.lenbits)-1],_=E>>>24,O=E>>>16&255,T=E&65535,!(_<=m);){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(O&&(O&240)===0){for(z=_,ee=O,ae=T;E=r.lencode[ae+((p&(1<<z+ee)-1)>>z)],_=E>>>24,O=E>>>16&255,T=E&65535,!(z+_<=m);){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}p>>>=z,m-=z,r.back+=z}if(p>>>=_,m-=_,r.back+=_,r.length=T,O===0){r.mode=qy;break}if(O&32){r.back=-1,r.mode=uc;break}if(O&64){t.msg="invalid literal/length code",r.mode=xs;break}r.extra=O&15,r.mode=Fy;case Fy:if(r.extra){for(U=r.extra;m<U;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}r.length+=p&(1<<r.extra)-1,p>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Oy;case Oy:for(;E=r.distcode[p&(1<<r.distbits)-1],_=E>>>24,O=E>>>16&255,T=E&65535,!(_<=m);){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if((O&240)===0){for(z=_,ee=O,ae=T;E=r.distcode[ae+((p&(1<<z+ee)-1)>>z)],_=E>>>24,O=E>>>16&255,T=E&65535,!(z+_<=m);){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}p>>>=z,m-=z,r.back+=z}if(p>>>=_,m-=_,r.back+=_,O&64){t.msg="invalid distance code",r.mode=xs;break}r.offset=T,r.extra=O&15,r.mode=My;case My:if(r.extra){for(U=r.extra;m<U;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}r.offset+=p&(1<<r.extra)-1,p>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=xs;break}r.mode=By;case By:if(f===0)break e;if(y=A-f,r.offset>y){if(y=r.offset-y,y>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=xs;break}y>r.wnext?(y-=r.wnext,D=r.wsize-y):D=r.wnext-y,y>r.length&&(y=r.length),S=r.window}else S=a,D=u-r.offset,y=r.length;y>f&&(y=f),f-=y,r.length-=y;do a[u++]=S[D++];while(--y);r.length===0&&(r.mode=Ep);break;case qy:if(f===0)break e;a[u++]=r.length,f--,r.mode=Ep;break;case _0:if(r.wrap){for(;m<32;){if(c===0)break e;c--,p|=n[o++]<<m,m+=8}if(A-=f,t.total_out+=A,r.total+=A,r.wrap&4&&A&&(t.adler=r.check=r.flags?wl(r.check,a,A,u-A):A1(r.check,a,A,u-A)),A=f,r.wrap&4&&(r.flags?p:$y(p))!==r.check){t.msg="incorrect data check",r.mode=xs;break}p=0,m=0}r.mode=Uy;case Uy:if(r.wrap&&r.flags){for(;m<32;){if(c===0)break e;c--,p+=n[o++]<<m,m+=8}if(r.wrap&4&&p!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=xs;break}p=0,m=0}r.mode=zy;case zy:te=cD;break e;case xs:te=T4;break e;case L4:return E4;case R4:default:return No}return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=c,r.hold=p,r.bits=m,(r.wsize||A!==t.avail_out&&r.mode<xs&&(r.mode<_0||e!==wy))&&M4(t,t.output,t.next_out,A-t.avail_out),w-=t.avail_in,A-=t.avail_out,t.total_in+=w,t.total_out+=A,r.total+=A,r.wrap&4&&A&&(t.adler=r.check=r.flags?wl(r.check,a,A,t.next_out-A):A1(r.check,a,A,t.next_out-A)),t.data_type=r.bits+(r.last?64:0)+(r.mode===uc?128:0)+(r.mode===Tp||r.mode===C0?256:0),(w===0&&A===0||e===wy)&&te===Ku&&(te=dD),te},wD=t=>{if(Yu(t))return No;let e=t.state;return e.window&&(e.window=null),t.state=null,Ku},bD=(t,e)=>{if(Yu(t))return No;const r=t.state;return(r.wrap&2)===0?No:(r.head=e,e.done=!1,Ku)},ND=(t,e)=>{const r=e.length;let n,a,o;return Yu(t)||(n=t.state,n.wrap!==0&&n.mode!==Am)?No:n.mode===Am&&(a=1,a=A1(a,e,r,0),a!==n.check)?T4:(o=M4(t,e,r,r),o?(n.mode=L4,E4):(n.havedict=1,Ku))};var SD=I4,jD=F4,CD=D4,_D=vD,AD=O4,PD=yD,kD=wD,TD=bD,ED=ND,LD="pako inflate (from Nodeca project)",hc={inflateReset:SD,inflateReset2:jD,inflateResetKeep:CD,inflateInit:_D,inflateInit2:AD,inflate:PD,inflateEnd:kD,inflateGetHeader:TD,inflateSetDictionary:ED,inflateInfo:LD};function RD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var DD=RD;const B4=Object.prototype.toString,{Z_NO_FLUSH:ID,Z_FINISH:FD,Z_OK:_h,Z_STREAM_END:k0,Z_NEED_DICT:T0,Z_STREAM_ERROR:OD,Z_DATA_ERROR:Hy,Z_MEM_ERROR:MD}=C4;function Mh(t){this.options=_4.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JR,this.strm.avail_out=0;let r=hc.inflateInit2(this.strm,e.windowBits);if(r!==_h)throw new Error(P1[r]);if(this.header=new DD,hc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=k1.string2buf(e.dictionary):B4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=hc.inflateSetDictionary(this.strm,e.dictionary),r!==_h)))throw new Error(P1[r])}Mh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?FD:ID,B4.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=hc.inflate(r,u),o===T0&&a&&(o=hc.inflateSetDictionary(r,a),o===_h?o=hc.inflate(r,u):o===Hy&&(o=T0));r.avail_in>0&&o===k0&&r.state.wrap>0&&t[r.next_in]!==0;)hc.inflateReset(r),o=hc.inflate(r,u);switch(o){case OD:case Hy:case T0:case MD:return this.onEnd(o),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||o===k0))if(this.options.to==="string"){let f=k1.utf8border(r.output,r.next_out),p=r.next_out-f,m=k1.buf2string(r.output,f);r.next_out=p,r.avail_out=n-p,p&&r.output.set(r.output.subarray(f,f+p),0),this.onData(m)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===_h&&c===0)){if(o===k0)return o=hc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Mh.prototype.onData=function(t){this.chunks.push(t)};Mh.prototype.onEnd=function(t){t===_h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_4.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function BD(t,e){const r=new Mh(e);if(r.push(t),r.err)throw r.msg||P1[r.err];return r.result}var qD=Mh,UD=BD,zD={Inflate:qD,inflate:UD};const{Inflate:$D,inflate:VD}=zD;var Wy=$D,HD=VD;const q4=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;q4[t]=e}const Gy=4294967295;function WD(t,e,r){let n=t;for(let a=0;a<r;a++)n=q4[(n^e[a])&255]^n>>>8;return n}function GD(t,e){return(WD(Gy,t,e)^Gy)>>>0}function Ky(t,e,r){const n=t.readUint32(),a=GD(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function U4(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function z4(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function $4(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function V4(t,e,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-a]+r[o]>>1)&255}}function H4(t,e,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+KD(e[o-a],r[o],r[o-a])&255}}function KD(t,e,r){const n=t+e-r,a=Math.abs(n-t),o=Math.abs(n-e),u=Math.abs(n-r);return a<=o&&a<=u?t:o<=u?e:r}function QD(t,e,r,n,a,o){switch(t){case 0:U4(e,r,a);break;case 1:z4(e,r,a,o);break;case 2:$4(e,r,n,a);break;case 3:V4(e,r,n,a,o);break;case 4:H4(e,r,n,a,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const ZD=new Uint16Array([255]),YD=new Uint8Array(ZD.buffer),XD=YD[0]===255;function JD(t){const{data:e,width:r,height:n,channels:a,depth:o}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(n*r*c);let p=0;for(let m=0;m<7;m++){const w=u[m],A=Math.ceil((r-w.x)/w.xStep),y=Math.ceil((n-w.y)/w.yStep);if(A<=0||y<=0)continue;const D=A*c,S=new Uint8Array(D);for(let E=0;E<y;E++){const _=e[p++],O=e.subarray(p,p+D);p+=D;const T=new Uint8Array(D);QD(_,O,T,S,D,c),S.set(T);for(let z=0;z<A;z++){const ee=w.x+z*w.xStep,ae=w.y+E*w.yStep;if(!(ee>=r||ae>=n))for(let W=0;W<c;W++)f[(ae*r+ee)*c+W]=T[z*c+W]}}}if(o===16){const m=new Uint16Array(f.buffer);if(XD)for(let w=0;w<m.length;w++)m[w]=eI(m[w]);return m}else return f}function eI(t){return(t&255)<<8|t>>8&255}const tI=new Uint16Array([255]),rI=new Uint8Array(tI.buffer),nI=rI[0]===255,sI=new Uint8Array(0);function Qy(t){const{data:e,width:r,height:n,channels:a,depth:o}=t,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*r),f=new Uint8Array(n*c);let p=sI,m=0,w,A;for(let y=0;y<n;y++){switch(w=e.subarray(m+1,m+1+c),A=f.subarray(y*c,(y+1)*c),e[m]){case 0:U4(w,A,c);break;case 1:z4(w,A,c,u);break;case 2:$4(w,A,p,c);break;case 3:V4(w,A,p,c,u);break;case 4:H4(w,A,p,c,u);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}p=A,m+=c+1}if(o===16){const y=new Uint16Array(f.buffer);if(nI)for(let D=0;D<y.length;D++)y[D]=iI(y[D]);return y}else return f}function iI(t){return(t&255)<<8|t>>8&255}const Qp=Uint8Array.of(137,80,78,71,13,10,26,10);function Zy(t){if(!aI(t.readBytes(Qp.length)))throw new Error("wrong PNG signature")}function aI(t){if(t.length<Qp.length)return!1;for(let e=0;e<Qp.length;e++)if(t[e]!==Qp[e])return!1;return!0}const oI="tEXt",lI=0,W4=new TextDecoder("latin1");function cI(t){if(dI(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const uI=/^[\u0000-\u00FF]*$/;function dI(t){if(!uI.test(t))throw new Error("invalid latin1 text")}function fI(t,e,r){const n=G4(e);t[n]=hI(e,r-n.length-1)}function G4(t){for(t.mark();t.readByte()!==lI;);const e=t.offset;t.reset();const r=W4.decode(t.readBytes(e-t.offset-1));return t.skip(1),cI(r),r}function hI(t,e){return W4.decode(t.readBytes(e))}const Ja={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},E0={UNKNOWN:-1,DEFLATE:0},Yy={UNKNOWN:-1,ADAPTIVE:0},L0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lp={NONE:0,BACKGROUND:1,PREVIOUS:2},R0={SOURCE:0,OVER:1};class pI extends Ev{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new Wy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=E0.UNKNOWN,this._filterMethod=Yy.UNKNOWN,this._interlaceMethod=L0.UNKNOWN,this._colorType=Ja.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Zy(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(Zy(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case oI:fI(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Ky(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Ky(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=mI(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Ja.GREYSCALE:n=1;break;case Ja.TRUECOLOUR:n=3;break;case Ja.INDEXED_COLOUR:n=1;break;case Ja.GREYSCALE_ALPHA:n=2;break;case Ja.TRUECOLOUR_ALPHA:n=4;break;case Ja.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==E0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ja.GREYSCALE:case Ja.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Ja.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ja.UNKNOWN:case Ja.GREYSCALE_ALPHA:case Ja.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=G4(this),n=this.readUint8();if(n!==E0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:HD(a)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Qy({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Lp.NONE:break;case Lp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[u+c]=0}break;case Lp.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,a=(o,u)=>{const c=((o+r.yOffset)*this._png.width+r.xOffset+u)*this._png.channels,f=(o*r.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(r.blendOp){case R0.SOURCE:for(let o=0;o<r.height;o++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let p=0;p<this._png.channels;p++)e.data[c+p]=r.data[f+p]}break;case R0.OVER:for(let o=0;o<r.height;o++)for(let u=0;u<r.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let p=0;p<this._png.channels;p++){const m=r.data[f+this._png.channels-1]/n,w=p%(this._png.channels-1)===0?1:r.data[f+p],A=Math.floor(m*w+(1-m)*e.data[c+p]);e.data[c+p]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Yy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===L0.NO_INTERLACE)this._png.data=Qy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===L0.ADAM7)this._png.data=JD({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lp.NONE,blendOp:R0.SOURCE,data:e}),this._inflator=new Wy,this._writingDataChunks=!1}}function mI(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Xy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Xy||(Xy={}));function gI(t,e){return new pI(t,e).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function D0(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var Zn={log:D0,warn:function(t){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):D0.call(null,arguments))},error:function(t){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):D0(t))}};function I0(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ru(n.response,e,r)},n.onerror=function(){Zn.error("could not download file")},n.send()}function Jy(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ru=Or.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Or.URL||Or.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Jy(a.href)?I0(t,e,r):Rp(a,a.target="_blank"):Rp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Rp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Jy(t))I0(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Rp(n)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Hn(o)!=="object"&&(Zn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return I0(t,e,r);var a=t.type==="application/octet-stream",o=/constructor/i.test(Or.HTMLElement)||Or.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=u?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},c.readAsDataURL(t)}else{var f=Or.URL||Or.webkitURL,p=f.createObjectURL(t);n?n.location=p:location.href=p,n=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});function K4(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,u=a.exec(t);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+c+f+p}}var Zp=Or.atob.bind(Or),e5=Or.btoa.bind(Or);function F0(t,e){var r=t[0],n=t[1],a=t[2],o=t[3];r=Ji(r,n,a,o,e[0],7,-680876936),o=Ji(o,r,n,a,e[1],12,-389564586),a=Ji(a,o,r,n,e[2],17,606105819),n=Ji(n,a,o,r,e[3],22,-1044525330),r=Ji(r,n,a,o,e[4],7,-176418897),o=Ji(o,r,n,a,e[5],12,1200080426),a=Ji(a,o,r,n,e[6],17,-1473231341),n=Ji(n,a,o,r,e[7],22,-45705983),r=Ji(r,n,a,o,e[8],7,1770035416),o=Ji(o,r,n,a,e[9],12,-1958414417),a=Ji(a,o,r,n,e[10],17,-42063),n=Ji(n,a,o,r,e[11],22,-1990404162),r=Ji(r,n,a,o,e[12],7,1804603682),o=Ji(o,r,n,a,e[13],12,-40341101),a=Ji(a,o,r,n,e[14],17,-1502002290),r=ea(r,n=Ji(n,a,o,r,e[15],22,1236535329),a,o,e[1],5,-165796510),o=ea(o,r,n,a,e[6],9,-1069501632),a=ea(a,o,r,n,e[11],14,643717713),n=ea(n,a,o,r,e[0],20,-373897302),r=ea(r,n,a,o,e[5],5,-701558691),o=ea(o,r,n,a,e[10],9,38016083),a=ea(a,o,r,n,e[15],14,-660478335),n=ea(n,a,o,r,e[4],20,-405537848),r=ea(r,n,a,o,e[9],5,568446438),o=ea(o,r,n,a,e[14],9,-1019803690),a=ea(a,o,r,n,e[3],14,-187363961),n=ea(n,a,o,r,e[8],20,1163531501),r=ea(r,n,a,o,e[13],5,-1444681467),o=ea(o,r,n,a,e[2],9,-51403784),a=ea(a,o,r,n,e[7],14,1735328473),r=ta(r,n=ea(n,a,o,r,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ta(o,r,n,a,e[8],11,-2022574463),a=ta(a,o,r,n,e[11],16,1839030562),n=ta(n,a,o,r,e[14],23,-35309556),r=ta(r,n,a,o,e[1],4,-1530992060),o=ta(o,r,n,a,e[4],11,1272893353),a=ta(a,o,r,n,e[7],16,-155497632),n=ta(n,a,o,r,e[10],23,-1094730640),r=ta(r,n,a,o,e[13],4,681279174),o=ta(o,r,n,a,e[0],11,-358537222),a=ta(a,o,r,n,e[3],16,-722521979),n=ta(n,a,o,r,e[6],23,76029189),r=ta(r,n,a,o,e[9],4,-640364487),o=ta(o,r,n,a,e[12],11,-421815835),a=ta(a,o,r,n,e[15],16,530742520),r=ra(r,n=ta(n,a,o,r,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ra(o,r,n,a,e[7],10,1126891415),a=ra(a,o,r,n,e[14],15,-1416354905),n=ra(n,a,o,r,e[5],21,-57434055),r=ra(r,n,a,o,e[12],6,1700485571),o=ra(o,r,n,a,e[3],10,-1894986606),a=ra(a,o,r,n,e[10],15,-1051523),n=ra(n,a,o,r,e[1],21,-2054922799),r=ra(r,n,a,o,e[8],6,1873313359),o=ra(o,r,n,a,e[15],10,-30611744),a=ra(a,o,r,n,e[6],15,-1560198380),n=ra(n,a,o,r,e[13],21,1309151649),r=ra(r,n,a,o,e[4],6,-145523070),o=ra(o,r,n,a,e[11],10,-1120210379),a=ra(a,o,r,n,e[2],15,718787259),n=ra(n,a,o,r,e[9],21,-343485551),t[0]=Zc(r,t[0]),t[1]=Zc(n,t[1]),t[2]=Zc(a,t[2]),t[3]=Zc(o,t[3])}function ag(t,e,r,n,a,o){return e=Zc(Zc(e,t),Zc(n,o)),Zc(e<<a|e>>>32-a,r)}function Ji(t,e,r,n,a,o,u){return ag(e&r|~e&n,t,e,a,o,u)}function ea(t,e,r,n,a,o,u){return ag(e&n|r&~n,t,e,a,o,u)}function ta(t,e,r,n,a,o,u){return ag(e^r^n,t,e,a,o,u)}function ra(t,e,r,n,a,o,u){return ag(r^(e|~n),t,e,a,o,u)}function Q4(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)F0(n,vI(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(F0(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,F0(n,a),n}function vI(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var t5="0123456789abcdef".split("");function xI(t){for(var e="",r=0;r<4;r++)e+=t5[t>>8*r+4&15]+t5[t>>8*r&15];return e}function yI(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function T1(t){return Q4(t).map(yI).join("")}var wI=(function(t){for(var e=0;e<t.length;e++)t[e]=xI(t[e]);return t.join("")})(Q4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zc(t,e){if(wI){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function E1(t,e){var r,n,a,o;if(t!==r){for(var u=(a=t,o=1+(256/t.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var p=0;for(f=0;f<256;f++){var m=c[f];p=(p+m+u.charCodeAt(f))%256,c[f]=c[p],c[p]=m}r=t,n=c}else c=n;var w=e.length,A=0,y=0,D="";for(f=0;f<w;f++)y=(y+(m=c[A=(A+1)%256]))%256,c[A]=c[y],c[y]=m,u=c[(c[A]+c[y])%256],D+=String.fromCharCode(e.charCodeAt(f)^u);return D}var r5={print:4,modify:8,copy:16,"annot-forms":32};function Ed(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(c){if(r5.perm!==void 0)throw new Error("Invalid permission: "+c);a+=r5[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=T1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=E1(this.encryptionKey,this.padding)}function Ld(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function n5(t){if(Hn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!a],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[r]){var u=e[r][o];try{u[0].apply(t,n)}catch(c){Or.console&&Zn.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Pm(t){if(!(this instanceof Pm))return new Pm(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Z4(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Du(t,e,r,n,a){if(!(this instanceof Du))return new Du(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Z4.call(this,n,a)}function Id(t,e,r,n,a){if(!(this instanceof Id))return new Id(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Z4.call(this,n,a)}function nr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,p="S",m=null;Hn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,o=t.compress||t.compressPdf||o,(m=t.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),p=t.defaultPathOperation||"S"),u=t.filters||(o===!0?["FlateEncode"]:u),n=n||"mm",r=(""+(r||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,A={},y={internal:{},__private__:{}};y.__private__.PubSub=n5;var D="1.3",S=y.__private__.getPdfVersion=function(){return D};y.__private__.setPdfVersion=function(b){D=b};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return E};var _=y.__private__.getPageFormat=function(b){return E[b]};a=a||"a4";var O="compat",T="advanced",z=O;function ee(){this.saveGraphicsState(),re(new Gt(Tt,0,0,-Tt,0,Vi()*Tt).toString()+" cm"),this.setFontSize(this.getFontSize()/Tt),p="n",z=T}function ae(){this.restoreGraphicsState(),p="S",z=O}var W=y.__private__.combineFontStyleAndFontWeight=function(b,$){if(b=="bold"&&$=="normal"||b=="bold"&&$==400||b=="normal"&&$=="italic"||b=="bold"&&$=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return $&&(b=$==400||$==="normal"?b==="italic"?"italic":"normal":$!=700&&$!=="bold"||b!=="normal"?($==700?"bold":$)+""+b:"bold"),b};y.advancedAPI=function(b){var $=z===O;return $&&ee.call(this),typeof b!="function"||(b(this),$&&ae.call(this)),this},y.compatAPI=function(b){var $=z===T;return $&&ae.call(this),typeof b!="function"||(b(this),$&&ee.call(this)),this},y.isAdvancedAPI=function(){return z===T};var te,Q=function(b){if(z!==T)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},fe=y.roundToPrecision=y.__private__.roundToPrecision=function(b,$){var de=e||$;if(isNaN(b)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(de).replace(/0+$/,"")};te=y.hpf=y.__private__.hpf=typeof f=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(b,f)}:f==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return fe(b,16)};var U=y.f2=y.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return fe(b,2)},F=y.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return fe(b,3)},X=y.scale=y.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return z===O?b*Tt:z===T?b:void 0},Y=function(b){return X((function($){return z===O?Vi()-$:z===T?$:void 0})(b))};y.__private__.setPrecision=y.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var we,ye="00000000000000000000000000000000",xe=y.__private__.getFileId=function(){return ye},se=y.__private__.setFileId=function(b){return ye=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(ys=new Ed(m.userPermissions,m.userPassword,m.ownerPassword,ye)),ye};y.setFileId=function(b){return se(b),this},y.getFileId=function(){return xe()};var me=y.__private__.convertDateToPDFDate=function(b){var $=b.getTimezoneOffset(),de=$<0?"+":"-",be=Math.floor(Math.abs($/60)),Ee=Math.abs($%60),Le=[de,M(be),"'",M(Ee),"'"].join("");return["D:",b.getFullYear(),M(b.getMonth()+1),M(b.getDate()),M(b.getHours()),M(b.getMinutes()),M(b.getSeconds()),Le].join("")},I=y.__private__.convertPDFDateToDate=function(b){var $=parseInt(b.substr(2,4),10),de=parseInt(b.substr(6,2),10)-1,be=parseInt(b.substr(8,2),10),Ee=parseInt(b.substr(10,2),10),Le=parseInt(b.substr(12,2),10),Ke=parseInt(b.substr(14,2),10);return new Date($,de,be,Ee,Le,Ke,0)},j=y.__private__.setCreationDate=function(b){var $;if(b===void 0&&(b=new Date),b instanceof Date)$=me(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");$=b}return we=$},x=y.__private__.getCreationDate=function(b){var $=we;return b==="jsDate"&&($=I(we)),$};y.setCreationDate=function(b){return j(b),this},y.getCreationDate=function(b){return x(b)};var C,M=y.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},H=y.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ie=0,le=[],ve=[],je=0,Te=[],Ge=[],at=!1,nt=ve;y.__private__.setCustomOutputDestination=function(b){at=!0,nt=b};var ht=function(b){at||(nt=b)};y.__private__.resetCustomOutputDestination=function(){at=!1,nt=ve};var re=y.__private__.out=function(b){return b=b.toString(),je+=b.length+1,nt.push(b),nt},ke=y.__private__.write=function(b){return re(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Ve=y.__private__.getArrayBuffer=function(b){for(var $=b.length,de=new ArrayBuffer($),be=new Uint8Array(de);$--;)be[$]=b.charCodeAt($);return de},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return He};var tt=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(b){return tt=z===T?b/Tt:b,this};var yt,_t=y.__private__.getFontSize=y.getFontSize=function(){return z===O?tt:tt*Tt},oe=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(b){return oe=b,this},y.__private__.getR2L=y.getR2L=function(){return oe};var Ne,Fe=y.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))yt=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');yt=b}else yt=parseInt(b,10)};y.__private__.getZoomMode=function(){return yt};var Re,$e=y.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Ne=b};y.__private__.getPageMode=function(){return Ne};var ze=y.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');Re=b};y.__private__.getLayoutMode=function(){return Re},y.__private__.setDisplayMode=y.setDisplayMode=function(b,$,de){return Fe(b),ze($),$e(de),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(b){if(Object.keys(ct).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[b]},y.__private__.getDocumentProperties=function(){return ct},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(b){for(var $ in ct)ct.hasOwnProperty($)&&b[$]&&(ct[$]=b[$]);return this},y.__private__.setDocumentProperty=function(b,$){if(Object.keys(ct).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[b]=$};var pt,Tt,St,yn,Cr,yr={},pr={},Ir=[],Rt={},wr={},sr={},mr={},cn=null,fr=0,Vt=[],hr=new n5(y),Jn=t.hotfixes||[],Rn={},ii={},us=[],Gt=function b($,de,be,Ee,Le,Ke){if(!(this instanceof b))return new b($,de,be,Ee,Le,Ke);isNaN($)&&($=1),isNaN(de)&&(de=0),isNaN(be)&&(be=0),isNaN(Ee)&&(Ee=1),isNaN(Le)&&(Le=0),isNaN(Ke)&&(Ke=0),this._matrix=[$,de,be,Ee,Le,Ke]};Object.defineProperty(Gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Gt.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(te).join(b)},Gt.prototype.multiply=function(b){var $=b.sx*this.sx+b.shy*this.shx,de=b.sx*this.shy+b.shy*this.sy,be=b.shx*this.sx+b.sy*this.shx,Ee=b.shx*this.shy+b.sy*this.sy,Le=b.tx*this.sx+b.ty*this.shx+this.tx,Ke=b.tx*this.shy+b.ty*this.sy+this.ty;return new Gt($,de,be,Ee,Le,Ke)},Gt.prototype.decompose=function(){var b=this.sx,$=this.shy,de=this.shx,be=this.sy,Ee=this.tx,Le=this.ty,Ke=Math.sqrt(b*b+$*$),ft=(b/=Ke)*de+($/=Ke)*be;de-=b*ft,be-=$*ft;var wt=Math.sqrt(de*de+be*be);return ft/=wt,b*(be/=wt)<$*(de/=wt)&&(b=-b,$=-$,ft=-ft,Ke=-Ke),{scale:new Gt(Ke,0,0,wt,0,0),translate:new Gt(1,0,0,1,Ee,Le),rotate:new Gt(b,$,-$,b,0,0),skew:new Gt(1,0,ft,1,0,0)}},Gt.prototype.toString=function(b){return this.join(" ")},Gt.prototype.inversed=function(){var b=this.sx,$=this.shy,de=this.shx,be=this.sy,Ee=this.tx,Le=this.ty,Ke=1/(b*be-$*de),ft=be*Ke,wt=-$*Ke,Ft=-de*Ke,tr=b*Ke;return new Gt(ft,wt,Ft,tr,-ft*Ee-Ft*Le,-wt*Ee-tr*Le)},Gt.prototype.applyToPoint=function(b){var $=b.x*this.sx+b.y*this.shx+this.tx,de=b.x*this.shy+b.y*this.sy+this.ty;return new Ri($,de)},Gt.prototype.applyToRectangle=function(b){var $=this.applyToPoint(b),de=this.applyToPoint(new Ri(b.x+b.w,b.y+b.h));return new Zs($.x,$.y,de.x-$.x,de.y-$.y)},Gt.prototype.clone=function(){var b=this.sx,$=this.shy,de=this.shx,be=this.sy,Ee=this.tx,Le=this.ty;return new Gt(b,$,de,be,Ee,Le)},y.Matrix=Gt;var Tn=y.matrixMult=function(b,$){return $.multiply(b)},Bt=new Gt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Bt;var br=function(b,$){if(!wr[b]){var de=($ instanceof Du?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);$.id=de,wr[b]=de,Rt[de]=$,hr.publish("addPattern",$)}};y.ShadingPattern=Du,y.TilingPattern=Id,y.addShadingPattern=function(b,$){return Q("addShadingPattern()"),br(b,$),this},y.beginTilingPattern=function(b){Q("beginTilingPattern()"),Di(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},y.endTilingPattern=function(b,$){Q("endTilingPattern()"),$.stream=Ge[C].join(`
`),br(b,$),hr.publish("endTilingPattern",$),us.pop().restore()};var ur,At=y.__private__.newObject=function(){var b=vr();return ut(b,!0),b},vr=y.__private__.newObjectDeferred=function(){return ie++,le[ie]=function(){return je},ie},ut=function(b,$){return $=typeof $=="boolean"&&$,le[b]=je,$&&re(b+" 0 obj"),b},rt=y.__private__.newAdditionalObject=function(){var b={objId:vr(),content:""};return Te.push(b),b},ot=vr(),Ye=vr(),it=y.__private__.decodeColorString=function(b){var $=b.split(" ");if($.length!==2||$[1]!=="g"&&$[1]!=="G")$.length!==5||$[4]!=="k"&&$[4]!=="K"||($=[(1-$[0])*(1-$[3]),(1-$[1])*(1-$[3]),(1-$[2])*(1-$[3]),"r"]);else{var de=parseFloat($[0]);$=[de,de,de,"r"]}for(var be="#",Ee=0;Ee<3;Ee++)be+=("0"+Math.floor(255*parseFloat($[Ee])).toString(16)).slice(-2);return be},xt=y.__private__.encodeColorString=function(b){var $;typeof b=="string"&&(b={ch1:b});var de=b.ch1,be=b.ch2,Ee=b.ch3,Le=b.ch4,Ke=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var ft=new K4(de);if(ft.ok)de=ft.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var wt=parseInt(de.substr(1),16);de=wt>>16&255,be=wt>>8&255,Ee=255&wt}if(be===void 0||Le===void 0&&de===be&&be===Ee)$=typeof de=="string"?de+" "+Ke[0]:b.precision===2?U(de/255)+" "+Ke[0]:F(de/255)+" "+Ke[0];else if(Le===void 0||Hn(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return["1.","1.","1.",Ke[1]].join(" ");$=typeof de=="string"?[de,be,Ee,Ke[1]].join(" "):b.precision===2?[U(de/255),U(be/255),U(Ee/255),Ke[1]].join(" "):[F(de/255),F(be/255),F(Ee/255),Ke[1]].join(" ")}else $=typeof de=="string"?[de,be,Ee,Le,Ke[2]].join(" "):b.precision===2?[U(de),U(be),U(Ee),U(Le),Ke[2]].join(" "):[F(de),F(be),F(Ee),F(Le),Ke[2]].join(" ");return $},jt=y.__private__.getFilters=function(){return u},Pt=y.__private__.putStream=function(b){var $=(b=b||{}).data||"",de=b.filters||jt(),be=b.alreadyAppliedFilters||[],Ee=b.addLength1||!1,Le=$.length,Ke=b.objectId,ft=function(An){return An};if(m!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ft=ys.encryptor(Ke,0));var wt={};de===!0&&(de=["FlateEncode"]);var Ft=b.additionalKeyValues||[],tr=(wt=nr.API.processDataByFilters!==void 0?nr.API.processDataByFilters($,de):{data:$,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(wt.data.length!==0&&(Ft.push({key:"Length",value:wt.data.length}),Ee===!0&&Ft.push({key:"Length1",value:Le})),tr.length!=0)if(tr.split("/").length-1==1)Ft.push({key:"Filter",value:tr});else{Ft.push({key:"Filter",value:"["+tr+"]"});for(var Lr=0;Lr<Ft.length;Lr+=1)if(Ft[Lr].key==="DecodeParms"){for(var un=[],vn=0;vn<wt.reverseChain.split("/").length-1;vn+=1)un.push("null");un.push(Ft[Lr].value),Ft[Lr].value="["+un.join(" ")+"]"}}re("<<");for(var Qr=0;Qr<Ft.length;Qr++)re("/"+Ft[Qr].key+" "+Ft[Qr].value);re(">>"),wt.data.length!==0&&(re("stream"),re(ft(wt.data)),re("endstream"))},Et=y.__private__.putPage=function(b){var $=b.number,de=b.data,be=b.objId,Ee=b.contentsObjId;ut(be,!0),re("<</Type /Page"),re("/Parent "+b.rootDictionaryObjId+" 0 R"),re("/Resources "+b.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(te(b.mediaBox.bottomLeftX))+" "+parseFloat(te(b.mediaBox.bottomLeftY))+" "+te(b.mediaBox.topRightX)+" "+te(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&re("/CropBox ["+te(b.cropBox.bottomLeftX)+" "+te(b.cropBox.bottomLeftY)+" "+te(b.cropBox.topRightX)+" "+te(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&re("/BleedBox ["+te(b.bleedBox.bottomLeftX)+" "+te(b.bleedBox.bottomLeftY)+" "+te(b.bleedBox.topRightX)+" "+te(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&re("/TrimBox ["+te(b.trimBox.bottomLeftX)+" "+te(b.trimBox.bottomLeftY)+" "+te(b.trimBox.topRightX)+" "+te(b.trimBox.topRightY)+"]"),b.artBox!==null&&re("/ArtBox ["+te(b.artBox.bottomLeftX)+" "+te(b.artBox.bottomLeftY)+" "+te(b.artBox.topRightX)+" "+te(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&re("/UserUnit "+b.userUnit),hr.publish("putPage",{objId:be,pageContext:Vt[$],pageNumber:$,page:de}),re("/Contents "+Ee+" 0 R"),re(">>"),re("endobj");var Le=de.join(`
`);return z===T&&(Le+=`
Q`),ut(Ee,!0),Pt({data:Le,filters:jt(),objectId:Ee}),re("endobj"),be},Lt=y.__private__.putPages=function(){var b,$,de=[];for(b=1;b<=fr;b++)Vt[b].objId=vr(),Vt[b].contentsObjId=vr();for(b=1;b<=fr;b++)de.push(Et({number:b,data:Ge[b],objId:Vt[b].objId,contentsObjId:Vt[b].contentsObjId,mediaBox:Vt[b].mediaBox,cropBox:Vt[b].cropBox,bleedBox:Vt[b].bleedBox,trimBox:Vt[b].trimBox,artBox:Vt[b].artBox,userUnit:Vt[b].userUnit,rootDictionaryObjId:ot,resourceDictionaryObjId:Ye}));ut(ot,!0),re("<</Type /Pages");var be="/Kids [";for($=0;$<fr;$++)be+=de[$]+" 0 R ";re(be+"]"),re("/Count "+fr),re(">>"),re("endobj"),hr.publish("postPutPages")},$t=function(b){hr.publish("putFont",{font:b,out:re,newObject:At,putStream:Pt}),b.isAlreadyPutted!==!0&&(b.objectNumber=At(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Ld(b.postScriptName)),re("/Subtype /Type1"),typeof b.encoding=="string"&&re("/Encoding /"+b.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Kt=function(b){b.objectNumber=At();var $=[];$.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Form"}),$.push({key:"BBox",value:"["+[te(b.x),te(b.y),te(b.x+b.width),te(b.y+b.height)].join(" ")+"]"}),$.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var de=b.pages[1].join(`
`);Pt({data:de,additionalKeyValues:$,objectId:b.objectNumber}),re("endobj")},Ht=function(b,$){$||($=21);var de=At(),be=(function(Ke,ft){var wt,Ft=[],tr=1/(ft-1);for(wt=0;wt<1;wt+=tr)Ft.push(wt);if(Ft.push(1),Ke[0].offset!=0){var Lr={offset:0,color:Ke[0].color};Ke.unshift(Lr)}if(Ke[Ke.length-1].offset!=1){var un={offset:1,color:Ke[Ke.length-1].color};Ke.push(un)}for(var vn="",Qr=0,An=0;An<Ft.length;An++){for(wt=Ft[An];wt>Ke[Qr+1].offset;)Qr++;var In=Ke[Qr].offset,Fn=(wt-In)/(Ke[Qr+1].offset-In),Ot=Ke[Qr].color,qs=Ke[Qr+1].color;vn+=H(Math.round((1-Fn)*Ot[0]+Fn*qs[0]).toString(16))+H(Math.round((1-Fn)*Ot[1]+Fn*qs[1]).toString(16))+H(Math.round((1-Fn)*Ot[2]+Fn*qs[2]).toString(16))}return vn.trim()})(b.colors,$),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+$+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pt({data:be,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),re("endobj"),b.objectNumber=At(),re("<< /ShadingType "+b.type),re("/ColorSpace /DeviceRGB");var Le="/Coords ["+te(parseFloat(b.coords[0]))+" "+te(parseFloat(b.coords[1]))+" ";b.type===2?Le+=te(parseFloat(b.coords[2]))+" "+te(parseFloat(b.coords[3])):Le+=te(parseFloat(b.coords[2]))+" "+te(parseFloat(b.coords[3]))+" "+te(parseFloat(b.coords[4]))+" "+te(parseFloat(b.coords[5])),re(Le+="]"),b.matrix&&re("/Matrix ["+b.matrix.toString()+"]"),re("/Function "+de+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Yt=function(b,$){var de=vr(),be=At();$.push({resourcesOid:de,objectOid:be}),b.objectNumber=be;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+b.boundingBox.map(te).join(" ")+"]"}),Ee.push({key:"XStep",value:te(b.xStep)}),Ee.push({key:"YStep",value:te(b.yStep)}),Ee.push({key:"Resources",value:de+" 0 R"}),b.matrix&&Ee.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Pt({data:b.stream,additionalKeyValues:Ee,objectId:b.objectNumber}),re("endobj")},_r=function(b){for(var $ in b.objectNumber=At(),re("<<"),b)switch($){case"opacity":re("/ca "+U(b[$]));break;case"stroke-opacity":re("/CA "+U(b[$]))}re(">>"),re("endobj")},Nr=function(b){ut(b.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var $ in re("/Font <<"),yr)yr.hasOwnProperty($)&&(w===!1||w===!0&&A.hasOwnProperty($))&&re("/"+$+" "+yr[$].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Rt).length>0){for(var $ in re("/Shading <<"),Rt)Rt.hasOwnProperty($)&&Rt[$]instanceof Du&&Rt[$].objectNumber>=0&&re("/"+$+" "+Rt[$].objectNumber+" 0 R");hr.publish("putShadingPatternDict"),re(">>")}})(),(function($){if(Object.keys(Rt).length>0){for(var de in re("/Pattern <<"),Rt)Rt.hasOwnProperty(de)&&Rt[de]instanceof y.TilingPattern&&Rt[de].objectNumber>=0&&Rt[de].objectNumber<$&&re("/"+de+" "+Rt[de].objectNumber+" 0 R");hr.publish("putTilingPatternDict"),re(">>")}})(b.objectOid),(function(){if(Object.keys(sr).length>0){var $;for($ in re("/ExtGState <<"),sr)sr.hasOwnProperty($)&&sr[$].objectNumber>=0&&re("/"+$+" "+sr[$].objectNumber+" 0 R");hr.publish("putGStateDict"),re(">>")}})(),(function(){for(var $ in re("/XObject <<"),Rn)Rn.hasOwnProperty($)&&Rn[$].objectNumber>=0&&re("/"+$+" "+Rn[$].objectNumber+" 0 R");hr.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},Br=function(b){pr[b.fontName]=pr[b.fontName]||{},pr[b.fontName][b.fontStyle]=b.id},qr=function(b,$,de,be,Ee){var Le={id:"F"+(Object.keys(yr).length+1).toString(10),postScriptName:b,fontName:$,fontStyle:de,encoding:be,isStandardFont:Ee||!1,metadata:{}};return hr.publish("addFont",{font:Le,instance:this}),yr[Le.id]=Le,Br(Le),Le.id},er=y.__private__.pdfEscape=y.pdfEscape=function(b,$){return(function(de,be){var Ee,Le,Ke,ft,wt,Ft,tr,Lr,un;if(Ke=(be=be||{}).sourceEncoding||"Unicode",wt=be.outputEncoding,(be.autoencode||wt)&&yr[pt].metadata&&yr[pt].metadata[Ke]&&yr[pt].metadata[Ke].encoding&&(ft=yr[pt].metadata[Ke].encoding,!wt&&yr[pt].encoding&&(wt=yr[pt].encoding),!wt&&ft.codePages&&(wt=ft.codePages[0]),typeof wt=="string"&&(wt=ft[wt]),wt)){for(tr=!1,Ft=[],Ee=0,Le=de.length;Ee<Le;Ee++)(Lr=wt[de.charCodeAt(Ee)])?Ft.push(String.fromCharCode(Lr)):Ft.push(de[Ee]),Ft[Ee].charCodeAt(0)>>8&&(tr=!0);de=Ft.join("")}for(Ee=de.length;tr===void 0&&Ee!==0;)de.charCodeAt(Ee-1)>>8&&(tr=!0),Ee--;if(!tr)return de;for(Ft=be.noBOM?[]:[254,255],Ee=0,Le=de.length;Ee<Le;Ee++){if((un=(Lr=de.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(un),Ft.push(Lr-(un<<8))}return String.fromCharCode.apply(void 0,Ft)})(b,$).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ir=y.__private__.beginPage=function(b){Ge[++fr]=[],Vt[fr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},dr(fr),ht(Ge[C])},Kr=function(b,$){var de,be,Ee;switch(r=$||r,typeof b=="string"&&(de=_(b.toLowerCase()),Array.isArray(de)&&(be=de[0],Ee=de[1])),Array.isArray(b)&&(be=b[0]*Tt,Ee=b[1]*Tt),isNaN(be)&&(be=a[0],Ee=a[1]),(be>14400||Ee>14400)&&(Zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Ee=Math.min(14400,Ee)),a=[be,Ee],r.substr(0,1)){case"l":Ee>be&&(a=[Ee,be]);break;case"p":be>Ee&&(a=[Ee,be])}ir(a),Qe(ui),re(as),ql!==0&&re(ql+" J"),Ul!==0&&re(Ul+" j"),hr.publish("addPage",{pageNumber:fr})},Qt=function(b){b>0&&b<=fr&&(Ge.splice(b,1),Vt.splice(b,1),fr--,C>fr&&(C=fr),this.setPage(C))},dr=function(b){b>0&&b<=fr&&(C=b)},Jr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ge.length-1},Ts=function(b,$,de){var be,Ee=void 0;return de=de||{},b=b!==void 0?b:yr[pt].fontName,$=$!==void 0?$:yr[pt].fontStyle,be=b.toLowerCase(),pr[be]!==void 0&&pr[be][$]!==void 0?Ee=pr[be][$]:pr[b]!==void 0&&pr[b][$]!==void 0?Ee=pr[b][$]:de.disableWarning===!1&&Zn.warn("Unable to look up font label for font '"+b+"', '"+$+"'. Refer to getFontList() for available fonts."),Ee||de.noFallback||(Ee=pr.times[$])==null&&(Ee=pr.times.normal),Ee},bn=y.__private__.putInfo=function(){var b=At(),$=function(be){return be};for(var de in m!==null&&($=ys.encryptor(b,0)),re("<<"),re("/Producer ("+er($("jsPDF "+nr.version))+")"),ct)ct.hasOwnProperty(de)&&ct[de]&&re("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+er($(ct[de]))+")");re("/CreationDate ("+er($(we))+")"),re(">>"),re("endobj")},ai=y.__private__.putCatalog=function(b){var $=(b=b||{}).rootDictionaryObjId||ot;switch(At(),re("<<"),re("/Type /Catalog"),re("/Pages "+$+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+yt;de.substr(de.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&re("/OpenAction [3 0 R /XYZ null null "+U(yt)+"]")}switch(Re||(Re="continuous"),Re){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ne&&re("/PageMode /"+Ne),hr.publish("putCatalog"),re(">>"),re("endobj")},Ei=y.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ie+1)),re("/Root "+ie+" 0 R"),re("/Info "+(ie-1)+" 0 R"),m!==null&&re("/Encrypt "+ys.oid+" 0 R"),re("/ID [ <"+ye+"> <"+ye+"> ]"),re(">>")},Yr=y.__private__.putHeader=function(){re("%PDF-"+D),re("%")},En=y.__private__.putXRef=function(){var b="0000000000";re("xref"),re("0 "+(ie+1)),re("0000000000 65535 f ");for(var $=1;$<=ie;$++)typeof le[$]=="function"?re((b+le[$]()).slice(-10)+" 00000 n "):le[$]!==void 0?re((b+le[$]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},gn=y.__private__.buildDocument=function(){var b;ie=0,je=0,ve=[],le=[],Te=[],ot=vr(),Ye=vr(),ht(ve),hr.publish("buildDocument"),Yr(),Lt(),(function(){hr.publish("putAdditionalObjects");for(var de=0;de<Te.length;de++){var be=Te[de];ut(be.objId,!0),re(be.content),re("endobj")}hr.publish("postPutAdditionalObjects")})(),b=[],(function(){for(var de in yr)yr.hasOwnProperty(de)&&(w===!1||w===!0&&A.hasOwnProperty(de))&&$t(yr[de])})(),(function(){var de;for(de in sr)sr.hasOwnProperty(de)&&_r(sr[de])})(),(function(){for(var de in Rn)Rn.hasOwnProperty(de)&&Kt(Rn[de])})(),(function(de){var be;for(be in Rt)Rt.hasOwnProperty(be)&&(Rt[be]instanceof Du?Ht(Rt[be]):Rt[be]instanceof Id&&Yt(Rt[be],de))})(b),hr.publish("putResources"),b.forEach(Nr),Nr({resourcesOid:Ye,objectOid:Number.MAX_SAFE_INTEGER}),hr.publish("postPutResources"),m!==null&&(ys.oid=At(),re("<<"),re("/Filter /Standard"),re("/V "+ys.v),re("/R "+ys.r),re("/U <"+ys.toHexString(ys.U)+">"),re("/O <"+ys.toHexString(ys.O)+">"),re("/P "+ys.P),re(">>"),re("endobj")),bn(),ai();var $=je;return En(),Ei(),re("startxref"),re(""+$),re("%%EOF"),ht(Ge[C]),ve.join(`
`)},oi=y.__private__.getBlob=function(b){return new Blob([Ve(b)],{type:"application/pdf"})},ao=y.output=y.__private__.output=(ur=function(b,$){switch(typeof($=$||{})=="string"?$={filename:$}:$.filename=$.filename||"generated.pdf",b){case void 0:return gn();case"save":y.save($.filename);break;case"arraybuffer":return Ve(gn());case"blob":return oi(gn());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(oi(gn()))||void 0;Zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",be=gn();try{de=e5(be)}catch{de=e5(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+$.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';$.pdfObjectUrl&&(Ee=$.pdfObjectUrl,Le="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify($)+");<\/script></body></html>",ft=Or.open();return ft!==null&&ft.document.write(Ke),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+($.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+$.filename+'" width="500px" height="400px" /></body></html>',Ft=Or.open();if(Ft!==null){Ft.document.write(wt);var tr=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=$.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tr.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",$)+'"></iframe></body></html>',un=Or.open();if(un!==null&&(un.document.write(Lr),un.document.title=$.filename),un||typeof safari>"u")return un;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",$);default:return null}},ur.foo=function(){try{return ur.apply(this,arguments)}catch(de){var b=de.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var $="Error in function "+b.split(`
`)[0].split("<")[0]+": "+de.message;if(!Or.console)throw new Error($);Or.console.error($,de),Or.alert&&alert($)}},ur.foo.bar=ur,ur.foo),$i=function(b){return Array.isArray(Jn)===!0&&Jn.indexOf(b)>-1};switch(n){case"pt":Tt=1;break;case"mm":Tt=72/25.4;break;case"cm":Tt=72/2.54;break;case"in":Tt=72;break;case"px":Tt=$i("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tt=12;break;case"ex":Tt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Tt=n}var ys=null;j(),se();var oa=y.__private__.getPageInfo=y.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[b].objId,pageNumber:b,pageContext:Vt[b]}},Ol=y.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var $ in Vt)if(Vt[$].objId===b)break;return oa($)},Ml=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Vt[C].objId,pageNumber:C,pageContext:Vt[C]}};y.addPage=function(){return Kr.apply(this,arguments),this},y.setPage=function(){return dr.apply(this,arguments),ht.call(this,Ge[C]),this},y.insertPage=function(b){return this.addPage(),this.movePage(C,b),this},y.movePage=function(b,$){var de,be;if(b>$){de=Ge[b],be=Vt[b];for(var Ee=b;Ee>$;Ee--)Ge[Ee]=Ge[Ee-1],Vt[Ee]=Vt[Ee-1];Ge[$]=de,Vt[$]=be,this.setPage($)}else if(b<$){de=Ge[b],be=Vt[b];for(var Le=b;Le<$;Le++)Ge[Le]=Ge[Le+1],Vt[Le]=Vt[Le+1];Ge[$]=de,Vt[$]=be,this.setPage($)}return this},y.deletePage=function(){return Qt.apply(this,arguments),this},y.__private__.text=y.text=function(b,$,de,be,Ee){var Le,Ke,ft,wt,Ft,tr,Lr,un,vn,Qr=(be=be||{}).scope||this;if(typeof b=="number"&&typeof $=="number"&&(typeof de=="string"||Array.isArray(de))){var An=de;de=$,$=b,b=An}if(arguments[3]instanceof Gt==0?(ft=arguments[4],wt=arguments[5],Hn(Lr=arguments[3])==="object"&&Lr!==null||(typeof ft=="string"&&(wt=ft,ft=null),typeof Lr=="string"&&(wt=Lr,Lr=null),typeof Lr=="number"&&(ft=Lr,Lr=null),be={flags:Lr,angle:ft,align:wt})):(Q("The transform parameter of text() with a Matrix value"),vn=Ee),isNaN($)||isNaN(de)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Qr;var In,Fn="",Ot=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:fs,qs=Qr.internal.scaleFactor;function Ii(Nn){return Nn=Nn.split("	").join(Array(be.TabLen||9).join(" ")),er(Nn,Lr)}function Co(Nn){for(var On,ps=Nn.concat(),Rs=[],Ha=ps.length;Ha--;)typeof(On=ps.shift())=="string"?Rs.push(On):Array.isArray(Nn)&&(On.length===1||On[1]===void 0&&On[2]===void 0)?Rs.push(On[0]):Rs.push([On[0],On[1],On[2]]);return Rs}function il(Nn,On){var ps;if(typeof Nn=="string")ps=On(Nn)[0];else if(Array.isArray(Nn)){for(var Rs,Ha,pu=Nn.concat(),Nc=[],To=pu.length;To--;)typeof(Rs=pu.shift())=="string"?Nc.push(On(Rs)[0]):Array.isArray(Rs)&&typeof Rs[0]=="string"&&(Ha=On(Rs[0],Rs[1],Rs[2]),Nc.push([Ha[0],Ha[1],Ha[2]]));ps=Nc}return ps}var al=!1,zl=!0;if(typeof b=="string")al=!0;else if(Array.isArray(b)){var ol=b.concat();Ke=[];for(var ll,hi=ol.length;hi--;)(typeof(ll=ol.shift())!="string"||Array.isArray(ll)&&typeof ll[0]!="string")&&(zl=!1);al=zl}if(al===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var $l=tt/Qr.internal.scaleFactor,Vl=$l*(Ot-1);switch(be.baseline){case"bottom":de-=Vl;break;case"top":de+=$l-Vl;break;case"hanging":de+=$l-2*Vl;break;case"middle":de+=$l/2-Vl}if((tr=be.maxWidth||0)>0&&(typeof b=="string"?b=Qr.splitTextToSize(b,tr):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Nn,On){return Nn.concat(Qr.splitTextToSize(On,tr))},[]))),Le={text:b,x:$,y:de,options:be,mutex:{pdfEscape:er,activeFontKey:pt,fonts:yr,activeFontSize:tt}},hr.publish("preProcessText",Le),b=Le.text,ft=(be=Le.options).angle,vn instanceof Gt==0&&ft&&typeof ft=="number"){ft*=Math.PI/180,be.rotationDirection===0&&(ft=-ft),z===T&&(ft=-ft);var fu=Math.cos(ft),hu=Math.sin(ft);vn=new Gt(fu,hu,-hu,fu,0,0)}else ft&&ft instanceof Gt&&(vn=ft);z!==T||vn||(vn=Bt),(Ft=be.charSpace||yi)!==void 0&&(Fn+=te(X(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(un=be.horizontalScale)!==void 0&&(Fn+=te(100*un)+` Tz
`),be.lang;var Fi=-1,$a=be.renderingMode!==void 0?be.renderingMode:be.stroke,lo=Qr.internal.getCurrentPageInfo().pageContext;switch($a){case 0:case!1:case"fill":Fi=0;break;case 1:case!0:case"stroke":Fi=1;break;case 2:case"fillThenStroke":Fi=2;break;case 3:case"invisible":Fi=3;break;case 4:case"fillAndAddForClipping":Fi=4;break;case 5:case"strokeAndAddPathForClipping":Fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fi=6;break;case 7:case"addToPathForClipping":Fi=7}var Ju=lo.usedRenderingMode!==void 0?lo.usedRenderingMode:-1;Fi!==-1?Fn+=Fi+` Tr
`:Ju!==-1&&(Fn+=`0 Tr
`),Fi!==-1&&(lo.usedRenderingMode=Fi),wt=be.align||"left";var ca,cl=tt*Ot,xc=Qr.internal.pageSize.getWidth(),yc=yr[pt];Ft=be.charSpace||yi,tr=be.maxWidth||0,Lr=Object.assign({autoencode:!0,noBOM:!0},be.flags);var _o=[],Pa=function(Nn){return Qr.getStringUnitWidth(Nn,{font:yc,charSpace:Ft,fontSize:tt,doKerning:!1})*tt/qs};if(Object.prototype.toString.call(b)==="[object Array]"){var ua;Ke=Co(b),wt!=="left"&&(ca=Ke.map(Pa));var da,ul=0;if(wt==="right"){$-=ca[0],b=[],hi=Ke.length;for(var co=0;co<hi;co++)co===0?(da=di($),ua=la(de)):(da=X(ul-ca[co]),ua=-cl),b.push([Ke[co],da,ua]),ul=ca[co]}else if(wt==="center"){$-=ca[0]/2,b=[],hi=Ke.length;for(var Ao=0;Ao<hi;Ao++)Ao===0?(da=di($),ua=la(de)):(da=X((ul-ca[Ao])/2),ua=-cl),b.push([Ke[Ao],da,ua]),ul=ca[Ao]}else if(wt==="left"){b=[],hi=Ke.length;for(var Po=0;Po<hi;Po++)b.push(Ke[Po])}else if(wt==="justify"&&yc.encoding==="Identity-H"){b=[],hi=Ke.length,tr=tr!==0?tr:xc;for(var uo=0,bs=0;bs<hi;bs++)if(ua=bs===0?la(de):-cl,da=bs===0?di($):uo,bs<hi-1){var Hl=X((tr-ca[bs])/(Ke[bs].split(" ").length-1)),fo=Ke[bs].split(" ");b.push([fo[0]+" ",da,ua]),uo=0;for(var Va=1;Va<fo.length;Va++){var Wl=(Pa(fo[Va-1]+" "+fo[Va])-Pa(fo[Va]))*qs+Hl;Va==fo.length-1?b.push([fo[Va],Wl,0]):b.push([fo[Va]+" ",Wl,0]),uo-=Wl}}else b.push([Ke[bs],da,ua]);b.push(["",uo,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],hi=Ke.length,tr=tr!==0?tr:xc,bs=0;bs<hi;bs++){ua=bs===0?la(de):-cl,da=bs===0?di($):0;var Gl=Ke[bs].split(" ").length-1,wc=Gl>0?(tr-ca[bs])/Gl:0;bs<hi-1?_o.push(te(X(wc))):_o.push(0),b.push([Ke[bs],da,ua])}}}(typeof be.R2L=="boolean"?be.R2L:oe)===!0&&(b=il(b,function(Nn,On,ps){return[Nn.split("").reverse().join(""),On,ps]})),Le={text:b,x:$,y:de,options:be,mutex:{pdfEscape:er,activeFontKey:pt,fonts:yr,activeFontSize:tt}},hr.publish("postProcessText",Le),b=Le.text,In=Le.mutex.isHex||!1;var bc=yr[pt].encoding;bc!=="WinAnsiEncoding"&&bc!=="StandardEncoding"||(b=il(b,function(Nn,On,ps){return[Ii(Nn),On,ps]})),Ke=Co(b),b=[];for(var ko,dl,fl,Kl=Array.isArray(Ke[0])?1:0,hl="",Ql=function(Nn,On,ps){var Rs="";return ps instanceof Gt?(ps=typeof be.angle=="number"?Tn(ps,new Gt(1,0,0,1,Nn,On)):Tn(new Gt(1,0,0,1,Nn,On),ps),z===T&&(ps=Tn(new Gt(1,0,0,-1,0,0),ps)),Rs=ps.join(" ")+` Tm
`):Rs=te(Nn)+" "+te(On)+` Td
`,Rs},hs=0;hs<Ke.length;hs++){switch(hl="",Kl){case 1:fl=(In?"<":"(")+Ke[hs][0]+(In?">":")"),ko=parseFloat(Ke[hs][1]),dl=parseFloat(Ke[hs][2]);break;case 0:fl=(In?"<":"(")+Ke[hs]+(In?">":")"),ko=di($),dl=la(de)}_o!==void 0&&_o[hs]!==void 0&&(hl=_o[hs]+` Tw
`),hs===0?b.push(hl+Ql(ko,dl,vn)+fl):Kl===0?b.push(hl+fl):Kl===1&&b.push(hl+Ql(ko,dl,vn)+fl)}b=Kl===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var Hi=`BT
/`;return Hi+=pt+" "+tt+` Tf
`,Hi+=te(tt*Ot)+` TL
`,Hi+=Es+`
`,Hi+=Fn,Hi+=b,re(Hi+="ET"),A[pt]=!0,Qr};var ws=y.__private__.clip=y.clip=function(b){return re(b==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return ws("evenodd")},y.__private__.discardPath=y.discardPath=function(){return re("n"),this};var q=y.__private__.isValidStyle=function(b){var $=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&($=!0),$};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(b){return q(b)&&(p=b),this};var pe=y.__private__.getStyle=y.getStyle=function(b){var $=p;switch(b){case"D":case"S":$="S";break;case"F":$="f";break;case"FD":case"DF":$="B";break;case"f":case"f*":case"B":case"B*":$=b}return $},he=y.close=function(){return re("h"),this};y.stroke=function(){return re("S"),this},y.fill=function(b){return De("f",b),this},y.fillEvenOdd=function(b){return De("f*",b),this},y.fillStroke=function(b){return De("B",b),this},y.fillStrokeEvenOdd=function(b){return De("B*",b),this};var De=function(b,$){Hn($)==="object"?es($,b):re(b)},Se=function(b){b===null||z===T&&b===void 0||(b=pe(b),re(b))};function cr(b,$,de,be,Ee){var Le=new Id($||this.boundingBox,de||this.xStep,be||this.yStep,this.gState,Ee||this.matrix);Le.stream=this.stream;var Ke=b+"$$"+this.cloneIndex+++"$$";return br(Ke,Le),Le}var es=function(b,$){var de=wr[b.key],be=Rt[de];if(be instanceof Du)re("q"),re(gr($)),be.gState&&y.setGState(be.gState),re(b.matrix.toString()+" cm"),re("/"+de+" sh"),re("Q");else if(be instanceof Id){var Ee=new Gt(1,0,0,-1,0,Vi());b.matrix&&(Ee=Ee.multiply(b.matrix||Bt),de=cr.call(be,b.key,b.boundingBox,b.xStep,b.yStep,Ee).id),re("q"),re("/Pattern cs"),re("/"+de+" scn"),be.gState&&y.setGState(be.gState),re($),re("Q")}},gr=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wn=y.moveTo=function(b,$){return re(te(X(b))+" "+te(Y($))+" m"),this},li=y.lineTo=function(b,$){return re(te(X(b))+" "+te(Y($))+" l"),this},ds=y.curveTo=function(b,$,de,be,Ee,Le){return re([te(X(b)),te(Y($)),te(X(de)),te(Y(be)),te(X(Ee)),te(Y(Le)),"c"].join(" ")),this};y.__private__.line=y.line=function(b,$,de,be,Ee){if(isNaN(b)||isNaN($)||isNaN(de)||isNaN(be)||!q(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return z===O?this.lines([[de-b,be-$]],b,$,[1,1],Ee||"S"):this.lines([[de-b,be-$]],b,$,[1,1]).stroke()},y.__private__.lines=y.lines=function(b,$,de,be,Ee,Le){var Ke,ft,wt,Ft,tr,Lr,un,vn,Qr,An,In,Fn;if(typeof b=="number"&&(Fn=de,de=$,$=b,b=Fn),be=be||[1,1],Le=Le||!1,isNaN($)||isNaN(de)||!Array.isArray(b)||!Array.isArray(be)||!q(Ee)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wn($,de),Ke=be[0],ft=be[1],Ft=b.length,An=$,In=de,wt=0;wt<Ft;wt++)(tr=b[wt]).length===2?(An=tr[0]*Ke+An,In=tr[1]*ft+In,li(An,In)):(Lr=tr[0]*Ke+An,un=tr[1]*ft+In,vn=tr[2]*Ke+An,Qr=tr[3]*ft+In,An=tr[4]*Ke+An,In=tr[5]*ft+In,ds(Lr,un,vn,Qr,An,In));return Le&&he(),Se(Ee),this},y.path=function(b){for(var $=0;$<b.length;$++){var de=b[$],be=de.c;switch(de.op){case"m":Wn(be[0],be[1]);break;case"l":li(be[0],be[1]);break;case"c":ds.apply(this,be);break;case"h":he()}}return this},y.__private__.rect=y.rect=function(b,$,de,be,Ee){if(isNaN(b)||isNaN($)||isNaN(de)||isNaN(be)||!q(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return z===O&&(be=-be),re([te(X(b)),te(Y($)),te(X(de)),te(X(be)),"re"].join(" ")),Se(Ee),this},y.__private__.triangle=y.triangle=function(b,$,de,be,Ee,Le,Ke){if(isNaN(b)||isNaN($)||isNaN(de)||isNaN(be)||isNaN(Ee)||isNaN(Le)||!q(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-b,be-$],[Ee-de,Le-be],[b-Ee,$-Le]],b,$,[1,1],Ke,!0),this},y.__private__.roundedRect=y.roundedRect=function(b,$,de,be,Ee,Le,Ke){if(isNaN(b)||isNaN($)||isNaN(de)||isNaN(be)||isNaN(Ee)||isNaN(Le)||!q(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*de),Le=Math.min(Le,.5*be),this.lines([[de-2*Ee,0],[Ee*ft,0,Ee,Le-Le*ft,Ee,Le],[0,be-2*Le],[0,Le*ft,-Ee*ft,Le,-Ee,Le],[2*Ee-de,0],[-Ee*ft,0,-Ee,-Le*ft,-Ee,-Le],[0,2*Le-be],[0,-Le*ft,Ee*ft,-Le,Ee,-Le]],b+Ee,$,[1,1],Ke,!0),this},y.__private__.ellipse=y.ellipse=function(b,$,de,be,Ee){if(isNaN(b)||isNaN($)||isNaN(de)||isNaN(be)||!q(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*de,Ke=4/3*(Math.SQRT2-1)*be;return Wn(b+de,$),ds(b+de,$-Ke,b+Le,$-be,b,$-be),ds(b-Le,$-be,b-de,$-Ke,b-de,$),ds(b-de,$+Ke,b-Le,$+be,b,$+be),ds(b+Le,$+be,b+de,$+Ke,b+de,$),Se(Ee),this},y.__private__.circle=y.circle=function(b,$,de,be){if(isNaN(b)||isNaN($)||isNaN(de)||!q(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,$,de,de,be)},y.setFont=function(b,$,de){return de&&($=W($,de)),pt=Ts(b,$,{disableWarning:!1}),this};var ci=y.__private__.getFont=y.getFont=function(){return yr[Ts.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var b,$,de={};for(b in pr)if(pr.hasOwnProperty(b))for($ in de[b]=[],pr[b])pr[b].hasOwnProperty($)&&de[b].push($);return de},y.addFont=function(b,$,de,be,Ee){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(de=W(de,be)),qr.call(this,b,$,de,Ee=Ee||"Identity-H")};var fs,ui=t.lineWidth||.200025,Ua=y.__private__.getLineWidth=y.getLineWidth=function(){return ui},Qe=y.__private__.setLineWidth=y.setLineWidth=function(b){return ui=b,re(te(X(b))+" w"),this};y.__private__.setLineDash=nr.API.setLineDash=nr.API.setLineDashPattern=function(b,$){if(b=b||[],$=$||0,isNaN($)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(de){return te(X(de))}).join(" "),$=te(X($)),re("["+b+"] "+$+" d"),this};var $r=y.__private__.getLineHeight=y.getLineHeight=function(){return tt*fs};y.__private__.getLineHeight=y.getLineHeight=function(){return tt*fs};var Bl=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(fs=b),this},nl=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return fs};Bl(t.lineHeight);var di=y.__private__.getHorizontalCoordinate=function(b){return X(b)},la=y.__private__.getVerticalCoordinate=function(b){return z===T?b:Vt[C].mediaBox.topRightY-Vt[C].mediaBox.bottomLeftY-X(b)},za=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(b){return te(di(b))},Dn=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(b){return te(la(b))},as=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return it(as)},y.__private__.setStrokeColor=y.setDrawColor=function(b,$,de,be){return as=xt({ch1:b,ch2:$,ch3:de,ch4:be,pdfColorType:"draw",precision:2}),re(as),this};var Li=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return it(Li)},y.__private__.setFillColor=y.setFillColor=function(b,$,de,be){return Li=xt({ch1:b,ch2:$,ch3:de,ch4:be,pdfColorType:"fill",precision:2}),re(Li),this};var Es=t.textColor||"0 g",So=y.__private__.getTextColor=y.getTextColor=function(){return it(Es)};y.__private__.setTextColor=y.setTextColor=function(b,$,de,be){return Es=xt({ch1:b,ch2:$,ch3:de,ch4:be,pdfColorType:"text",precision:3}),this};var yi=t.charSpace,jo=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(yi||0)};y.__private__.setCharSpace=y.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yi=b,this};var ql=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(b){var $=y.CapJoinStyles[b];if($===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ql=$,re($+" J"),this};var Ul=0;y.__private__.setLineJoin=y.setLineJoin=function(b){var $=y.CapJoinStyles[b];if($===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=$,re($+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(te(X(b))+" M"),this},y.GState=Pm,y.setGState=function(b){(b=typeof b=="string"?sr[mr[b]]:oo(null,b)).equals(cn)||(re("/"+b.id+" gs"),cn=b)};var oo=function(b,$){if(!b||!mr[b]){var de=!1;for(var be in sr)if(sr.hasOwnProperty(be)&&sr[be].equals($)){de=!0;break}if(de)$=sr[be];else{var Ee="GS"+(Object.keys(sr).length+1).toString(10);sr[Ee]=$,$.id=Ee}return b&&(mr[b]=$.id),hr.publish("addGState",$),$}};y.addGState=function(b,$){return oo(b,$),this},y.saveGraphicsState=function(){return re("q"),Ir.push({key:pt,size:tt,color:Es}),this},y.restoreGraphicsState=function(){re("Q");var b=Ir.pop();return pt=b.key,tt=b.size,Es=b.color,cn=null,this},y.setCurrentTransformationMatrix=function(b){return re(b.toString()+" cm"),this},y.comment=function(b){return re("#"+b),this};var Ri=function(b,$){var de=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Le){isNaN(Le)||(de=parseFloat(Le))}});var be=$||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Le){isNaN(Le)||(be=parseFloat(Le))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Le){Ee=Le.toString()}}),this},Zs=function(b,$,de,be){Ri.call(this,b,$),this.type="rect";var Ee=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Ke){isNaN(Ke)||(Ee=parseFloat(Ke))}});var Le=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(Ke){isNaN(Ke)||(Le=parseFloat(Ke))}}),this},Ys=function(){this.page=fr,this.currentPage=C,this.pages=Ge.slice(0),this.pagesContext=Vt.slice(0),this.x=St,this.y=yn,this.matrix=Cr,this.width=Ls(C),this.height=Xs(C),this.outputDestination=nt,this.id="",this.objectNumber=-1};Ys.prototype.restore=function(){fr=this.page,C=this.currentPage,Vt=this.pagesContext,Ge=this.pages,St=this.x,yn=this.y,Cr=this.matrix,fi(C,this.width),wi(C,this.height),nt=this.outputDestination};var Di=function(b,$,de,be,Ee){us.push(new Ys),fr=C=0,Ge=[],St=b,yn=$,Cr=Ee,ir([de,be])};for(var _a in y.beginFormObject=function(b,$,de,be,Ee){return Di(b,$,de,be,Ee),this},y.endFormObject=function(b){return(function($){if(ii[$])us.pop().restore();else{var de=new Ys,be="Xo"+(Object.keys(Rn).length+1).toString(10);de.id=be,ii[$]=be,Rn[be]=de,hr.publish("addFormObject",de),us.pop().restore()}})(b),this},y.doFormObject=function(b,$){var de=Rn[ii[b]];return re("q"),re($.toString()+" cm"),re("/"+de.id+" Do"),re("Q"),this},y.getFormObject=function(b){var $=Rn[ii[b]];return{x:$.x,y:$.y,width:$.width,height:$.height,matrix:$.matrix}},y.save=function(b,$){return b=b||"generated.pdf",($=$||{}).returnPromise=$.returnPromise||!1,$.returnPromise===!1?(Ru(oi(gn()),b),typeof Ru.unload=="function"&&Or.setTimeout&&setTimeout(Ru.unload,911),this):new Promise(function(de,be){try{var Ee=Ru(oi(gn()),b);typeof Ru.unload=="function"&&Or.setTimeout&&setTimeout(Ru.unload,911),de(Ee)}catch(Le){be(Le.message)}})},nr.API)nr.API.hasOwnProperty(_a)&&(_a==="events"&&nr.API.events.length?(function(b,$){var de,be,Ee;for(Ee=$.length-1;Ee!==-1;Ee--)de=$[Ee][0],be=$[Ee][1],b.subscribe.apply(b,[de].concat(typeof be=="function"?[be]:be))})(hr,nr.API.events):y[_a]=nr.API[_a]);function Ls(b){return Vt[b].mediaBox.topRightX-Vt[b].mediaBox.bottomLeftX}function fi(b,$){Vt[b].mediaBox.topRightX=$+Vt[b].mediaBox.bottomLeftX}function Xs(b){return Vt[b].mediaBox.topRightY-Vt[b].mediaBox.bottomLeftY}function wi(b,$){Vt[b].mediaBox.topRightY=$+Vt[b].mediaBox.bottomLeftY}var Aa=y.getPageWidth=function(b){return Ls(b=b||C)/Tt},Js=y.setPageWidth=function(b,$){fi(b,$*Tt)},Vi=y.getPageHeight=function(b){return Xs(b=b||C)/Tt},sl=y.setPageHeight=function(b,$){wi(b,$*Tt)};return y.internal={pdfEscape:er,getStyle:pe,getFont:ci,getFontSize:_t,getCharSpace:jo,getTextColor:So,getLineHeight:$r,getLineHeightFactor:nl,getLineWidth:Ua,write:ke,getHorizontalCoordinate:di,getVerticalCoordinate:la,getCoordinateString:za,getVerticalCoordinateString:Dn,collections:{},newObject:At,newAdditionalObject:rt,newObjectDeferred:vr,newObjectDeferredBegin:ut,getFilters:jt,putStream:Pt,events:hr,scaleFactor:Tt,pageSize:{getWidth:function(){return Aa(C)},setWidth:function(b){Js(C,b)},getHeight:function(){return Vi(C)},setHeight:function(b){sl(C,b)}},encryptionOptions:m,encryption:ys,getEncryptor:function(b){return m!==null?ys.encryptor(b,0):function($){return $}},output:ao,getNumberOfPages:Jr,get pages(){return Ge},out:re,f2:U,f3:F,getPageInfo:oa,getPageInfoByObjId:Ol,getCurrentPageInfo:Ml,getPDFVersion:S,Point:Ri,Rectangle:Zs,Matrix:Gt,hasHotfix:$i},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Aa(C)},set:function(b){Js(C,b)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Vi(C)},set:function(b){sl(C,b)},enumerable:!0,configurable:!0}),(function(b){for(var $=0,de=He.length;$<de;$++){var be=qr.call(this,b[$][0],b[$][1],b[$][2],He[$][3],!0);w===!1&&(A[be]=!0);var Ee=b[$][0].split("-");Br({id:be,fontName:Ee[0],fontStyle:Ee[1]||""})}hr.publish("addFonts",{fonts:yr,dictionary:pr})}).call(y,He),pt="F1",Kr(a,r),hr.publish("initialized"),y}Ed.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ed.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ed.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ed.prototype.processOwnerPassword=function(t,e){return E1(T1(e).substr(0,5),t)},Ed.prototype.encryptor=function(t,e){var r=T1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return E1(r,n)}},Pm.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Hn(t)!==Hn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},nr.API={events:[]},nr.version="4.0.0";var Ms=nr.API,Lv=1,Xu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ad=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gr=function(t){return t.toFixed(2)},Wc=function(t){return t.toFixed(5)};Ms.__acroform__={};var qa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},s5=function(t){return t*Lv},Nl=function(t){var e=new X4,r=Jt.internal.getHeight(t)||0,n=Jt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Gr(n)),Number(Gr(r))],e},bI=Ms.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},NI=Ms.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},SI=Ms.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ws=Ms.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SI(t,e-1)},Gs=Ms.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bI(t,e-1)},Ks=Ms.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NI(t,e-1)},jI=Ms.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],o=t[1],u=t[2],c=t[3],f={};return f.lowerLeft_X=r(a)||0,f.lowerLeft_Y=n(o+c)||0,f.upperRight_X=r(a+u)||0,f.upperRight_Y=n(o)||0,[Number(Gr(f.lowerLeft_X)),Number(Gr(f.lowerLeft_Y)),Number(Gr(f.upperRight_X)),Number(Gr(f.upperRight_Y))]},CI=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=L1(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Gr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Nl(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},L1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(U){return U.split(`
`)}):a.map(function(U){return[U]});var o=r,u=Jt.internal.getHeight(t)||0;u=u<0?-u:u;var c=Jt.internal.getWidth(t)||0;c=c<0?-c:c;var f=function(U,F,X){if(U+1<a.length){var Y=F+" "+a[U+1][0];return Dp(Y,t,X).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var p,m,w=Dp("3",t,o).height,A=t.multiline?u-o:(u-w)/2,y=A+=2,D=0,S=0,E=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Dp(e,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var _="",O=0,T=0;T<a.length;T++)if(a.hasOwnProperty(T)){var z=!1;if(a[T].length!==1&&E!==a[T].length-1){if((w+2)*(O+2)+2>u)continue e;_+=a[T][E],z=!0,S=T,T--}else{_=(_+=a[T][E]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var ee=parseInt(T),ae=f(ee,_,o),W=T>=a.length-1;if(ae&&!W){_+=" ",E=0;continue}if(ae||W){if(W)S=ee;else if(t.multiline&&(w+2)*(O+2)+2>u)continue e}else{if(!t.multiline||(w+2)*(O+2)+2>u)continue e;S=ee}}for(var te="",Q=D;Q<=S;Q++){var fe=a[Q];if(t.multiline){if(Q===S){te+=fe[E]+" ",E=(E+1)%fe.length;continue}if(Q===D){te+=fe[fe.length-1]+" ";continue}}te+=fe[0]+" "}switch(te=te.substr(te.length-1)==" "?te.substr(0,te.length-1):te,m=Dp(te,t,o).width,t.textAlign){case"right":p=c-m-2;break;case"center":p=(c-m)/2;break;default:p=2}e+=Gr(p)+" "+Gr(y)+` Td
`,e+="("+Xu(te)+`) Tj
`,e+=-Gr(p)+` 0 Td
`,y=-(o+2),m=0,D=z?S:S+1,O++,_=""}break}return n.text=e,n.fontSize=o,n},Dp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},_I={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},AI=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},PI=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(tl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(_I)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Lv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new J4,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&AI(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var o=!n;for(var u in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var c=n[u],f=[],p=c.Rect;if(c.Rect&&(c.Rect=jI(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Jt.createDefaultAppearanceStream(c),Hn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=CI(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var w="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var y=c.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var u in y)if(y.hasOwnProperty(u)){var D=y[u];typeof D=="function"&&(D=D.call(a,c)),w+="/"+u+" "+D+" ",a.internal.acroformPlugin.xForms.indexOf(D)>=0||a.internal.acroformPlugin.xForms.push(D)}}else typeof(D=y)=="function"&&(D=D.call(a,c)),w+="/"+u+" "+D,a.internal.acroformPlugin.xForms.indexOf(D)>=0||a.internal.acroformPlugin.xForms.push(D);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(S,E){for(var _ in S)if(S.hasOwnProperty(_)){var O=_,T=S[_];E.internal.newObjectDeferredBegin(T.objId,!0),Hn(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete S[O]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Y4=Ms.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(u){return u};if(Array.isArray(t)){for(var a="[",o=0;o<t.length;o++)switch(o!==0&&(a+=" "),Hn(t[o])){case"boolean":case"number":case"object":a+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Xu(n(t[o].toString()))+")"):a+=t[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},O0=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Xu(n(t))+")"},Cl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cl.prototype.toString=function(){return this.objId+" 0 R"},Cl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Cl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:Y4(a,this.objId,this.scope)}):a instanceof Cl?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var X4=function(){Cl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};qa(X4,Cl);var J4=function(){Cl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Xu(r(t))+")"}},set:function(r){t=r}})};qa(J4,Cl);var tl=function t(){Cl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ws(e,3)},set:function(_){_?this.F=Gs(e,3):this.F=Ks(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof km)return;o="FieldObject"+t.FieldNum++}var _=function(O){return O};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Xu(_(o))+")"},set:function(_){o=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(_){o=_}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Lv:p},set:function(_){p=_}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(_){m=_}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof km||this instanceof Ou))return O0(w,this.objId,this.scope)},set:function(_){_=_.toString(),w=_}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Pi==0?O0(A,this.objId,this.scope):A},set:function(_){_=_.toString(),A=this instanceof Pi==0?_.substr(0,1)==="("?Ad(_.substr(1,_.length-2)):Ad(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pi==1?Ad(A.substr(1,A.length-1)):A},set:function(_){_=_.toString(),A=this instanceof Pi==1?"/"+_:_}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Pi==0?O0(y,this.objId,this.scope):y},set:function(_){_=_.toString(),y=this instanceof Pi==0?_.substr(0,1)==="("?Ad(_.substr(1,_.length-2)):Ad(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pi==1?Ad(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof Pi==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var D,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(_){_=!!_,S=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(D)return D},set:function(_){D=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,1)},set:function(_){_?this.Ff=Gs(this.Ff,1):this.Ff=Ks(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,2)},set:function(_){_?this.Ff=Gs(this.Ff,2):this.Ff=Ks(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,3)},set:function(_){_?this.Ff=Gs(this.Ff,3):this.Ff=Ks(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');E=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(E){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};qa(tl,Cl);var Vd=function(){tl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Y4(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,p=[];f=u.exec(o);)p.push(f[c]);return p})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,18)},set:function(r){r?this.Ff=Gs(this.Ff,18):this.Ff=Ks(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Gs(this.Ff,19):this.Ff=Ks(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,20)},set:function(r){r?(this.Ff=Gs(this.Ff,20),e.sort()):this.Ff=Ks(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,22)},set:function(r){r?this.Ff=Gs(this.Ff,22):this.Ff=Ks(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,23)},set:function(r){r?this.Ff=Gs(this.Ff,23):this.Ff=Ks(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,27)},set:function(r){r?this.Ff=Gs(this.Ff,27):this.Ff=Ks(this.Ff,27)}}),this.hasAppearanceStream=!1};qa(Vd,tl);var Hd=function(){Vd.call(this),this.fontName="helvetica",this.combo=!1};qa(Hd,Vd);var Wd=function(){Hd.call(this),this.combo=!0};qa(Wd,Hd);var Yp=function(){Wd.call(this),this.edit=!0};qa(Yp,Wd);var Pi=function(){tl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,15)},set:function(r){r?this.Ff=Gs(this.Ff,15):this.Ff=Ks(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,16)},set:function(r){r?this.Ff=Gs(this.Ff,16):this.Ff=Ks(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,17)},set:function(r){r?this.Ff=Gs(this.Ff,17):this.Ff=Ks(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,26)},set:function(r){r?this.Ff=Gs(this.Ff,26):this.Ff=Ks(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Xu(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Hn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};qa(Pi,tl);var Xp=function(){Pi.call(this),this.pushButton=!0};qa(Xp,Pi);var Gd=function(){Pi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};qa(Gd,Pi);var km=function(){var t,e;tl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),n)u.push("/"+o+" ("+Xu(a(n[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){Hn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qa(km,tl),Gd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Gd.prototype.createOption=function(t){var e=new km;return e.Parent=this,e.optionName=t,this.Kids.push(e),kI.call(this.scope,e),e};var Jp=function(){Pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};qa(Jp,Pi);var Ou=function(){tl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,13)},set:function(e){e?this.Ff=Gs(this.Ff,13):this.Ff=Ks(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,21)},set:function(e){e?this.Ff=Gs(this.Ff,21):this.Ff=Ks(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,23)},set:function(e){e?this.Ff=Gs(this.Ff,23):this.Ff=Ks(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,24)},set:function(e){e?this.Ff=Gs(this.Ff,24):this.Ff=Ks(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,25)},set:function(e){e?this.Ff=Gs(this.Ff,25):this.Ff=Ks(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,26)},set:function(e){e?this.Ff=Gs(this.Ff,26):this.Ff=Ks(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qa(Ou,tl);var em=function(){Ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ws(this.Ff,14)},set:function(t){t?this.Ff=Gs(this.Ff,14):this.Ff=Ks(this.Ff,14)}}),this.password=!0};qa(em,Ou);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Nl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),o=L1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Gr(Jt.internal.getWidth(t))+" "+Gr(Jt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Gr(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Nl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],o=Jt.internal.getHeight(t),u=Jt.internal.getWidth(t),c=L1(t,t.caption);return a.push("1 g"),a.push("0 0 "+Gr(u)+" "+Gr(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Gr(u-1)+" "+Gr(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Gr(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Nl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gr(Jt.internal.getWidth(t))+" "+Gr(Jt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Jt.RadioButton.Circle.YesNormal,e.D[t]=Jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Nl(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Jt.internal.Bezier_C,o=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Wc(Jt.internal.getWidth(t)/2)+" "+Wc(Jt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Nl(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*Jt.internal.Bezier_C).toFixed(5)),u=Number((n*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wc(Jt.internal.getWidth(t)/2)+" "+Wc(Jt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Wc(Jt.internal.getWidth(t)/2)+" "+Wc(Jt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),r.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),r.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),r.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Nl(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wc(Jt.internal.getWidth(t)/2)+" "+Wc(Jt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Jt.RadioButton.Cross.YesNormal,e.D[t]=Jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Nl(t);e.scope=t.scope;var r=[],n=Jt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Gr(Jt.internal.getWidth(t)-2)+" "+Gr(Jt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Gr(n.x1.x)+" "+Gr(n.x1.y)+" m"),r.push(Gr(n.x2.x)+" "+Gr(n.x2.y)+" l"),r.push(Gr(n.x4.x)+" "+Gr(n.x4.y)+" m"),r.push(Gr(n.x3.x)+" "+Gr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Nl(t);e.scope=t.scope;var r=Jt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Gr(Jt.internal.getWidth(t))+" "+Gr(Jt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Gr(Jt.internal.getWidth(t)-2)+" "+Gr(Jt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Gr(r.x1.x)+" "+Gr(r.x1.y)+" m"),n.push(Gr(r.x2.x)+" "+Gr(r.x2.y)+" l"),n.push(Gr(r.x4.x)+" "+Gr(r.x4.y)+" m"),n.push(Gr(r.x3.x)+" "+Gr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Nl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gr(Jt.internal.getWidth(t))+" "+Gr(Jt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Jt.internal.getWidth(t),r=Jt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Jt.internal.getWidth=function(t){var e=0;return Hn(t)==="object"&&(e=s5(t.Rect[2])),e},Jt.internal.getHeight=function(t){var e=0;return Hn(t)==="object"&&(e=s5(t.Rect[3])),e};var kI=Ms.addField=function(t){if(PI(this,t),!(t instanceof tl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ms.AcroFormChoiceField=Vd,Ms.AcroFormListBox=Hd,Ms.AcroFormComboBox=Wd,Ms.AcroFormEditBox=Yp,Ms.AcroFormButton=Pi,Ms.AcroFormPushButton=Xp,Ms.AcroFormRadioButton=Gd,Ms.AcroFormCheckBox=Jp,Ms.AcroFormTextField=Ou,Ms.AcroFormPasswordField=em,Ms.AcroFormAppearance=Jt,Ms.AcroForm={ChoiceField:Vd,ListBox:Hd,ComboBox:Wd,EditBox:Yp,Button:Pi,PushButton:Xp,RadioButton:Gd,CheckBox:Jp,TextField:Ou,PasswordField:em,Appearance:Jt},nr.AcroForm={ChoiceField:Vd,ListBox:Hd,ComboBox:Wd,EditBox:Yp,Button:Pi,PushButton:Xp,RadioButton:Gd,CheckBox:Jp,TextField:Ou,PasswordField:em,Appearance:Jt};nr.AcroForm;function e3(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(U,F){var X,Y,we,ye,xe,se=r;if((F=F||r)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(ae(U))for(xe in n)for(we=n[xe],X=0;X<we.length;X+=1){for(ye=!0,Y=0;Y<we[X].length;Y+=1)if(we[X][Y]!==void 0&&we[X][Y]!==U[Y]){ye=!1;break}if(ye===!0){se=xe;break}}else for(xe in n)for(we=n[xe],X=0;X<we.length;X+=1){for(ye=!0,Y=0;Y<we[X].length;Y+=1)if(we[X][Y]!==void 0&&we[X][Y]!==U.charCodeAt(Y)){ye=!1;break}if(ye===!0){se=xe;break}}return se===r&&F!==r&&(se=F),se},o=function U(F){for(var X=this.internal.write,Y=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:F.width}),ye.push({key:"Height",value:F.height}),F.colorSpace===_.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===_.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var xe="",se=0,me=F.transparency.length;se<me;se++)xe+=F.transparency[se]+" "+F.transparency[se]+" ";ye.push({key:"Mask",value:"["+xe+"]"})}F.sMask!==void 0&&ye.push({key:"SMask",value:F.objectId+1+" 0 R"});var I=F.filter!==void 0?["/"+F.filter]:void 0;if(Y({data:F.data,additionalKeyValues:ye,alreadyAppliedFilters:I,objectId:F.objectId}),X("endobj"),"sMask"in F&&F.sMask!==void 0){var j,x=(j=F.sMaskBitsPerComponent)!==null&&j!==void 0?j:F.bitsPerComponent,C={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:x,data:F.sMask};"filter"in F&&(C.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(x," /Columns ").concat(F.width),C.filter=F.filter),U.call(this,C)}if(F.colorSpace===_.INDEXED){var M=this.internal.newObject();Y({data:te(new Uint8Array(F.palette)),objectId:M}),X("endobj")}},u=function(){var U=this.internal.collections[e+"images"];for(var F in U)o.call(this,U[F])},c=function(){var U,F=this.internal.collections[e+"images"],X=this.internal.write;for(var Y in F)X("/I"+(U=F[Y]).index,U.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var U=this.internal.collections[e+"images"];return f.call(this),U},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(U){return typeof t["process"+U.toUpperCase()]=="function"},A=function(U){return Hn(U)==="object"&&U.nodeType===1},y=function(U,F){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var X=""+U.getAttribute("src");if(X.indexOf("data:image/")===0)return Zp(unescape(X).split("base64,").pop());var Y=t.loadFile(X,!0);if(Y!==void 0)return Y}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var we;switch(F){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return Zp(U.toDataURL(we,1).split("base64,").pop())}},D=function(U){var F=this.internal.collections[e+"images"];if(F){for(var X in F)if(U===F[X].alias)return F[X]}},S=function(U,F,X){return U||F||(U=-96,F=-96),U<0&&(U=-1*X.width*72/U/this.internal.scaleFactor),F<0&&(F=-1*X.height*72/F/this.internal.scaleFactor),U===0&&(U=F*X.width/X.height),F===0&&(F=U*X.height/X.width),[U,F]},E=function(U,F,X,Y,we,ye){var xe=S.call(this,X,Y,we),se=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,I=p.call(this);if(X=xe[0],Y=xe[1],I[we.index]=we,ye){ye*=Math.PI/180;var j=Math.cos(ye),x=Math.sin(ye),C=function(H){return H.toFixed(4)},M=[C(j),C(x),C(-1*x),C(j),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,se(U),me(F+Y),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([se(X),"0","0",se(Y),"0","0","cm"].join(" "))):this.internal.write([se(X),"0","0",se(Y),se(U),me(F+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(U){var F,X,Y=0;if(typeof U=="string")for(X=U.length,F=0;F<X;F++)Y=(Y<<5)-Y+U.charCodeAt(F),Y|=0;else if(ae(U))for(X=U.byteLength/2,F=0;F<X;F++)Y=(Y<<5)-Y+U[F],Y|=0;return Y},z=t.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var F=!0;return U.length===0&&(F=!1),U.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(F=!1),F},ee=t.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var F=U.indexOf(",");return F<0?null:U.substring(0,F).trim().endsWith("base64")?U.substring(F+1):null};t.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var ae=t.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},W=t.__addimage__.binaryStringToUint8Array=function(U){for(var F=U.length,X=new Uint8Array(F),Y=0;Y<F;Y++)X[Y]=U.charCodeAt(Y);return X},te=t.__addimage__.arrayBufferToBinaryString=function(U){for(var F="",X=ae(U)?U:new Uint8Array(U),Y=0;Y<X.length;Y+=8192)F+=String.fromCharCode.apply(null,X.subarray(Y,Y+8192));return F};t.addImage=function(){var U,F,X,Y,we,ye,xe,se,me;if(typeof arguments[1]=="number"?(F=r,X=arguments[1],Y=arguments[2],we=arguments[3],ye=arguments[4],xe=arguments[5],se=arguments[6],me=arguments[7]):(F=arguments[1],X=arguments[2],Y=arguments[3],we=arguments[4],ye=arguments[5],xe=arguments[6],se=arguments[7],me=arguments[8]),Hn(U=arguments[0])==="object"&&!A(U)&&"imageData"in U){var I=U;U=I.imageData,F=I.format||F||r,X=I.x||X||0,Y=I.y||Y||0,we=I.w||I.width||we,ye=I.h||I.height||ye,xe=I.alias||xe,se=I.compression||se,me=I.rotation||I.angle||me}var j=this.internal.getFilters();if(se===void 0&&j.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(X)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var x=Q.call(this,U,F,xe,se);return E.call(this,X,Y,we,ye,x,me),this};var Q=function(U,F,X,Y){var we,ye,xe;if(typeof U=="string"&&a(U)===r){U=unescape(U);var se=fe(U,!1);(se!==""||(se=t.loadFile(U,!0))!==void 0)&&(U=se)}if(A(U)&&(U=y(U,F)),F=a(U,F),!w(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((xe=X)==null||xe.length===0)&&(X=(function(me){return typeof me=="string"||ae(me)?T(me):ae(me.data)?T(me.data):null})(U)),(we=D.call(this,X))||(U instanceof Uint8Array||F==="RGBA"||(ye=U,U=W(U)),we=this["process"+F.toUpperCase()](U,m.call(this),X,(function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in t.image_compression?me:O.NONE})(Y),ye)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},fe=t.__addimage__.convertBase64ToBinaryString=function(U,F){F=typeof F!="boolean"||F;var X,Y="";if(typeof U=="string"){var we;X=(we=ee(U))!==null&&we!==void 0?we:U;try{Y=Zp(X)}catch(ye){if(F)throw z(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};t.getImageProperties=function(U){var F,X,Y="";if(A(U)&&(U=y(U)),typeof U=="string"&&a(U)===r&&((Y=fe(U,!1))===""&&(Y=t.loadFile(U)||""),U=Y),X=a(U),!w(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(U instanceof Uint8Array||(U=W(U)),!(F=this["process"+X.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=X,F}})(nr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};nr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),p=r.pageContext.annotations,m=!1,w=0;w<p.length&&!m;w++)switch((n=p[w]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var A=0;A<p.length;A++){n=p[A];var y=this.internal.pdfEscape,D=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(S.objId),O=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+y(_(n.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(_(O))+") >>",S.content=o;var T=S.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(S.objId,"0 R",E.objId,"0 R");break;case"freetext":a="/Rect ["+u(n.bounds.x)+" "+c(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var z=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(D(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var ee=this.annotations._nameMap[n.options.name];n.options.pageNumber=ee.page,n.options.top=ee.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(D(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var ae=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+ae+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(r),y:p(n),w:f(r+a),h:p(n+o)},options:u,type:"link"})},t.textWithLink=function(r,n,a,o){var u,c,f=this.getTextWidth(r),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(r,c).length;u=Math.ceil(p*m)}else c=f,u=p;return this.text(r,n,a,o),a+=.2*p,o.align==="center"&&(n-=f/2),o.align==="right"&&(n-=f),this.link(n,a-p,c,u,o),f},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(nr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},c=t.__arabicParser__.isArabicEndLetter=function(S){return u(S)&&o(S)&&e[S.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(S){return u(S)&&a.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return u(S)&&o(S)&&e[S.charCodeAt(0)].length>=1};var p=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return u(S)&&o(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return u(S)&&o(S)&&e[S.charCodeAt(0)].length>=3};var m=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return u(S)&&o(S)&&e[S.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(S){var E=0,_=r,O="",T=0;for(E=0;E<S.length;E+=1)_[S.charCodeAt(E)]!==void 0?(T++,typeof(_=_[S.charCodeAt(E)])=="number"&&(O+=String.fromCharCode(_),_=r,T=0),E===S.length-1&&(_=r,O+=S.charAt(E-(T-1)),E-=T-1,T=0)):(_=r,O+=S.charAt(E-T),E-=T,T=0);return O};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&n[S.charCodeAt(0)]!==void 0};var A=t.__arabicParser__.getCorrectForm=function(S,E,_){return u(S)?o(S)===!1?-1:!p(S)||!u(E)&&!u(_)||!u(_)&&c(E)||c(S)&&!u(E)||c(S)&&f(E)||c(S)&&c(E)?0:m(S)&&u(E)&&!c(E)&&u(_)&&p(_)?3:c(S)||!u(_)?1:2:-1},y=function(S){var E=0,_=0,O=0,T="",z="",ee="",ae=(S=S||"").split("\\s+"),W=[];for(E=0;E<ae.length;E+=1){for(W.push(""),_=0;_<ae[E].length;_+=1)T=ae[E][_],z=ae[E][_-1],ee=ae[E][_+1],u(T)?(O=A(T,z,ee),W[E]+=O!==-1?String.fromCharCode(e[T.charCodeAt(0)][O]):T):W[E]+=T;W[E]=w(W[E])}return W.join(" ")},D=t.__arabicParser__.processArabic=t.processArabic=function(){var S,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(E)){var O=0;for(_=[],O=0;O<E.length;O+=1)Array.isArray(E[O])?_.push([y(E[O][0]),E[O][1],E[O][2]]):_.push([y(E[O])]);S=_}else S=y(E);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",D])})(nr.API),nr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(nr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(S){w=S}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(S){A=S}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var D=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return D},set:function(S){D=S}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return n.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,p){n.call(this);var m=(p=p||{}).fontSize||this.getFontSize(),w=p.font||this.getFont(),A=p.scaleFactor||this.internal.scaleFactor,y=0,D=0,S=0,E=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var _=p.maxWidth;_>0?typeof f=="string"?f=this.splitTextToSize(f,_):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(T,z){return T.concat(E.splitTextToSize(z,_))},[])):f=Array.isArray(f)?f:[f];for(var O=0;O<f.length;O++)y<(S=this.getStringUnitWidth(f[O],{font:w})*m)&&(y=S);return y!==0&&(D=f.length),{w:y/=A,h:Math.max((D*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/A,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var p=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===f.lineNumber?(f.x=(p.x||0)+(p.width||0),f.y=p.y||0):p.y+p.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,y&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=p.y+p.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};t.table=function(f,p,m,w,A){if(n.call(this),!m)throw new Error("No data for PDF table.");var y,D,S,E,_=[],O=[],T=[],z={},ee={},ae=[],W=[],te=(A=A||{}).autoSize||!1,Q=A.printHeaders!==!1,fe=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,U=A.margins||Object.assign({width:this.getPageWidth()},e),F=typeof A.padding=="number"?A.padding:3,X=A.headerBackgroundColor||"#c8c8c8",Y=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=fe,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=Y,this.setFontSize(fe),w==null)O=_=Object.keys(m[0]),T=_.map(function(){return"left"});else if(Array.isArray(w)&&Hn(w[0])==="object")for(_=w.map(function(I){return I.name}),O=w.map(function(I){return I.prompt||I.name||""}),T=w.map(function(I){return I.align||"left"}),y=0;y<w.length;y+=1)ee[w[y].name]=.7499990551181103*w[y].width;else Array.isArray(w)&&typeof w[0]=="string"&&(O=_=w,T=_.map(function(){return"left"}));if(te||Array.isArray(w)&&typeof w[0]=="string")for(y=0;y<_.length;y+=1){for(z[E=_[y]]=m.map(function(I){return I[E]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(O[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),D=z[E],this.setFont(void 0,"normal"),S=0;S<D.length;S+=1)ae.push(this.getTextDimensions(D[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[E]=Math.max.apply(null,ae)+F+F,ae=[]}if(Q){var we={};for(y=0;y<_.length;y+=1)we[_[y]]={},we[_[y]].text=O[y],we[_[y]].align=T[y];var ye=c.call(this,we,ee);W=_.map(function(I){return new o(f,p,ee[I],ye,we[I].text,void 0,we[I].align)}),this.setTableHeaderRow(W),this.printHeaderRow(1,!1)}var xe=w.reduce(function(I,j){return I[j.name]=j.align,I},{});for(y=0;y<m.length;y+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:y,data:m[y]},this);var se=c.call(this,m[y],ee);for(S=0;S<_.length;S+=1){var me=m[y][_[S]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:y,col:S,data:me},this),u.call(this,new o(f,p,ee[_[S]],se,me,y+2,xe[_[S]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=p,this};var c=function(f,p){var m=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(y){var D=f[y];return this.splitTextToSize(D.hasOwnProperty("text")?D.text:D,p[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*w/A+m+m},this).reduce(function(y,D){return Math.max(y,D)},0)};t.setTableHeaderRow=function(f){n.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,p){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),p&&(m.y=this.internal.__cell__.margins.top||0,A.push(m)),m.lineNumber=f;var D=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,m),this.setTextColor(D)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),r=!1}})(nr.API);var t3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},r3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],R1=e3(r3),n3=[100,200,300,400,500,600,700,800,900],TI=e3(n3);function M0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return t3[o=o||"normal"]?o:"normal"})(t.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),a=(function(o){return typeof R1[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function i5(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var EI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},a5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function o5(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function l5(t){return t.trimLeft()}function LI(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function RI(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ip,c5,u5,Pd,Fp,d5,f5,h5,B0=["times"];function p5(t,e,r,n,a){var o=4,u=g5;switch(a){case nr.API.image_compression.FAST:o=1,u=m5;break;case nr.API.image_compression.MEDIUM:o=6,u=v5;break;case nr.API.image_compression.SLOW:o=9,u=x5}t=(function(f,p,m,w){for(var A,y=f.length/p,D=new Uint8Array(f.length+y),S=[DI,m5,g5,v5,x5],E=0;E<y;E+=1){var _=E*p,O=f.subarray(_,_+p);if(w)D.set(w(O,m,A),_+E);else{for(var T=S.length,z=[],ee=0;ee<T;ee+=1)z[ee]=S[ee](O,m,A);var ae=FI(z.concat());D.set(z[ae],_+E)}A=O}return D})(t,e,Math.ceil(r*n/8),u);var c=_1(t,{level:o});return nr.API.__addimage__.arrayBufferToBinaryString(c)}function DI(t){var e=Array.apply([],t);return e.unshift(0),e}function m5(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var o=t[a-e]||0;n[a+1]=t[a]-o+256&255}return n}function g5(t,e,r){var n=t.length,a=[];a[0]=2;for(var o=0;o<n;o+=1){var u=r&&r[o]||0;a[o+1]=t[o]-u+256&255}return a}function v5(t,e,r){var n=t.length,a=[];a[0]=3;for(var o=0;o<n;o+=1){var u=t[o-e]||0,c=r&&r[o]||0;a[o+1]=t[o]+256-(u+c>>>1)&255}return a}function x5(t,e,r){var n=t.length,a=[];a[0]=4;for(var o=0;o<n;o+=1){var u=II(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);a[o+1]=t[o]-u+256&255}return a}function II(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),o=Math.abs(t+e-r-r);return n<=a&&n<=o?t:a<=o?e:r}function FI(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function q0(t,e,r){var n=e*r,a=Math.floor(n/8),o=16-(n-8*a+r),u=(1<<r)-1;return s3(t,a)>>o&u}function y5(t,e,r,n){var a=r*n,o=Math.floor(a/8),u=16-(a-8*o+n),c=(1<<n)-1,f=(e&c)<<u;(function(p,m,w){if(m+1<p.byteLength)p.setUint16(m,w,!1);else{var A=w>>8&255;p.setUint8(m,A)}})(t,o,s3(t,o)&~(c<<u)&65535|f)}function s3(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function OI(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],o=a>>7,u=1<<1+(7&a);t[e++],t[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var p=!0,m=[],w=0,A=null,y=0,D=null;for(this.width=r,this.height=n;p&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,D=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];w=t[e++]|t[e++]<<8,A=t[e++],1&S||(A=null),y=S>>2&7,e++;break;case 254:for(;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,z=t[e++],ee=z>>6&1,ae=1<<1+(7&z),W=c,te=f,Q=!1;z>>7&&(Q=!0,W=e,te=ae,e+=3*ae);var fe=e;for(e++;;){var U;if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}m.push({x:E,y:_,width:O,height:T,has_local_palette:Q,palette_offset:W,palette_size:te,data_offset:fe,data_length:e-fe,transparent_index:A,interlaced:!!ee,delay:w,disposal:y});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return D},this.frameInfo=function(F){if(F<0||F>=m.length)throw new Error("Frame index out of range.");return m[F]},this.decodeAndBlitFrameBGRA=function(F,X){var Y=this.frameInfo(F),we=Y.width*Y.height,ye=new Uint8Array(we);w5(t,Y.data_offset,ye,we);var xe=Y.palette_offset,se=Y.transparent_index;se===null&&(se=256);var me=Y.width,I=r-me,j=me,x=4*(Y.y*r+Y.x),C=4*((Y.y+Y.height)*r+Y.x),M=x,H=4*I;Y.interlaced===!0&&(H+=4*r*7);for(var ie=8,le=0,ve=ye.length;le<ve;++le){var je=ye[le];if(j===0&&(j=me,(M+=H)>=C&&(H=4*I+4*r*(ie-1),M=x+(me+I)*(ie<<1),ie>>=1)),je===se)M+=4;else{var Te=t[xe+3*je],Ge=t[xe+3*je+1],at=t[xe+3*je+2];X[M++]=at,X[M++]=Ge,X[M++]=Te,X[M++]=255}--j}},this.decodeAndBlitFrameRGBA=function(F,X){var Y=this.frameInfo(F),we=Y.width*Y.height,ye=new Uint8Array(we);w5(t,Y.data_offset,ye,we);var xe=Y.palette_offset,se=Y.transparent_index;se===null&&(se=256);var me=Y.width,I=r-me,j=me,x=4*(Y.y*r+Y.x),C=4*((Y.y+Y.height)*r+Y.x),M=x,H=4*I;Y.interlaced===!0&&(H+=4*r*7);for(var ie=8,le=0,ve=ye.length;le<ve;++le){var je=ye[le];if(j===0&&(j=me,(M+=H)>=C&&(H=4*I+4*r*(ie-1),M=x+(me+I)*(ie<<1),ie>>=1)),je===se)M+=4;else{var Te=t[xe+3*je],Ge=t[xe+3*je+1],at=t[xe+3*je+2];X[M++]=Te,X[M++]=Ge,X[M++]=at,X[M++]=255}--j}}}function w5(t,e,r,n){for(var a=t[e++],o=1<<a,u=o+1,c=u+1,f=a+1,p=(1<<f)-1,m=0,w=0,A=0,y=t[e++],D=new Int32Array(4096),S=null;;){for(;m<16&&y!==0;)w|=t[e++]<<m,m+=8,y===1?y=t[e++]:--y;if(m<f)break;var E=w&p;if(w>>=f,m-=f,E!==o){if(E===u)break;for(var _=E<c?E:S,O=0,T=_;T>o;)T=D[T]>>8,++O;var z=T;if(A+O+(_!==E?1:0)>n)return void Zn.log("Warning, gif stream longer than expected.");r[A++]=z;var ee=A+=O;for(_!==E&&(r[A++]=z),T=_;O--;)T=D[T],r[--ee]=255&T,T>>=8;S!==null&&c<4096&&(D[c++]=S<<8|z,c>=p+1&&f<12&&(++f,p=p<<1|1)),S=E}else c=u+1,p=(1<<(f=a+1))-1,S=null}return A!==n&&Zn.log("Warning, gif stream shorter than expected."),r}function U0(t){var e,r,n,a,o,u=Math.floor,c=new Array(64),f=new Array(64),p=new Array(64),m=new Array(64),w=new Array(65535),A=new Array(65535),y=new Array(64),D=new Array(64),S=[],E=0,_=7,O=new Array(64),T=new Array(64),z=new Array(64),ee=new Array(256),ae=new Array(2048),W=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],te=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(x,C){for(var M=0,H=0,ie=new Array,le=1;le<=16;le++){for(var ve=1;ve<=x[le];ve++)ie[C[H]]=[],ie[C[H]][0]=M,ie[C[H]][1]=le,H++,M++;M*=2}return ie}function xe(x){for(var C=x[0],M=x[1]-1;M>=0;)C&1<<M&&(E|=1<<_),M--,--_<0&&(E==255?(se(255),se(0)):se(E),_=7,E=0)}function se(x){S.push(x)}function me(x){se(x>>8&255),se(255&x)}function I(x,C,M,H,ie){for(var le,ve=ie[0],je=ie[240],Te=(function(tt,yt){var _t,oe,Ne,Fe,Re,$e,ze,ct,pt,Tt,St=0;for(pt=0;pt<8;++pt){_t=tt[St],oe=tt[St+1],Ne=tt[St+2],Fe=tt[St+3],Re=tt[St+4],$e=tt[St+5],ze=tt[St+6];var yn=_t+(ct=tt[St+7]),Cr=_t-ct,yr=oe+ze,pr=oe-ze,Ir=Ne+$e,Rt=Ne-$e,wr=Fe+Re,sr=Fe-Re,mr=yn+wr,cn=yn-wr,fr=yr+Ir,Vt=yr-Ir;tt[St]=mr+fr,tt[St+4]=mr-fr;var hr=.707106781*(Vt+cn);tt[St+2]=cn+hr,tt[St+6]=cn-hr;var Jn=.382683433*((mr=sr+Rt)-(Vt=pr+Cr)),Rn=.5411961*mr+Jn,ii=1.306562965*Vt+Jn,us=.707106781*(fr=Rt+pr),Gt=Cr+us,Tn=Cr-us;tt[St+5]=Tn+Rn,tt[St+3]=Tn-Rn,tt[St+1]=Gt+ii,tt[St+7]=Gt-ii,St+=8}for(St=0,pt=0;pt<8;++pt){_t=tt[St],oe=tt[St+8],Ne=tt[St+16],Fe=tt[St+24],Re=tt[St+32],$e=tt[St+40],ze=tt[St+48];var Bt=_t+(ct=tt[St+56]),br=_t-ct,ur=oe+ze,At=oe-ze,vr=Ne+$e,ut=Ne-$e,rt=Fe+Re,ot=Fe-Re,Ye=Bt+rt,it=Bt-rt,xt=ur+vr,jt=ur-vr;tt[St]=Ye+xt,tt[St+32]=Ye-xt;var Pt=.707106781*(jt+it);tt[St+16]=it+Pt,tt[St+48]=it-Pt;var Et=.382683433*((Ye=ot+ut)-(jt=At+br)),Lt=.5411961*Ye+Et,$t=1.306562965*jt+Et,Kt=.707106781*(xt=ut+At),Ht=br+Kt,Yt=br-Kt;tt[St+40]=Yt+Lt,tt[St+24]=Yt-Lt,tt[St+8]=Ht+$t,tt[St+56]=Ht-$t,St++}for(pt=0;pt<64;++pt)Tt=tt[pt]*yt[pt],y[pt]=Tt>0?Tt+.5|0:Tt-.5|0;return y})(x,C),Ge=0;Ge<64;++Ge)D[W[Ge]]=Te[Ge];var at=D[0]-M;M=D[0],at==0?xe(H[0]):(xe(H[A[le=32767+at]]),xe(w[le]));for(var nt=63;nt>0&&D[nt]==0;)nt--;if(nt==0)return xe(ve),M;for(var ht,re=1;re<=nt;){for(var ke=re;D[re]==0&&re<=nt;)++re;var Ve=re-ke;if(Ve>=16){ht=Ve>>4;for(var He=1;He<=ht;++He)xe(je);Ve&=15}le=32767+D[re],xe(ie[(Ve<<4)+A[le]]),xe(w[le]),re++}return nt!=63&&xe(ve),M}function j(x){x=Math.min(Math.max(x,1),100),o!=x&&((function(C){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var ie=u((M[H]*C+50)/100);ie=Math.min(Math.max(ie,1),255),c[W[H]]=ie}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var je=u((le[ve]*C+50)/100);je=Math.min(Math.max(je,1),255),f[W[ve]]=je}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,at=0;at<8;at++)for(var nt=0;nt<8;nt++)p[Ge]=1/(c[W[Ge]]*Te[at]*Te[nt]*8),m[Ge]=1/(f[W[Ge]]*Te[at]*Te[nt]*8),Ge++})(x<50?Math.floor(5e3/x):Math.floor(200-2*x)),o=x)}this.encode=function(x,C){C&&j(C),S=new Array,E=0,_=7,me(65496),me(65504),me(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),me(1),me(1),se(0),se(0),(function(){me(65499),me(132),se(0);for(var oe=0;oe<64;oe++)se(c[oe]);se(1);for(var Ne=0;Ne<64;Ne++)se(f[Ne])})(),(function(oe,Ne){me(65472),me(17),se(8),me(Ne),me(oe),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(x.width,x.height),(function(){me(65476),me(418),se(0);for(var oe=0;oe<16;oe++)se(te[oe+1]);for(var Ne=0;Ne<=11;Ne++)se(Q[Ne]);se(16);for(var Fe=0;Fe<16;Fe++)se(fe[Fe+1]);for(var Re=0;Re<=161;Re++)se(U[Re]);se(1);for(var $e=0;$e<16;$e++)se(F[$e+1]);for(var ze=0;ze<=11;ze++)se(X[ze]);se(17);for(var ct=0;ct<16;ct++)se(Y[ct+1]);for(var pt=0;pt<=161;pt++)se(we[pt])})(),me(65498),me(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var M=0,H=0,ie=0;E=0,_=7,this.encode.displayName="_encode_";for(var le,ve,je,Te,Ge,at,nt,ht,re,ke=x.data,Ve=x.width,He=x.height,tt=4*Ve,yt=0;yt<He;){for(le=0;le<tt;){for(Ge=tt*yt+le,nt=-1,ht=0,re=0;re<64;re++)at=Ge+(ht=re>>3)*tt+(nt=4*(7&re)),yt+ht>=He&&(at-=tt*(yt+1+ht-He)),le+nt>=tt&&(at-=le+nt-tt+4),ve=ke[at++],je=ke[at++],Te=ke[at++],O[re]=(ae[ve]+ae[je+256|0]+ae[Te+512|0]>>16)-128,T[re]=(ae[ve+768|0]+ae[je+1024|0]+ae[Te+1280|0]>>16)-128,z[re]=(ae[ve+1280|0]+ae[je+1536|0]+ae[Te+1792|0]>>16)-128;M=I(O,p,M,e,n),H=I(T,m,H,r,a),ie=I(z,m,ie,r,a),le+=32}yt+=8}if(_>=0){var _t=[];_t[1]=_+1,_t[0]=(1<<_+1)-1,xe(_t)}return me(65497),new Uint8Array(S)},t=t||50,(function(){for(var x=String.fromCharCode,C=0;C<256;C++)ee[C]=x(C)})(),e=ye(te,Q),r=ye(F,X),n=ye(fe,U),a=ye(Y,we),(function(){for(var x=1,C=2,M=1;M<=15;M++){for(var H=x;H<C;H++)A[32767+H]=M,w[32767+H]=[],w[32767+H][1]=M,w[32767+H][0]=H;for(var ie=-(C-1);ie<=-x;ie++)A[32767+ie]=M,w[32767+ie]=[],w[32767+ie][1]=M,w[32767+ie][0]=C-1+ie;x<<=1,C<<=1}})(),(function(){for(var x=0;x<256;x++)ae[x]=19595*x,ae[x+256|0]=38470*x,ae[x+512|0]=7471*x+32768,ae[x+768|0]=-11059*x,ae[x+1024|0]=-21709*x,ae[x+1280|0]=32768*x+8421375,ae[x+1536|0]=-27439*x,ae[x+1792|0]=-5329*x})(),j(t)}function qo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function b5(t){function e(Q){if(!Q)throw Error("assert :P")}function r(Q,fe,U){for(var F=0;4>F;F++)if(Q[fe+F]!=U.charCodeAt(F))return!0;return!1}function n(Q,fe,U,F,X){for(var Y=0;Y<X;Y++)Q[fe+Y]=U[F+Y]}function a(Q,fe,U,F){for(var X=0;X<F;X++)Q[fe+X]=U}function o(Q){return new Int32Array(Q)}function u(Q,fe){for(var U=[],F=0;F<Q;F++)U.push(new fe);return U}function c(Q,fe){var U=[];return(function F(X,Y,we){for(var ye=we[Y],xe=0;xe<ye&&(X.push(we.length>Y+1?[]:new fe),!(we.length<Y+1));xe++)F(X[xe],Y+1,we)})(U,0,Q),U}var f=function(){var Q=this;function fe(h,v){for(var P=1<<v-1>>>0;h&P;)P>>>=1;return P?(h&P-1)+P:h}function U(h,v,P,R,V){e(!(R%P));do h[v+(R-=P)]=V;while(0<R)}function F(h,v,P,R,V){if(e(2328>=V),512>=V)var K=o(512);else if((K=o(V))==null)return 0;return(function(Z,J,ne,ce,Ce,Oe){var ue,Ae,Ie=J,Je=1<<ne,qe=o(16),Ze=o(16);for(e(Ce!=0),e(ce!=null),e(Z!=null),e(0<ne),Ae=0;Ae<Ce;++Ae){if(15<ce[Ae])return 0;++qe[ce[Ae]]}if(qe[0]==Ce)return 0;for(Ze[1]=0,ue=1;15>ue;++ue){if(qe[ue]>1<<ue)return 0;Ze[ue+1]=Ze[ue]+qe[ue]}for(Ae=0;Ae<Ce;++Ae)ue=ce[Ae],0<ce[Ae]&&(Oe[Ze[ue]++]=Ae);if(Ze[15]==1)return(ce=new X).g=0,ce.value=Oe[0],U(Z,Ie,1,Je,ce),Je;var Xe,st=-1,lt=Je-1,ar=0,Ut=1,Vr=1,Zt=1<<ne;for(Ae=0,ue=1,Ce=2;ue<=ne;++ue,Ce<<=1){if(Ut+=Vr<<=1,0>(Vr-=qe[ue]))return 0;for(;0<qe[ue];--qe[ue])(ce=new X).g=ue,ce.value=Oe[Ae++],U(Z,Ie+ar,Ce,Zt,ce),ar=fe(ar,ue)}for(ue=ne+1,Ce=2;15>=ue;++ue,Ce<<=1){if(Ut+=Vr<<=1,0>(Vr-=qe[ue]))return 0;for(;0<qe[ue];--qe[ue]){if(ce=new X,(ar&lt)!=st){for(Ie+=Zt,Xe=1<<(st=ue)-ne;15>st&&!(0>=(Xe-=qe[st]));)++st,Xe<<=1;Je+=Zt=1<<(Xe=st-ne),Z[J+(st=ar&lt)].g=Xe+ne,Z[J+st].value=Ie-J-st}ce.g=ue-ne,ce.value=Oe[Ae++],U(Z,Ie+(ar>>ne),Ce,Zt,ce),ar=fe(ar,ue)}}return Ut!=2*Ze[15]-1?0:Je})(h,v,P,R,V,K)}function X(){this.value=this.g=0}function Y(){this.value=this.g=0}function we(){this.G=u(5,X),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Pa,Y)}function ye(h,v,P,R){e(h!=null),e(v!=null),e(2147483648>R),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=v,h.pa=P,h.Jd=v,h.Yc=P+R,h.Zc=4<=R?P+R-4+1:P,ve(h)}function xe(h,v){for(var P=0;0<v--;)P|=Te(h,128)<<v;return P}function se(h,v){var P=xe(h,v);return je(h)?-P:P}function me(h,v,P,R){var V,K=0;for(e(h!=null),e(v!=null),e(4294967288>R),h.Sb=R,h.Ra=0,h.u=0,h.h=0,4<R&&(R=4),V=0;V<R;++V)K+=v[P+V]<<8*V;h.Ra=K,h.bb=R,h.oa=v,h.pa=P}function I(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<ul-8>>>0,++h.bb,h.u-=8;H(h)&&(h.h=1,h.u=0)}function j(h,v){if(e(0<=v),!h.h&&v<=da){var P=M(h)&ua[v];return h.u+=v,I(h),P}return h.h=1,h.u=0}function x(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(h){return h.Ra>>>(h.u&ul-1)>>>0}function H(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>ul}function ie(h,v){h.u=v,h.h=H(h)}function le(h){h.u>=co&&(e(h.u>=co),I(h))}function ve(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function je(h){return xe(h,1)}function Te(h,v){var P=h.Ca;0>h.b&&ve(h);var R=h.b,V=P*v>>>8,K=(h.I>>>R>V)+0;for(K?(P-=V,h.I-=V+1<<R>>>0):P=V+1,R=P,V=0;256<=R;)V+=8,R>>=8;return R=7^V+Ao[R],h.b-=R,h.Ca=(P<<R)-1,K}function Ge(h,v,P){h[v+0]=P>>24&255,h[v+1]=P>>16&255,h[v+2]=P>>8&255,h[v+3]=255&P}function at(h,v){return h[v+0]|h[v+1]<<8}function nt(h,v){return at(h,v)|h[v+2]<<16}function ht(h,v){return at(h,v)|at(h,v+2)<<16}function re(h,v){var P=1<<v;return e(h!=null),e(0<v),h.X=o(P),h.X==null?0:(h.Mb=32-v,h.Xa=v,1)}function ke(h,v){e(h!=null),e(v!=null),e(h.Xa==v.Xa),n(v.X,0,h.X,0,1<<v.Xa)}function Ve(){this.X=[],this.Xa=this.Mb=0}function He(h,v,P,R){e(P!=null),e(R!=null);var V=P[0],K=R[0];return V==0&&(V=(h*K+v/2)/v),K==0&&(K=(v*V+h/2)/h),0>=V||0>=K?0:(P[0]=V,R[0]=K,1)}function tt(h,v){return h+(1<<v)-1>>>v}function yt(h,v){return((4278255360&h)+(4278255360&v)>>>0&4278255360)+((16711935&h)+(16711935&v)>>>0&16711935)>>>0}function _t(h,v){Q[v]=function(P,R,V,K,Z,J,ne){var ce;for(ce=0;ce<Z;++ce){var Ce=Q[h](J[ne+ce-1],V,K+ce);J[ne+ce]=yt(P[R+ce],Ce)}}}function oe(){this.ud=this.hd=this.jd=0}function Ne(h,v){return((4278124286&(h^v))>>>1)+(h&v)>>>0}function Fe(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Re(h,v){return Fe(h+(h-v+.5>>1))}function $e(h,v,P){return Math.abs(v-P)-Math.abs(h-P)}function ze(h,v,P,R,V,K,Z){for(R=K[Z-1],P=0;P<V;++P)K[Z+P]=R=yt(h[v+P],R)}function ct(h,v,P,R,V){var K;for(K=0;K<P;++K){var Z=h[v+K],J=Z>>8&255,ne=16711935&(ne=(ne=16711935&Z)+((J<<16)+J));R[V+K]=(4278255360&Z)+ne>>>0}}function pt(h,v){v.jd=255&h,v.hd=h>>8&255,v.ud=h>>16&255}function Tt(h,v,P,R,V,K){var Z;for(Z=0;Z<R;++Z){var J=v[P+Z],ne=J>>>8,ce=J,Ce=255&(Ce=(Ce=J>>>16)+((h.jd<<24>>24)*(ne<<24>>24)>>>5));ce=255&(ce=(ce+=(h.hd<<24>>24)*(ne<<24>>24)>>>5)+((h.ud<<24>>24)*(Ce<<24>>24)>>>5)),V[K+Z]=(4278255360&J)+(Ce<<16)+ce}}function St(h,v,P,R,V){Q[v]=function(K,Z,J,ne,ce,Ce,Oe,ue,Ae){for(ne=Oe;ne<ue;++ne)for(Oe=0;Oe<Ae;++Oe)ce[Ce++]=V(J[R(K[Z++])])},Q[h]=function(K,Z,J,ne,ce,Ce,Oe){var ue=8>>K.b,Ae=K.Ea,Ie=K.K[0],Je=K.w;if(8>ue)for(K=(1<<K.b)-1,Je=(1<<ue)-1;Z<J;++Z){var qe,Ze=0;for(qe=0;qe<Ae;++qe)qe&K||(Ze=R(ne[ce++])),Ce[Oe++]=V(Ie[Ze&Je]),Ze>>=ue}else Q["VP8LMapColor"+P](ne,ce,Ie,Je,Ce,Oe,Z,J,Ae)}}function yn(h,v,P,R,V){for(P=v+P;v<P;){var K=h[v++];R[V++]=K>>16&255,R[V++]=K>>8&255,R[V++]=255&K}}function Cr(h,v,P,R,V){for(P=v+P;v<P;){var K=h[v++];R[V++]=K>>16&255,R[V++]=K>>8&255,R[V++]=255&K,R[V++]=K>>24&255}}function yr(h,v,P,R,V){for(P=v+P;v<P;){var K=(Z=h[v++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;R[V++]=K,R[V++]=Z}}function pr(h,v,P,R,V){for(P=v+P;v<P;){var K=(Z=h[v++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;R[V++]=K,R[V++]=Z}}function Ir(h,v,P,R,V){for(P=v+P;v<P;){var K=h[v++];R[V++]=255&K,R[V++]=K>>8&255,R[V++]=K>>16&255}}function Rt(h,v,P,R,V,K){if(K==0)for(P=v+P;v<P;)Ge(R,((K=h[v++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),V+=32;else n(R,V,h,v,P)}function wr(h,v){Q[v][0]=Q[h+"0"],Q[v][1]=Q[h+"1"],Q[v][2]=Q[h+"2"],Q[v][3]=Q[h+"3"],Q[v][4]=Q[h+"4"],Q[v][5]=Q[h+"5"],Q[v][6]=Q[h+"6"],Q[v][7]=Q[h+"7"],Q[v][8]=Q[h+"8"],Q[v][9]=Q[h+"9"],Q[v][10]=Q[h+"10"],Q[v][11]=Q[h+"11"],Q[v][12]=Q[h+"12"],Q[v][13]=Q[h+"13"],Q[v][14]=Q[h+"0"],Q[v][15]=Q[h+"0"]}function sr(h){return h==Cc||h==Xl||h==yu||h==wu}function mr(){this.eb=[],this.size=this.A=this.fb=0}function cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mr,this.f.kb=new cn,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jn(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Rn(h,v){var P=h.T,R=v.ba.f.RGBA,V=R.eb,K=R.fb+h.ka*R.A,Z=Gi[v.ba.S],J=h.y,ne=h.O,ce=h.f,Ce=h.N,Oe=h.ea,ue=h.W,Ae=v.cc,Ie=v.dc,Je=v.Mc,qe=v.Nc,Ze=h.ka,Xe=h.ka+h.T,st=h.U,lt=st+1>>1;for(Ze==0?Z(J,ne,null,null,ce,Ce,Oe,ue,ce,Ce,Oe,ue,V,K,null,null,st):(Z(v.ec,v.fc,J,ne,Ae,Ie,Je,qe,ce,Ce,Oe,ue,V,K-R.A,V,K,st),++P);Ze+2<Xe;Ze+=2)Ae=ce,Ie=Ce,Je=Oe,qe=ue,Ce+=h.Rc,ue+=h.Rc,K+=2*R.A,Z(J,(ne+=2*h.fa)-h.fa,J,ne,Ae,Ie,Je,qe,ce,Ce,Oe,ue,V,K-R.A,V,K,st);return ne+=h.fa,h.j+Xe<h.o?(n(v.ec,v.fc,J,ne,st),n(v.cc,v.dc,ce,Ce,lt),n(v.Mc,v.Nc,Oe,ue,lt),P--):1&Xe||Z(J,ne,null,null,ce,Ce,Oe,ue,ce,Ce,Oe,ue,V,K+R.A,null,null,st),P}function ii(h,v,P){var R=h.F,V=[h.J];if(R!=null){var K=h.U,Z=v.ba.S,J=Z==xu||Z==yu;v=v.ba.f.RGBA;var ne=[0],ce=h.ka;ne[0]=h.T,h.Kb&&(ce==0?--ne[0]:(--ce,V[0]-=h.width),h.j+h.ka+h.T==h.o&&(ne[0]=h.o-h.j-ce));var Ce=v.eb;ce=v.fb+ce*v.A,h=gu(R,V[0],h.width,K,ne,Ce,ce+(J?0:3),v.A),e(P==ne),h&&sr(Z)&&Yl(Ce,ce,J,K,ne,v.A)}return 0}function us(h){var v=h.ma,P=v.ba.S,R=11>P,V=P==pl||P==vu||P==xu||P==Un||P==12||sr(P);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!xc(v.Oa,h,V?11:12))return 0;if(V&&sr(P)&&Co(),h.da)alert("todo:use_scaling");else{if(R){if(v.Ib=Jn,h.Kb){if(P=h.U+1>>1,v.memory=o(h.U+2*P),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+h.U,v.Mc=v.cc,v.Nc=v.dc+P,v.Ib=Rn,Co()}}else alert("todo:EmitYUV");V&&(v.Jb=ii,R&&qs())}if(R&&!pi){for(h=0;256>h;++h)Ki[h]=89858*(h-128)+Wa>>Eo,Qi[h]=-22014*(h-128)+Wa,kc[h]=-45773*(h-128),rc[h]=113618*(h-128)+Wa>>Eo;for(h=Ln;h<Mn;++h)v=76283*(h-16)+Wa>>Eo,ad[h-Ln]=bn(v,255),Vh[h-Ln]=bn(v+8>>4,15);pi=1}return 1}function Gt(h){var v=h.ma,P=h.U,R=h.T;return e(!(1&h.ka)),0>=P||0>=R?0:(P=v.Ib(h,v),v.Jb!=null&&v.Jb(h,v,P),v.Dc+=P,1)}function Tn(h){h.ma.memory=null}function Bt(h,v,P,R){return j(h,8)!=47?0:(v[0]=j(h,14)+1,P[0]=j(h,14)+1,R[0]=j(h,1),j(h,3)!=0?0:!h.h)}function br(h,v){if(4>h)return h+1;var P=h-2>>1;return(2+(1&h)<<P)+j(v,P)+1}function ur(h,v){return 120<v?v-120:1<=(P=((P=lg[v-1])>>4)*h+(8-(15&P)))?P:1;var P}function At(h,v,P){var R=M(P),V=h[v+=255&R].g-8;return 0<V&&(ie(P,P.u+8),R=M(P),v+=h[v].value,v+=R&(1<<V)-1),ie(P,P.u+h[v].g),h[v].value}function vr(h,v,P){return P.g+=h.g,P.value+=h.value<<v>>>0,e(8>=P.g),h.g}function ut(h,v,P){var R=h.xc;return e((v=R==0?0:h.vc[h.md*(P>>R)+(v>>R)])<h.Wb),h.Ya[v]}function rt(h,v,P,R){var V=h.ab,K=h.c*v,Z=h.C;v=Z+v;var J=P,ne=R;for(R=h.Ta,P=h.Ua;0<V--;){var ce=h.gc[V],Ce=Z,Oe=v,ue=J,Ae=ne,Ie=(ne=R,J=P,ce.Ea);switch(e(Ce<Oe),e(Oe<=ce.nc),ce.hc){case 2:bs(ue,Ae,(Oe-Ce)*Ie,ne,J);break;case 0:var Je=Ce,qe=Oe,Ze=ne,Xe=J,st=(Zt=ce).Ea;Je==0&&(Po(ue,Ae,null,null,1,Ze,Xe),ze(ue,Ae+1,0,0,st-1,Ze,Xe+1),Ae+=st,Xe+=st,++Je);for(var lt=1<<Zt.b,ar=lt-1,Ut=tt(st,Zt.b),Vr=Zt.K,Zt=Zt.w+(Je>>Zt.b)*Ut;Je<qe;){var fn=Vr,ms=Zt,Wr=1;for(uo(ue,Ae,Ze,Xe-st,1,Ze,Xe);Wr<st;){var zt=(Wr&~ar)+lt;zt>st&&(zt=st),(0,Gl[fn[ms++]>>8&15])(ue,Ae+ +Wr,Ze,Xe+Wr-st,zt-Wr,Ze,Xe+Wr),Wr=zt}Ae+=st,Xe+=st,++Je&ar||(Zt+=Ut)}Oe!=ce.nc&&n(ne,J-Ie,ne,J+(Oe-Ce-1)*Ie,Ie);break;case 1:for(Ie=ue,qe=Ae,st=(ue=ce.Ea)-(Xe=ue&~(Ze=(Ae=1<<ce.b)-1)),Je=tt(ue,ce.b),lt=ce.K,ce=ce.w+(Ce>>ce.b)*Je;Ce<Oe;){for(ar=lt,Ut=ce,Vr=new oe,Zt=qe+Xe,fn=qe+ue;qe<Zt;)pt(ar[Ut++],Vr),wc(Vr,Ie,qe,Ae,ne,J),qe+=Ae,J+=Ae;qe<fn&&(pt(ar[Ut++],Vr),wc(Vr,Ie,qe,st,ne,J),qe+=st,J+=st),++Ce&Ze||(ce+=Je)}break;case 3:if(ue==ne&&Ae==J&&0<ce.b){for(qe=ne,ue=Ie=J+(Oe-Ce)*Ie-(Xe=(Oe-Ce)*tt(ce.Ea,ce.b)),Ae=ne,Ze=J,Je=[],Xe=(st=Xe)-1;0<=Xe;--Xe)Je[Xe]=Ae[Ze+Xe];for(Xe=st-1;0<=Xe;--Xe)qe[ue+Xe]=Je[Xe];Hl(ce,Ce,Oe,ne,Ie,ne,J)}else Hl(ce,Ce,Oe,ue,Ae,ne,J)}J=R,ne=P}ne!=P&&n(R,P,J,ne,K)}function ot(h,v){var P=h.V,R=h.Ba+h.c*h.C,V=v-h.C;if(e(v<=h.l.o),e(16>=V),0<V){var K=h.l,Z=h.Ta,J=h.Ua,ne=K.width;if(rt(h,V,P,R),V=J=[J],e((P=h.C)<(R=v)),e(K.v<K.va),R>K.o&&(R=K.o),P<K.j){var ce=K.j-P;P=K.j,V[0]+=ce*ne}if(P>=R?P=0:(V[0]+=4*K.v,K.ka=P-K.j,K.U=K.va-K.v,K.T=R-P,P=1),P){if(J=J[0],11>(P=h.ca).S){var Ce=P.f.RGBA,Oe=(R=P.S,V=K.U,K=K.T,ce=Ce.eb,Ce.A),ue=K;for(Ce=Ce.fb+h.Ma*Ce.A;0<ue--;){var Ae=Z,Ie=J,Je=V,qe=ce,Ze=Ce;switch(R){case rd:bc(Ae,Ie,Je,qe,Ze);break;case pl:ko(Ae,Ie,Je,qe,Ze);break;case Cc:ko(Ae,Ie,Je,qe,Ze),Yl(qe,Ze,0,Je,1,0);break;case Bh:Kl(Ae,Ie,Je,qe,Ze);break;case vu:Rt(Ae,Ie,Je,qe,Ze,1);break;case Xl:Rt(Ae,Ie,Je,qe,Ze,1),Yl(qe,Ze,0,Je,1,0);break;case xu:Rt(Ae,Ie,Je,qe,Ze,0);break;case yu:Rt(Ae,Ie,Je,qe,Ze,0),Yl(qe,Ze,1,Je,1,0);break;case Un:dl(Ae,Ie,Je,qe,Ze);break;case wu:dl(Ae,Ie,Je,qe,Ze),vf(qe,Ze,Je,1,0);break;case nd:fl(Ae,Ie,Je,qe,Ze);break;default:e(0)}J+=ne,Ce+=Oe}h.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=P.height)}}h.C=v,e(h.C<=h.i)}function Ye(h){var v;if(0<h.ua)return 0;for(v=0;v<h.Wb;++v){var P=h.Ya[v].G,R=h.Ya[v].H;if(0<P[1][R[1]+0].g||0<P[2][R[2]+0].g||0<P[3][R[3]+0].g)return 0}return 1}function it(h,v,P,R,V,K){if(h.Z!=0){var Z=h.qd,J=h.rd;for(e(bi[h.Z]!=null);v<P;++v)bi[h.Z](Z,J,R,V,R,V,K),Z=R,J=V,V+=K;h.qd=Z,h.rd=J}}function xt(h,v){var P=h.l.ma,R=P.Z==0||P.Z==1?h.l.j:h.C;if(R=h.C<R?R:h.C,e(v<=h.l.o),v>R){var V=h.l.width,K=P.ca,Z=P.tb+V*R,J=h.V,ne=h.Ba+h.c*R,ce=h.gc;e(h.ab==1),e(ce[0].hc==3),Va(ce[0],R,v,J,ne,K,Z),it(P,R,v,K,Z,V)}h.C=h.Ma=v}function jt(h,v,P,R,V,K,Z){var J=h.$/R,ne=h.$%R,ce=h.m,Ce=h.s,Oe=P+h.$,ue=Oe;V=P+R*V;var Ae=P+R*K,Ie=280+Ce.ua,Je=h.Pb?J:16777216,qe=0<Ce.ua?Ce.Wa:null,Ze=Ce.wc,Xe=Oe<Ae?ut(Ce,ne,J):null;e(h.C<K),e(Ae<=V);var st=!1;e:for(;;){for(;st||Oe<Ae;){var lt=0;if(J>=Je){var ar=Oe-P;e((Je=h).Pb),Je.wd=Je.m,Je.xd=ar,0<Je.s.ua&&ke(Je.s.Wa,Je.s.vb),Je=J+id}if(ne&Ze||(Xe=ut(Ce,ne,J)),e(Xe!=null),Xe.Qb&&(v[Oe]=Xe.qb,st=!0),!st)if(le(ce),Xe.jc){lt=ce,ar=v;var Ut=Oe,Vr=Xe.pd[M(lt)&Pa-1];e(Xe.jc),256>Vr.g?(ie(lt,lt.u+Vr.g),ar[Ut]=Vr.value,lt=0):(ie(lt,lt.u+Vr.g-256),e(256<=Vr.value),lt=Vr.value),lt==0&&(st=!0)}else lt=At(Xe.G[0],Xe.H[0],ce);if(ce.h)break;if(st||256>lt){if(!st)if(Xe.nd)v[Oe]=(Xe.qb|lt<<8)>>>0;else{if(le(ce),st=At(Xe.G[1],Xe.H[1],ce),le(ce),ar=At(Xe.G[2],Xe.H[2],ce),Ut=At(Xe.G[3],Xe.H[3],ce),ce.h)break;v[Oe]=(Ut<<24|st<<16|lt<<8|ar)>>>0}if(st=!1,++Oe,++ne>=R&&(ne=0,++J,Z!=null&&J<=K&&!(J%16)&&Z(h,J),qe!=null))for(;ue<Oe;)lt=v[ue++],qe.X[(506832829*lt&4294967295)>>>qe.Mb]=lt}else if(280>lt){if(lt=br(lt-256,ce),ar=At(Xe.G[4],Xe.H[4],ce),le(ce),ar=ur(R,ar=br(ar,ce)),ce.h)break;if(Oe-P<ar||V-Oe<lt)break e;for(Ut=0;Ut<lt;++Ut)v[Oe+Ut]=v[Oe+Ut-ar];for(Oe+=lt,ne+=lt;ne>=R;)ne-=R,++J,Z!=null&&J<=K&&!(J%16)&&Z(h,J);if(e(Oe<=V),ne&Ze&&(Xe=ut(Ce,ne,J)),qe!=null)for(;ue<Oe;)lt=v[ue++],qe.X[(506832829*lt&4294967295)>>>qe.Mb]=lt}else{if(!(lt<Ie))break e;for(st=lt-280,e(qe!=null);ue<Oe;)lt=v[ue++],qe.X[(506832829*lt&4294967295)>>>qe.Mb]=lt;lt=Oe,e(!(st>>>(ar=qe).Xa)),v[lt]=ar.X[st],st=!0}st||e(ce.h==H(ce))}if(h.Pb&&ce.h&&Oe<V)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ke(h.s.vb,h.s.Wa);else{if(ce.h)break e;Z?.(h,J>K?K:J),h.a=0,h.$=Oe-P}return 1}return h.a=3,0}function Pt(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var v=h.Wa;v!=null&&(v.X=null),h.vb=null,e(h!=null)}function Et(){var h=new Ft;return h==null?null:(h.a=0,h.xb=Ac,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),bs=ct,wc=Tt,bc=yn,ko=Cr,dl=yr,fl=pr,Kl=Ir,Q.VP8LMapColor32b=fo,Q.VP8LMapColor8b=Wl,h)}function Lt(h,v,P,R,V){var K=1,Z=[h],J=[v],ne=R.m,ce=R.s,Ce=null,Oe=0;e:for(;;){if(P)for(;K&&j(ne,1);){var ue=Z,Ae=J,Ie=R,Je=1,qe=Ie.m,Ze=Ie.gc[Ie.ab],Xe=j(qe,2);if(Ie.Oc&1<<Xe)K=0;else{switch(Ie.Oc|=1<<Xe,Ze.hc=Xe,Ze.Ea=ue[0],Ze.nc=Ae[0],Ze.K=[null],++Ie.ab,e(4>=Ie.ab),Xe){case 0:case 1:Ze.b=j(qe,3)+2,Je=Lt(tt(Ze.Ea,Ze.b),tt(Ze.nc,Ze.b),0,Ie,Ze.K),Ze.K=Ze.K[0];break;case 3:var st,lt=j(qe,8)+1,ar=16<lt?0:4<lt?1:2<lt?2:3;if(ue[0]=tt(Ze.Ea,ar),Ze.b=ar,st=Je=Lt(lt,1,0,Ie,Ze.K)){var Ut,Vr=lt,Zt=Ze,fn=1<<(8>>Zt.b),ms=o(fn);if(ms==null)st=0;else{var Wr=Zt.K[0],zt=Zt.w;for(ms[0]=Zt.K[0][0],Ut=1;Ut<1*Vr;++Ut)ms[Ut]=yt(Wr[zt+Ut],ms[Ut-1]);for(;Ut<4*fn;++Ut)ms[Ut]=0;Zt.K[0]=null,Zt.K[0]=ms,st=1}}Je=st;break;case 2:break;default:e(0)}K=Je}}if(Z=Z[0],J=J[0],K&&j(ne,1)&&!(K=1<=(Oe=j(ne,4))&&11>=Oe)){R.a=3;break e}var kt;if(kt=K)t:{var Ns,Tr,dn,Gn=R,ei=Z,Ds=J,os=Oe,Us=P,ti=Gn.m,ts=Gn.s,pn=[null],Sn=1,rs=0,jn=Uh[os];r:for(;;){if(Us&&j(ti,1)){var gs=j(ti,3)+2,vs=tt(ei,gs),zn=tt(Ds,gs),Ni=vs*zn;if(!Lt(vs,zn,0,Gn,pn))break r;for(pn=pn[0],ts.xc=gs,Ns=0;Ns<Ni;++Ns){var Bn=pn[Ns]>>8&65535;pn[Ns]=Bn,Bn>=Sn&&(Sn=Bn+1)}}if(ti.h)break r;for(Tr=0;5>Tr;++Tr){var $n=Jl[Tr];!Tr&&0<os&&($n+=1<<os),rs<$n&&(rs=$n)}var Is=u(Sn*jn,X),mi=Sn,Zi=u(mi,we);if(Zi==null)var Ss=null;else e(65536>=mi),Ss=Zi;var js=o(rs);if(Ss==null||js==null||Is==null){Gn.a=1;break r}var Si=Is;for(Ns=dn=0;Ns<Sn;++Ns){var Vn=Ss[Ns],ji=Vn.G,Ea=Vn.H,Ga=0,ri=1,Cs=0;for(Tr=0;5>Tr;++Tr){$n=Jl[Tr],ji[Tr]=Si,Ea[Tr]=dn,!Tr&&0<os&&($n+=1<<os);s:{var vl,Ro=$n,Tc=Gn,mo=js,Wh=Si,kf=dn,Qn=0,Ka=Tc.m,Tf=j(Ka,1);if(a(mo,0,0,Ro),Tf){var Ef=j(Ka,1)+1,od=j(Ka,1),ld=j(Ka,od==0?1:8);mo[ld]=1,Ef==2&&(mo[ld=j(Ka,8)]=1);var go=1}else{var ns=o(19),Fs=j(Ka,4)+4;if(19<Fs){Tc.a=3;var _s=0;break s}for(vl=0;vl<Fs;++vl)ns[og[vl]]=j(Ka,3);var Ec=void 0,Do=void 0,Lc=Tc,hg=ns,zs=Ro,cd=mo,Cu=0,vo=Lc.m,Qa=8,fa=u(128,X);n:for(;F(fa,0,7,hg,19);){if(j(vo,1)){var _u=2+2*j(vo,3);if((Ec=2+j(vo,_u))>zs)break n}else Ec=zs;for(Do=0;Do<zs&&Ec--;){le(vo);var ud=fa[0+(127&M(vo))];ie(vo,vo.u+ud.g);var xl=ud.value;if(16>xl)cd[Do++]=xl,xl!=0&&(Qa=xl);else{var Gh=xl==16,Lf=xl-16,Kh=sd[Lf],Rf=j(vo,bu[Lf])+Kh;if(Do+Rf>zs)break n;for(var Qh=Gh?Qa:0;0<Rf--;)cd[Do++]=Qh}}Cu=1;break n}Cu||(Lc.a=3),go=Cu}(go=go&&!Ka.h)&&(Qn=F(Wh,kf,8,mo,Ro)),go&&Qn!=0?_s=Qn:(Tc.a=3,_s=0)}if(_s==0)break r;if(ri&&qh[Tr]==1&&(ri=Si[dn].g==0),Ga+=Si[dn].g,dn+=_s,3>=Tr){var Rc,dd=js[0];for(Rc=1;Rc<$n;++Rc)js[Rc]>dd&&(dd=js[Rc]);Cs+=dd}}if(Vn.nd=ri,Vn.Qb=0,ri&&(Vn.qb=(ji[3][Ea[3]+0].value<<24|ji[1][Ea[1]+0].value<<16|ji[2][Ea[2]+0].value)>>>0,Ga==0&&256>ji[0][Ea[0]+0].value&&(Vn.Qb=1,Vn.qb+=ji[0][Ea[0]+0].value<<8)),Vn.jc=!Vn.Qb&&6>Cs,Vn.jc){var Au,ha=Vn;for(Au=0;Au<Pa;++Au){var Io=Au,Za=ha.pd[Io],sc=ha.G[0][ha.H[0]+Io];256<=sc.value?(Za.g=sc.g+256,Za.value=sc.value):(Za.g=0,Za.value=0,Io>>=vr(sc,8,Za),Io>>=vr(ha.G[1][ha.H[1]+Io],16,Za),Io>>=vr(ha.G[2][ha.H[2]+Io],0,Za),vr(ha.G[3][ha.H[3]+Io],24,Za))}}}ts.vc=pn,ts.Wb=Sn,ts.Ya=Ss,ts.yc=Is,kt=1;break t}kt=0}if(!(K=kt)){R.a=3;break e}if(0<Oe){if(ce.ua=1<<Oe,!re(ce.Wa,Oe)){R.a=1,K=0;break e}}else ce.ua=0;var fd=R,hd=Z,Zh=J,pd=fd.s,md=pd.xc;if(fd.c=hd,fd.i=Zh,pd.md=tt(hd,md),pd.wc=md==0?-1:(1<<md)-1,P){R.xb=po;break e}if((Ce=o(Z*J))==null){R.a=1,K=0;break e}K=(K=jt(R,Ce,0,Z,J,J,null))&&!ne.h;break e}return K?(V!=null?V[0]=Ce:(e(Ce==null),e(P)),R.$=0,P||Pt(ce)):Pt(ce),K}function $t(h,v){var P=h.c*h.i,R=P+v+16*v;return e(h.c<=v),h.V=o(R),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+P+v,1)}function Kt(h,v){var P=h.C,R=v-P,V=h.V,K=h.Ba+h.c*P;for(e(v<=h.l.o);0<R;){var Z=16<R?16:R,J=h.l.ma,ne=h.l.width,ce=ne*Z,Ce=J.ca,Oe=J.tb+ne*P,ue=h.Ta,Ae=h.Ua;rt(h,Z,V,K),xf(ue,Ae,Ce,Oe,ce),it(J,P,P+Z,Ce,Oe,ne),R-=Z,V+=Z*h.c,P+=Z}e(P==v),h.C=h.Ma=v}function Ht(){this.ub=this.yd=this.td=this.Rb=0}function Yt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _r(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Nr(){this.Yb=(function(){var h=[];return(function v(P,R,V){for(var K=V[R],Z=0;Z<K&&(P.push(V.length>R+1?[]:0),!(V.length<R+1));Z++)v(P[Z],R+1,V)})(h,0,[3,11]),h})()}function Br(){this.jb=o(3),this.Wc=c([4,8],Nr),this.Xc=c([4,17],Nr)}function qr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function er(){this.ld=this.La=this.dd=this.tc=0}function ir(){this.Na=this.la=0}function Kr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qt(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dr(){this.uc=this.M=this.Nb=0,this.wa=Array(new er),this.Y=0,this.ya=Array(new Qt),this.aa=0,this.l=new ai}function Jr(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ts(){this.cb=this.a=0,this.sc="",this.m=new x,this.Od=new Ht,this.Kc=new Yt,this.ed=new qr,this.Qa=new _r,this.Ic=this.$c=this.Aa=0,this.D=new dr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,x),this.ia=0,this.pb=u(4,Kr),this.Pa=new Br,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jr),this.Hd=0,this.rb=Array(new ir),this.sb=0,this.wa=Array(new er),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qt),this.L=this.aa=0,this.gd=c([4,2],er),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bn(h,v){return 0>h?0:h>v?v:h}function ai(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ei(){var h=new Ts;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,ec||(ec=oi)),h}function Yr(h,v,P){return h.a==0&&(h.a=v,h.sc=P,h.cb=0),0}function En(h,v,P){return 3<=P&&h[v+0]==157&&h[v+1]==1&&h[v+2]==42}function gn(h,v){if(h==null)return 0;if(h.a=0,h.sc="OK",v==null)return Yr(h,2,"null VP8Io passed to VP8GetHeaders()");var P=v.data,R=v.w,V=v.ha;if(4>V)return Yr(h,7,"Truncated header.");var K=P[R+0]|P[R+1]<<8|P[R+2]<<16,Z=h.Od;if(Z.Rb=!(1&K),Z.td=K>>1&7,Z.yd=K>>4&1,Z.ub=K>>5,3<Z.td)return Yr(h,3,"Incorrect keyframe parameters.");if(!Z.yd)return Yr(h,4,"Frame not displayable.");R+=3,V-=3;var J=h.Kc;if(Z.Rb){if(7>V)return Yr(h,7,"cannot parse picture header");if(!En(P,R,V))return Yr(h,3,"Bad code word");J.c=16383&(P[R+4]<<8|P[R+3]),J.Td=P[R+4]>>6,J.i=16383&(P[R+6]<<8|P[R+5]),J.Ud=P[R+6]>>6,R+=7,V-=7,h.za=J.c+15>>4,h.Ub=J.i+15>>4,v.width=J.c,v.height=J.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((K=h.Pa).jb,0,255,K.jb.length),e((K=h.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(Z.ub>V)return Yr(h,7,"bad partition length");ye(K=h.m,P,R,Z.ub),R+=Z.ub,V-=Z.ub,Z.Rb&&(J.Ld=je(K),J.Kd=je(K)),J=h.Qa;var ne,ce=h.Pa;if(e(K!=null),e(J!=null),J.Cb=je(K),J.Cb){if(J.Bb=je(K),je(K)){for(J.Fb=je(K),ne=0;4>ne;++ne)J.Zb[ne]=je(K)?se(K,7):0;for(ne=0;4>ne;++ne)J.Lb[ne]=je(K)?se(K,6):0}if(J.Bb)for(ne=0;3>ne;++ne)ce.jb[ne]=je(K)?xe(K,8):255}else J.Bb=0;if(K.Ka)return Yr(h,3,"cannot parse segment header");if((J=h.ed).zd=je(K),J.Tb=xe(K,6),J.wb=xe(K,3),J.Pc=je(K),J.Pc&&je(K)){for(ce=0;4>ce;++ce)je(K)&&(J.vd[ce]=se(K,6));for(ce=0;4>ce;++ce)je(K)&&(J.od[ce]=se(K,6))}if(h.L=J.Tb==0?0:J.zd?1:2,K.Ka)return Yr(h,3,"cannot parse filter header");var Ce=V;if(V=ne=R,R=ne+Ce,J=Ce,h.Xb=(1<<xe(h.m,2))-1,Ce<3*(ce=h.Xb))P=7;else{for(ne+=3*ce,J-=3*ce,Ce=0;Ce<ce;++Ce){var Oe=P[V+0]|P[V+1]<<8|P[V+2]<<16;Oe>J&&(Oe=J),ye(h.Jc[+Ce],P,ne,Oe),ne+=Oe,J-=Oe,V+=3}ye(h.Jc[+ce],P,ne,J),P=ne<R?0:5}if(P!=0)return Yr(h,P,"cannot parse partitions");for(P=xe(ne=h.m,7),V=je(ne)?se(ne,4):0,R=je(ne)?se(ne,4):0,J=je(ne)?se(ne,4):0,ce=je(ne)?se(ne,4):0,ne=je(ne)?se(ne,4):0,Ce=h.Qa,Oe=0;4>Oe;++Oe){if(Ce.Cb){var ue=Ce.Zb[Oe];Ce.Fb||(ue+=P)}else{if(0<Oe){h.pb[Oe]=h.pb[0];continue}ue=P}var Ae=h.pb[Oe];Ae.Sc[0]=_c[bn(ue+V,127)],Ae.Sc[1]=Nu[bn(ue+0,127)],Ae.Eb[0]=2*_c[bn(ue+R,127)],Ae.Eb[1]=101581*Nu[bn(ue+J,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=_c[bn(ue+ce,117)],Ae.Qc[1]=Nu[bn(ue+ne,127)],Ae.lc=ue+ne}if(!Z.Rb)return Yr(h,4,"Not a key frame.");for(je(K),Z=h.Pa,P=0;4>P;++P){for(V=0;8>V;++V)for(R=0;3>R;++R)for(J=0;11>J;++J)ce=Te(K,ug[P][V][R][J])?xe(K,8):$h[P][V][R][J],Z.Wc[P][V].Yb[R][J]=ce;for(V=0;17>V;++V)Z.Xc[P][V]=Z.Wc[P][_f[V]]}return h.kc=je(K),h.kc&&(h.Bd=xe(K,8)),h.cb=1}function oi(h,v,P,R,V,K,Z){var J=v[V].Yb[P];for(P=0;16>V;++V){if(!Te(h,J[P+0]))return V;for(;!Te(h,J[P+1]);)if(J=v[++V].Yb[0],P=0,V==16)return 16;var ne=v[V+1].Yb;if(Te(h,J[P+2])){var ce=h,Ce=0;if(Te(ce,(ue=J)[(Oe=P)+3]))if(Te(ce,ue[Oe+6])){for(J=0,Oe=2*(Ce=Te(ce,ue[Oe+8]))+(ue=Te(ce,ue[Oe+9+Ce])),Ce=0,ue=jf[Oe];ue[J];++J)Ce+=Ce+Te(ce,ue[J]);Ce+=3+(8<<Oe)}else Te(ce,ue[Oe+7])?(Ce=7+2*Te(ce,165),Ce+=Te(ce,145)):Ce=5+Te(ce,159);else Ce=Te(ce,ue[Oe+4])?3+Te(ce,ue[Oe+5]):2;J=ne[2]}else Ce=1,J=ne[1];ne=Z+Cf[V],0>(ce=h).b&&ve(ce);var Oe,ue=ce.b,Ae=(Oe=ce.Ca>>1)-(ce.I>>ue)>>31;--ce.b,ce.Ca+=Ae,ce.Ca|=1,ce.I-=(Oe+1&Ae)<<ue,K[ne]=((Ce^Ae)-Ae)*R[(0<V)+0]}return 16}function ao(h){var v=h.rb[h.sb-1];v.la=0,v.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function $i(h,v,P,R,V){V=h[v+P+32*R]+(V>>3),h[v+P+32*R]=-256&V?0>V?0:255:V}function ys(h,v,P,R,V,K){$i(h,v,0,P,R+V),$i(h,v,1,P,R+K),$i(h,v,2,P,R-K),$i(h,v,3,P,R-V)}function oa(h){return(20091*h>>16)+h}function Ol(h,v,P,R){var V,K=0,Z=o(16);for(V=0;4>V;++V){var J=h[v+0]+h[v+8],ne=h[v+0]-h[v+8],ce=(35468*h[v+4]>>16)-oa(h[v+12]),Ce=oa(h[v+4])+(35468*h[v+12]>>16);Z[K+0]=J+Ce,Z[K+1]=ne+ce,Z[K+2]=ne-ce,Z[K+3]=J-Ce,K+=4,v++}for(V=K=0;4>V;++V)J=(h=Z[K+0]+4)+Z[K+8],ne=h-Z[K+8],ce=(35468*Z[K+4]>>16)-oa(Z[K+12]),$i(P,R,0,0,J+(Ce=oa(Z[K+4])+(35468*Z[K+12]>>16))),$i(P,R,1,0,ne+ce),$i(P,R,2,0,ne-ce),$i(P,R,3,0,J-Ce),K++,R+=32}function Ml(h,v,P,R){var V=h[v+0]+4,K=35468*h[v+4]>>16,Z=oa(h[v+4]),J=35468*h[v+1]>>16;ys(P,R,0,V+Z,h=oa(h[v+1]),J),ys(P,R,1,V+K,h,J),ys(P,R,2,V-K,h,J),ys(P,R,3,V-Z,h,J)}function ws(h,v,P,R,V){Ol(h,v,P,R),V&&Ol(h,v+16,P,R+4)}function q(h,v,P,R){Ql(h,v+0,P,R,1),Ql(h,v+32,P,R+128,1)}function pe(h,v,P,R){var V;for(h=h[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)$i(P,R,v,V,h)}function he(h,v,P,R){h[v+0]&&Nn(h,v+0,P,R),h[v+16]&&Nn(h,v+16,P,R+4),h[v+32]&&Nn(h,v+32,P,R+128),h[v+48]&&Nn(h,v+48,P,R+128+4)}function De(h,v,P,R){var V,K=o(16);for(V=0;4>V;++V){var Z=h[v+0+V]+h[v+12+V],J=h[v+4+V]+h[v+8+V],ne=h[v+4+V]-h[v+8+V],ce=h[v+0+V]-h[v+12+V];K[0+V]=Z+J,K[8+V]=Z-J,K[4+V]=ce+ne,K[12+V]=ce-ne}for(V=0;4>V;++V)Z=(h=K[0+4*V]+3)+K[3+4*V],J=K[1+4*V]+K[2+4*V],ne=K[1+4*V]-K[2+4*V],ce=h-K[3+4*V],P[R+0]=Z+J>>3,P[R+16]=ce+ne>>3,P[R+32]=Z-J>>3,P[R+48]=ce-ne>>3,R+=64}function Se(h,v,P){var R,V=v-32,K=Oi,Z=255-h[V-1];for(R=0;R<P;++R){var J,ne=K,ce=Z+h[v-1];for(J=0;J<P;++J)h[v+J]=ne[ce+h[V+J]];v+=32}}function cr(h,v){Se(h,v,4)}function es(h,v){Se(h,v,8)}function gr(h,v){Se(h,v,16)}function Wn(h,v){var P;for(P=0;16>P;++P)n(h,v+32*P,h,v-32,16)}function li(h,v){var P;for(P=16;0<P;--P)a(h,v,h[v-1],16),v+=32}function ds(h,v,P){var R;for(R=0;16>R;++R)a(v,P+32*R,h,16)}function ci(h,v){var P,R=16;for(P=0;16>P;++P)R+=h[v-1+32*P]+h[v+P-32];ds(R>>5,h,v)}function fs(h,v){var P,R=8;for(P=0;16>P;++P)R+=h[v-1+32*P];ds(R>>4,h,v)}function ui(h,v){var P,R=8;for(P=0;16>P;++P)R+=h[v+P-32];ds(R>>4,h,v)}function Ua(h,v){ds(128,h,v)}function Qe(h,v,P){return h+2*v+P+2>>2}function $r(h,v){var P,R=v-32;for(R=new Uint8Array([Qe(h[R-1],h[R+0],h[R+1]),Qe(h[R+0],h[R+1],h[R+2]),Qe(h[R+1],h[R+2],h[R+3]),Qe(h[R+2],h[R+3],h[R+4])]),P=0;4>P;++P)n(h,v+32*P,R,0,R.length)}function Bl(h,v){var P=h[v-1],R=h[v-1+32],V=h[v-1+64],K=h[v-1+96];Ge(h,v+0,16843009*Qe(h[v-1-32],P,R)),Ge(h,v+32,16843009*Qe(P,R,V)),Ge(h,v+64,16843009*Qe(R,V,K)),Ge(h,v+96,16843009*Qe(V,K,K))}function nl(h,v){var P,R=4;for(P=0;4>P;++P)R+=h[v+P-32]+h[v-1+32*P];for(R>>=3,P=0;4>P;++P)a(h,v+32*P,R,4)}function di(h,v){var P=h[v-1+0],R=h[v-1+32],V=h[v-1+64],K=h[v-1-32],Z=h[v+0-32],J=h[v+1-32],ne=h[v+2-32],ce=h[v+3-32];h[v+0+96]=Qe(R,V,h[v-1+96]),h[v+1+96]=h[v+0+64]=Qe(P,R,V),h[v+2+96]=h[v+1+64]=h[v+0+32]=Qe(K,P,R),h[v+3+96]=h[v+2+64]=h[v+1+32]=h[v+0+0]=Qe(Z,K,P),h[v+3+64]=h[v+2+32]=h[v+1+0]=Qe(J,Z,K),h[v+3+32]=h[v+2+0]=Qe(ne,J,Z),h[v+3+0]=Qe(ce,ne,J)}function la(h,v){var P=h[v+1-32],R=h[v+2-32],V=h[v+3-32],K=h[v+4-32],Z=h[v+5-32],J=h[v+6-32],ne=h[v+7-32];h[v+0+0]=Qe(h[v+0-32],P,R),h[v+1+0]=h[v+0+32]=Qe(P,R,V),h[v+2+0]=h[v+1+32]=h[v+0+64]=Qe(R,V,K),h[v+3+0]=h[v+2+32]=h[v+1+64]=h[v+0+96]=Qe(V,K,Z),h[v+3+32]=h[v+2+64]=h[v+1+96]=Qe(K,Z,J),h[v+3+64]=h[v+2+96]=Qe(Z,J,ne),h[v+3+96]=Qe(J,ne,ne)}function za(h,v){var P=h[v-1+0],R=h[v-1+32],V=h[v-1+64],K=h[v-1-32],Z=h[v+0-32],J=h[v+1-32],ne=h[v+2-32],ce=h[v+3-32];h[v+0+0]=h[v+1+64]=K+Z+1>>1,h[v+1+0]=h[v+2+64]=Z+J+1>>1,h[v+2+0]=h[v+3+64]=J+ne+1>>1,h[v+3+0]=ne+ce+1>>1,h[v+0+96]=Qe(V,R,P),h[v+0+64]=Qe(R,P,K),h[v+0+32]=h[v+1+96]=Qe(P,K,Z),h[v+1+32]=h[v+2+96]=Qe(K,Z,J),h[v+2+32]=h[v+3+96]=Qe(Z,J,ne),h[v+3+32]=Qe(J,ne,ce)}function Dn(h,v){var P=h[v+0-32],R=h[v+1-32],V=h[v+2-32],K=h[v+3-32],Z=h[v+4-32],J=h[v+5-32],ne=h[v+6-32],ce=h[v+7-32];h[v+0+0]=P+R+1>>1,h[v+1+0]=h[v+0+64]=R+V+1>>1,h[v+2+0]=h[v+1+64]=V+K+1>>1,h[v+3+0]=h[v+2+64]=K+Z+1>>1,h[v+0+32]=Qe(P,R,V),h[v+1+32]=h[v+0+96]=Qe(R,V,K),h[v+2+32]=h[v+1+96]=Qe(V,K,Z),h[v+3+32]=h[v+2+96]=Qe(K,Z,J),h[v+3+64]=Qe(Z,J,ne),h[v+3+96]=Qe(J,ne,ce)}function as(h,v){var P=h[v-1+0],R=h[v-1+32],V=h[v-1+64],K=h[v-1+96];h[v+0+0]=P+R+1>>1,h[v+2+0]=h[v+0+32]=R+V+1>>1,h[v+2+32]=h[v+0+64]=V+K+1>>1,h[v+1+0]=Qe(P,R,V),h[v+3+0]=h[v+1+32]=Qe(R,V,K),h[v+3+32]=h[v+1+64]=Qe(V,K,K),h[v+3+64]=h[v+2+64]=h[v+0+96]=h[v+1+96]=h[v+2+96]=h[v+3+96]=K}function Li(h,v){var P=h[v-1+0],R=h[v-1+32],V=h[v-1+64],K=h[v-1+96],Z=h[v-1-32],J=h[v+0-32],ne=h[v+1-32],ce=h[v+2-32];h[v+0+0]=h[v+2+32]=P+Z+1>>1,h[v+0+32]=h[v+2+64]=R+P+1>>1,h[v+0+64]=h[v+2+96]=V+R+1>>1,h[v+0+96]=K+V+1>>1,h[v+3+0]=Qe(J,ne,ce),h[v+2+0]=Qe(Z,J,ne),h[v+1+0]=h[v+3+32]=Qe(P,Z,J),h[v+1+32]=h[v+3+64]=Qe(R,P,Z),h[v+1+64]=h[v+3+96]=Qe(V,R,P),h[v+1+96]=Qe(K,V,R)}function Es(h,v){var P;for(P=0;8>P;++P)n(h,v+32*P,h,v-32,8)}function So(h,v){var P;for(P=0;8>P;++P)a(h,v,h[v-1],8),v+=32}function yi(h,v,P){var R;for(R=0;8>R;++R)a(v,P+32*R,h,8)}function jo(h,v){var P,R=8;for(P=0;8>P;++P)R+=h[v+P-32]+h[v-1+32*P];yi(R>>4,h,v)}function ql(h,v){var P,R=4;for(P=0;8>P;++P)R+=h[v+P-32];yi(R>>3,h,v)}function Ul(h,v){var P,R=4;for(P=0;8>P;++P)R+=h[v-1+32*P];yi(R>>3,h,v)}function oo(h,v){yi(128,h,v)}function Ri(h,v,P){var R=h[v-P],V=h[v+0],K=3*(V-R)+ho[1020+h[v-2*P]-h[v+P]],Z=jc[112+(K+4>>3)];h[v-P]=Oi[255+R+jc[112+(K+3>>3)]],h[v+0]=Oi[255+V-Z]}function Zs(h,v,P,R){var V=h[v+0],K=h[v+P];return ka[255+h[v-2*P]-h[v-P]]>R||ka[255+K-V]>R}function Ys(h,v,P,R){return 4*ka[255+h[v-P]-h[v+0]]+ka[255+h[v-2*P]-h[v+P]]<=R}function Di(h,v,P,R,V){var K=h[v-3*P],Z=h[v-2*P],J=h[v-P],ne=h[v+0],ce=h[v+P],Ce=h[v+2*P],Oe=h[v+3*P];return 4*ka[255+J-ne]+ka[255+Z-ce]>R?0:ka[255+h[v-4*P]-K]<=V&&ka[255+K-Z]<=V&&ka[255+Z-J]<=V&&ka[255+Oe-Ce]<=V&&ka[255+Ce-ce]<=V&&ka[255+ce-ne]<=V}function _a(h,v,P,R){var V=2*R+1;for(R=0;16>R;++R)Ys(h,v+R,P,V)&&Ri(h,v+R,P)}function Ls(h,v,P,R){var V=2*R+1;for(R=0;16>R;++R)Ys(h,v+R*P,1,V)&&Ri(h,v+R*P,1)}function fi(h,v,P,R){var V;for(V=3;0<V;--V)_a(h,v+=4*P,P,R)}function Xs(h,v,P,R){var V;for(V=3;0<V;--V)Ls(h,v+=4,P,R)}function wi(h,v,P,R,V,K,Z,J){for(K=2*K+1;0<V--;){if(Di(h,v,P,K,Z))if(Zs(h,v,P,J))Ri(h,v,P);else{var ne=h,ce=v,Ce=P,Oe=ne[ce-2*Ce],ue=ne[ce-Ce],Ae=ne[ce+0],Ie=ne[ce+Ce],Je=ne[ce+2*Ce],qe=27*(Xe=ho[1020+3*(Ae-ue)+ho[1020+Oe-Ie]])+63>>7,Ze=18*Xe+63>>7,Xe=9*Xe+63>>7;ne[ce-3*Ce]=Oi[255+ne[ce-3*Ce]+Xe],ne[ce-2*Ce]=Oi[255+Oe+Ze],ne[ce-Ce]=Oi[255+ue+qe],ne[ce+0]=Oi[255+Ae-qe],ne[ce+Ce]=Oi[255+Ie-Ze],ne[ce+2*Ce]=Oi[255+Je-Xe]}v+=R}}function Aa(h,v,P,R,V,K,Z,J){for(K=2*K+1;0<V--;){if(Di(h,v,P,K,Z))if(Zs(h,v,P,J))Ri(h,v,P);else{var ne=h,ce=v,Ce=P,Oe=ne[ce-Ce],ue=ne[ce+0],Ae=ne[ce+Ce],Ie=jc[112+(4+(Je=3*(ue-Oe))>>3)],Je=jc[112+(Je+3>>3)],qe=Ie+1>>1;ne[ce-2*Ce]=Oi[255+ne[ce-2*Ce]+qe],ne[ce-Ce]=Oi[255+Oe+Je],ne[ce+0]=Oi[255+ue-Ie],ne[ce+Ce]=Oi[255+Ae-qe]}v+=R}}function Js(h,v,P,R,V,K){wi(h,v,P,1,16,R,V,K)}function Vi(h,v,P,R,V,K){wi(h,v,1,P,16,R,V,K)}function sl(h,v,P,R,V,K){var Z;for(Z=3;0<Z;--Z)Aa(h,v+=4*P,P,1,16,R,V,K)}function b(h,v,P,R,V,K){var Z;for(Z=3;0<Z;--Z)Aa(h,v+=4,1,P,16,R,V,K)}function $(h,v,P,R,V,K,Z,J){wi(h,v,V,1,8,K,Z,J),wi(P,R,V,1,8,K,Z,J)}function de(h,v,P,R,V,K,Z,J){wi(h,v,1,V,8,K,Z,J),wi(P,R,1,V,8,K,Z,J)}function be(h,v,P,R,V,K,Z,J){Aa(h,v+4*V,V,1,8,K,Z,J),Aa(P,R+4*V,V,1,8,K,Z,J)}function Ee(h,v,P,R,V,K,Z,J){Aa(h,v+4,1,V,8,K,Z,J),Aa(P,R+4,1,V,8,K,Z,J)}function Le(){this.ba=new fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new Ve,this.vb=new Ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new X}function Ft(){this.xb=this.a=0,this.l=new ai,this.ca=new fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=u(4,ft),this.Oc=0}function tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ai,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lr(h,v,P,R,V,K,Z){for(h=h==null?0:h[v+0],v=0;v<Z;++v)V[K+v]=h+P[R+v]&255,h=V[K+v]}function un(h,v,P,R,V,K,Z){var J;if(h==null)Lr(null,null,P,R,V,K,Z);else for(J=0;J<Z;++J)V[K+J]=h[v+J]+P[R+J]&255}function vn(h,v,P,R,V,K,Z){if(h==null)Lr(null,null,P,R,V,K,Z);else{var J,ne=h[v+0],ce=ne,Ce=ne;for(J=0;J<Z;++J)ce=Ce+(ne=h[v+J])-ce,Ce=P[R+J]+(-256&ce?0>ce?0:255:ce)&255,ce=ne,V[K+J]=Ce}}function Qr(h,v,P,R){var V=v.width,K=v.o;if(e(h!=null&&v!=null),0>P||0>=R||P+R>K)return null;if(!h.Cc){if(h.ga==null){var Z;if(h.ga=new tr,(Z=h.ga==null)||(Z=v.width*v.o,e(h.Gb.length==0),h.Gb=o(Z),h.Uc=0,h.Gb==null?Z=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,Z=1),Z=!Z),!Z){Z=h.ga;var J=h.Fa,ne=h.P,ce=h.qc,Ce=h.mb,Oe=h.nb,ue=ne+1,Ae=ce-1,Ie=Z.l;if(e(J!=null&&Ce!=null&&v!=null),bi[0]=null,bi[1]=Lr,bi[2]=un,bi[3]=vn,Z.ca=Ce,Z.tb=Oe,Z.c=v.width,Z.i=v.height,e(0<Z.c&&0<Z.i),1>=ce)v=0;else if(Z.$a=3&J[ne+0],Z.Z=J[ne+0]>>2&3,Z.Lc=J[ne+0]>>4&3,ne=J[ne+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||ne)v=0;else if(Ie.put=Gt,Ie.ac=us,Ie.bc=Tn,Ie.ma=Z,Ie.width=v.width,Ie.height=v.height,Ie.Da=v.Da,Ie.v=v.v,Ie.va=v.va,Ie.j=v.j,Ie.o=v.o,Z.$a)e:{e(Z.$a==1),v=Et();t:for(;;){if(v==null){v=0;break e}if(e(Z!=null),Z.mc=v,v.c=Z.c,v.i=Z.i,v.l=Z.l,v.l.ma=Z,v.l.width=Z.c,v.l.height=Z.i,v.a=0,me(v.m,J,ue,Ae),!Lt(Z.c,Z.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ye(v.s)?(Z.ic=1,J=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(J),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Z.ic=0,v=$t(v,Z.c)),!v))break t;v=1;break e}Z.mc=null,v=0}else v=Ae>=Z.c*Z.i;Z=!v}if(Z)return null;h.ga.Lc!=1?h.Ga=0:R=K-P}e(h.ga!=null),e(P+R<=K);e:{if(v=(J=h.ga).c,K=J.l.o,J.$a==0){if(ue=h.rc,Ae=h.Vc,Ie=h.Fa,ne=h.P+1+P*v,ce=h.mb,Ce=h.nb+P*v,e(ne<=h.P+h.qc),J.Z!=0)for(e(bi[J.Z]!=null),Z=0;Z<R;++Z)bi[J.Z](ue,Ae,Ie,ne,ce,Ce,v),ue=ce,Ae=Ce,Ce+=v,ne+=v;else for(Z=0;Z<R;++Z)n(ce,Ce,Ie,ne,v),ue=ce,Ae=Ce,Ce+=v,ne+=v;h.rc=ue,h.Vc=Ae}else{if(e(J.mc!=null),v=P+R,e((Z=J.mc)!=null),e(v<=Z.i),Z.C>=v)v=1;else if(J.ic||qs(),J.ic){J=Z.V,ue=Z.Ba,Ae=Z.c;var Je=Z.i,qe=(Ie=1,ne=Z.$/Ae,ce=Z.$%Ae,Ce=Z.m,Oe=Z.s,Z.$),Ze=Ae*Je,Xe=Ae*v,st=Oe.wc,lt=qe<Xe?ut(Oe,ce,ne):null;e(qe<=Ze),e(v<=Je),e(Ye(Oe));t:for(;;){for(;!Ce.h&&qe<Xe;){if(ce&st||(lt=ut(Oe,ce,ne)),e(lt!=null),le(Ce),256>(Je=At(lt.G[0],lt.H[0],Ce)))J[ue+qe]=Je,++qe,++ce>=Ae&&(ce=0,++ne<=v&&!(ne%16)&&xt(Z,ne));else{if(!(280>Je)){Ie=0;break t}Je=br(Je-256,Ce);var ar,Ut=At(lt.G[4],lt.H[4],Ce);if(le(Ce),!(qe>=(Ut=ur(Ae,Ut=br(Ut,Ce)))&&Ze-qe>=Je)){Ie=0;break t}for(ar=0;ar<Je;++ar)J[ue+qe+ar]=J[ue+qe+ar-Ut];for(qe+=Je,ce+=Je;ce>=Ae;)ce-=Ae,++ne<=v&&!(ne%16)&&xt(Z,ne);qe<Xe&&ce&st&&(lt=ut(Oe,ce,ne))}e(Ce.h==H(Ce))}xt(Z,ne>v?v:ne);break t}!Ie||Ce.h&&qe<Ze?(Ie=0,Z.a=Ce.h?5:3):Z.$=qe,v=Ie}else v=jt(Z,Z.V,Z.Ba,Z.c,Z.i,v,Kt);if(!v){R=0;break e}}P+R>=K&&(h.Cc=1),R=1}if(!R)return null;if(h.Cc&&((R=h.ga)!=null&&(R.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+P*V}function An(h,v,P,R,V,K){for(;0<V--;){var Z,J=h,ne=v+(P?1:0),ce=h,Ce=v+(P?0:3);for(Z=0;Z<R;++Z){var Oe=ce[Ce+4*Z];Oe!=255&&(Oe*=32897,J[ne+4*Z+0]=J[ne+4*Z+0]*Oe>>23,J[ne+4*Z+1]=J[ne+4*Z+1]*Oe>>23,J[ne+4*Z+2]=J[ne+4*Z+2]*Oe>>23)}v+=K}}function In(h,v,P,R,V){for(;0<R--;){var K;for(K=0;K<P;++K){var Z=h[v+2*K+0],J=15&(ce=h[v+2*K+1]),ne=4369*J,ce=(240&ce|ce>>4)*ne>>16;h[v+2*K+0]=(240&Z|Z>>4)*ne>>16&240|(15&Z|Z<<4)*ne>>16>>4&15,h[v+2*K+1]=240&ce|J}v+=V}}function Fn(h,v,P,R,V,K,Z,J){var ne,ce,Ce=255;for(ce=0;ce<V;++ce){for(ne=0;ne<R;++ne){var Oe=h[v+ne];K[Z+4*ne]=Oe,Ce&=Oe}v+=P,Z+=J}return Ce!=255}function Ot(h,v,P,R,V){var K;for(K=0;K<V;++K)P[R+K]=h[v+K]>>8}function qs(){Yl=An,vf=In,gu=Fn,xf=Ot}function Ii(h,v,P){Q[h]=function(R,V,K,Z,J,ne,ce,Ce,Oe,ue,Ae,Ie,Je,qe,Ze,Xe,st){var lt,ar=st-1>>1,Ut=J[ne+0]|ce[Ce+0]<<16,Vr=Oe[ue+0]|Ae[Ie+0]<<16;e(R!=null);var Zt=3*Ut+Vr+131074>>2;for(v(R[V+0],255&Zt,Zt>>16,Je,qe),K!=null&&(Zt=3*Vr+Ut+131074>>2,v(K[Z+0],255&Zt,Zt>>16,Ze,Xe)),lt=1;lt<=ar;++lt){var fn=J[ne+lt]|ce[Ce+lt]<<16,ms=Oe[ue+lt]|Ae[Ie+lt]<<16,Wr=Ut+fn+Vr+ms+524296,zt=Wr+2*(fn+Vr)>>3;Zt=zt+Ut>>1,Ut=(Wr=Wr+2*(Ut+ms)>>3)+fn>>1,v(R[V+2*lt-1],255&Zt,Zt>>16,Je,qe+(2*lt-1)*P),v(R[V+2*lt-0],255&Ut,Ut>>16,Je,qe+(2*lt-0)*P),K!=null&&(Zt=Wr+Vr>>1,Ut=zt+ms>>1,v(K[Z+2*lt-1],255&Zt,Zt>>16,Ze,Xe+(2*lt-1)*P),v(K[Z+2*lt+0],255&Ut,Ut>>16,Ze,Xe+(2*lt+0)*P)),Ut=fn,Vr=ms}1&st||(Zt=3*Ut+Vr+131074>>2,v(R[V+st-1],255&Zt,Zt>>16,Je,qe+(st-1)*P),K!=null&&(Zt=3*Vr+Ut+131074>>2,v(K[Z+st-1],255&Zt,Zt>>16,Ze,Xe+(st-1)*P)))}}function Co(){Gi[rd]=dg,Gi[pl]=ml,Gi[Bh]=fg,Gi[vu]=Pc,Gi[xu]=tc,Gi[Un]=Su,Gi[nd]=Af,Gi[Cc]=ml,Gi[Xl]=Pc,Gi[yu]=tc,Gi[wu]=Su}function il(h){return h&-16384?0>h?0:255:h>>gl}function al(h,v){return il((19077*h>>8)+(26149*v>>8)-14234)}function zl(h,v,P){return il((19077*h>>8)-(6419*v>>8)-(13320*P>>8)+8708)}function ol(h,v){return il((19077*h>>8)+(33050*v>>8)-17685)}function ll(h,v,P,R,V){R[V+0]=al(h,P),R[V+1]=zl(h,v,P),R[V+2]=ol(h,v)}function hi(h,v,P,R,V){R[V+0]=ol(h,v),R[V+1]=zl(h,v,P),R[V+2]=al(h,P)}function $l(h,v,P,R,V){var K=zl(h,v,P);v=K<<3&224|ol(h,v)>>3,R[V+0]=248&al(h,P)|K>>5,R[V+1]=v}function Vl(h,v,P,R,V){var K=240&ol(h,v)|15;R[V+0]=240&al(h,P)|zl(h,v,P)>>4,R[V+1]=K}function fu(h,v,P,R,V){R[V+0]=255,ll(h,v,P,R,V+1)}function hu(h,v,P,R,V){hi(h,v,P,R,V),R[V+3]=255}function Fi(h,v,P,R,V){ll(h,v,P,R,V),R[V+3]=255}function $a(h,v,P){Q[h]=function(R,V,K,Z,J,ne,ce,Ce,Oe){for(var ue=Ce+(-2&Oe)*P;Ce!=ue;)v(R[V+0],K[Z+0],J[ne+0],ce,Ce),v(R[V+1],K[Z+0],J[ne+0],ce,Ce+P),V+=2,++Z,++ne,Ce+=2*P;1&Oe&&v(R[V+0],K[Z+0],J[ne+0],ce,Ce)}}function lo(h,v,P){return P==0?h==0?v==0?6:5:v==0?4:0:P}function Ju(h,v,P,R,V){switch(h>>>30){case 3:Ql(v,P,R,V,0);break;case 2:hs(v,P,R,V);break;case 1:Nn(v,P,R,V)}}function ca(h,v){var P,R,V=v.M,K=v.Nb,Z=h.oc,J=h.pc+40,ne=h.oc,ce=h.pc+584,Ce=h.oc,Oe=h.pc+600;for(P=0;16>P;++P)Z[J+32*P-1]=129;for(P=0;8>P;++P)ne[ce+32*P-1]=129,Ce[Oe+32*P-1]=129;for(0<V?Z[J-1-32]=ne[ce-1-32]=Ce[Oe-1-32]=129:(a(Z,J-32-1,127,21),a(ne,ce-32-1,127,9),a(Ce,Oe-32-1,127,9)),R=0;R<h.za;++R){var ue=v.ya[v.aa+R];if(0<R){for(P=-1;16>P;++P)n(Z,J+32*P-4,Z,J+32*P+12,4);for(P=-1;8>P;++P)n(ne,ce+32*P-4,ne,ce+32*P+4,4),n(Ce,Oe+32*P-4,Ce,Oe+32*P+4,4)}var Ae=h.Gd,Ie=h.Hd+R,Je=ue.ad,qe=ue.Hc;if(0<V&&(n(Z,J-32,Ae[Ie].y,0,16),n(ne,ce-32,Ae[Ie].f,0,8),n(Ce,Oe-32,Ae[Ie].ea,0,8)),ue.Za){var Ze=Z,Xe=J-32+16;for(0<V&&(R>=h.za-1?a(Ze,Xe,Ae[Ie].y[15],4):n(Ze,Xe,Ae[Ie+1].y,0,4)),P=0;4>P;P++)Ze[Xe+128+P]=Ze[Xe+256+P]=Ze[Xe+384+P]=Ze[Xe+0+P];for(P=0;16>P;++P,qe<<=2)Ze=Z,Xe=J+Pf[P],Ta[ue.Ob[P]](Ze,Xe),Ju(qe,Je,16*+P,Ze,Xe)}else if(Ze=lo(R,V,ue.Ob[0]),Mi[Ze](Z,J),qe!=0)for(P=0;16>P;++P,qe<<=2)Ju(qe,Je,16*+P,Z,J+Pf[P]);for(P=ue.Gc,Ze=lo(R,V,ue.Dd),Wi[Ze](ne,ce),Wi[Ze](Ce,Oe),qe=Je,Ze=ne,Xe=ce,255&(ue=0|P)&&(170&ue?Hi(qe,256,Ze,Xe):On(qe,256,Ze,Xe)),ue=Ce,qe=Oe,255&(P>>=8)&&(170&P?Hi(Je,320,ue,qe):On(Je,320,ue,qe)),V<h.Ub-1&&(n(Ae[Ie].y,0,Z,J+480,16),n(Ae[Ie].f,0,ne,ce+224,8),n(Ae[Ie].ea,0,Ce,Oe+224,8)),P=8*K*h.B,Ae=h.sa,Ie=h.ta+16*R+16*K*h.R,Je=h.qa,ue=h.ra+8*R+P,qe=h.Ha,Ze=h.Ia+8*R+P,P=0;16>P;++P)n(Ae,Ie+P*h.R,Z,J+32*P,16);for(P=0;8>P;++P)n(Je,ue+P*h.B,ne,ce+32*P,8),n(qe,Ze+P*h.B,Ce,Oe+32*P,8)}}function cl(h,v,P,R,V,K,Z,J,ne){var ce=[0],Ce=[0],Oe=0,ue=ne!=null?ne.kd:0,Ae=ne??new Ke;if(h==null||12>P)return 7;Ae.data=h,Ae.w=v,Ae.ha=P,v=[v],P=[P],Ae.gb=[Ae.gb];e:{var Ie=v,Je=P,qe=Ae.gb;if(e(h!=null),e(Je!=null),e(qe!=null),qe[0]=0,12<=Je[0]&&!r(h,Ie[0],"RIFF")){if(r(h,Ie[0]+8,"WEBP")){qe=3;break e}var Ze=ht(h,Ie[0]+4);if(12>Ze||4294967286<Ze){qe=3;break e}if(ue&&Ze>Je[0]-8){qe=7;break e}qe[0]=Ze,Ie[0]+=12,Je[0]-=12}qe=0}if(qe!=0)return qe;for(Ze=0<Ae.gb[0],P=P[0];;){e:{var Xe=h;Je=v,qe=P;var st=ce,lt=Ce,ar=Ie=[0];if((Zt=Oe=[Oe])[0]=0,8>qe[0])qe=7;else{if(!r(Xe,Je[0],"VP8X")){if(ht(Xe,Je[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var Ut=ht(Xe,Je[0]+8),Vr=1+nt(Xe,Je[0]+12);if(2147483648<=Vr*(Xe=1+nt(Xe,Je[0]+15))){qe=3;break e}ar!=null&&(ar[0]=Ut),st!=null&&(st[0]=Vr),lt!=null&&(lt[0]=Xe),Je[0]+=18,qe[0]-=18,Zt[0]=1}qe=0}}if(Oe=Oe[0],Ie=Ie[0],qe!=0)return qe;if(Je=!!(2&Ie),!Ze&&Oe)return 3;if(K!=null&&(K[0]=!!(16&Ie)),Z!=null&&(Z[0]=Je),J!=null&&(J[0]=0),Z=ce[0],Ie=Ce[0],Oe&&Je&&ne==null){qe=0;break}if(4>P){qe=7;break}if(Ze&&Oe||!Ze&&!Oe&&!r(h,v[0],"ALPH")){P=[P],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{Ut=h,qe=v,Ze=P;var Zt=Ae.gb;st=Ae.na,lt=Ae.P,ar=Ae.Sa,Vr=22,e(Ut!=null),e(Ze!=null),Xe=qe[0];var fn=Ze[0];for(e(st!=null),e(ar!=null),st[0]=null,lt[0]=null,ar[0]=0;;){if(qe[0]=Xe,Ze[0]=fn,8>fn){qe=7;break e}var ms=ht(Ut,Xe+4);if(4294967286<ms){qe=3;break e}var Wr=8+ms+1&-2;if(Vr+=Wr,0<Zt&&Vr>Zt){qe=3;break e}if(!r(Ut,Xe,"VP8 ")||!r(Ut,Xe,"VP8L")){qe=0;break e}if(fn[0]<Wr){qe=7;break e}r(Ut,Xe,"ALPH")||(st[0]=Ut,lt[0]=Xe+8,ar[0]=ms),Xe+=Wr,fn-=Wr}}if(P=P[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],qe!=0)break}P=[P],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(Zt=h,qe=v,Ze=P,st=Ae.gb[0],lt=Ae.Ja,ar=Ae.xa,Ut=qe[0],Xe=!r(Zt,Ut,"VP8 "),Vr=!r(Zt,Ut,"VP8L"),e(Zt!=null),e(Ze!=null),e(lt!=null),e(ar!=null),8>Ze[0])qe=7;else{if(Xe||Vr){if(Zt=ht(Zt,Ut+4),12<=st&&Zt>st-12){qe=3;break e}if(ue&&Zt>Ze[0]-8){qe=7;break e}lt[0]=Zt,qe[0]+=8,Ze[0]-=8,ar[0]=Vr}else ar[0]=5<=Ze[0]&&Zt[Ut+0]==47&&!(Zt[Ut+4]>>5),lt[0]=Ze[0];qe=0}if(P=P[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],v=v[0],qe!=0)break;if(4294967286<Ae.Ja)return 3;if(J==null||Je||(J[0]=Ae.xa?2:1),Z=[Z],Ie=[Ie],Ae.xa){if(5>P){qe=7;break}J=Z,ue=Ie,Je=K,h==null||5>P?h=0:5<=P&&h[v+0]==47&&!(h[v+4]>>5)?(Ze=[0],Zt=[0],st=[0],me(lt=new C,h,v,P),Bt(lt,Ze,Zt,st)?(J!=null&&(J[0]=Ze[0]),ue!=null&&(ue[0]=Zt[0]),Je!=null&&(Je[0]=st[0]),h=1):h=0):h=0}else{if(10>P){qe=7;break}J=Ie,h==null||10>P||!En(h,v+3,P-3)?h=0:(ue=h[v+0]|h[v+1]<<8|h[v+2]<<16,Je=16383&(h[v+7]<<8|h[v+6]),h=16383&(h[v+9]<<8|h[v+8]),1&ue||3<(ue>>1&7)||!(ue>>4&1)||ue>>5>=Ae.Ja||!Je||!h?h=0:(Z&&(Z[0]=Je),J&&(J[0]=h),h=1))}if(!h||(Z=Z[0],Ie=Ie[0],Oe&&(ce[0]!=Z||Ce[0]!=Ie)))return 3;ne!=null&&(ne[0]=Ae,ne.offset=v-ne.w,e(4294967286>v-ne.w),e(ne.offset==ne.ha-P));break}return qe==0||qe==7&&Oe&&ne==null?(K!=null&&(K[0]|=Ae.na!=null&&0<Ae.na.length),R!=null&&(R[0]=Z),V!=null&&(V[0]=Ie),0):qe}function xc(h,v,P){var R=v.width,V=v.height,K=0,Z=0,J=R,ne=V;if(v.Da=h!=null&&0<h.Da,v.Da&&(J=h.cd,ne=h.bd,K=h.v,Z=h.j,11>P||(K&=-2,Z&=-2),0>K||0>Z||0>=J||0>=ne||K+J>R||Z+ne>V))return 0;if(v.v=K,v.j=Z,v.va=K+J,v.o=Z+ne,v.U=J,v.T=ne,v.da=h!=null&&0<h.da,v.da){if(!He(J,ne,P=[h.ib],K=[h.hb]))return 0;v.ib=P[0],v.hb=K[0]}return v.ob=h!=null&&h.ob,v.Kb=h==null||!h.Sd,v.da&&(v.ob=v.ib<3*R/4&&v.hb<3*V/4,v.Kb=0),1}function yc(h){if(h==null)return 2;if(11>h.S){var v=h.f.RGBA;v.fb+=(h.height-1)*v.A,v.A=-v.A}else v=h.f.kb,h=h.height,v.O+=(h-1)*v.fa,v.fa=-v.fa,v.N+=(h-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(h-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(h-1)*v.lb,v.lb=-v.lb);return 0}function _o(h,v,P,R){if(R==null||0>=h||0>=v)return 2;if(P!=null){if(P.Da){var V=P.cd,K=P.bd,Z=-2&P.v,J=-2&P.j;if(0>Z||0>J||0>=V||0>=K||Z+V>h||J+K>v)return 2;h=V,v=K}if(P.da){if(!He(h,v,V=[P.ib],K=[P.hb]))return 2;h=V[0],v=K[0]}}R.width=h,R.height=v;e:{var ne=R.width,ce=R.height;if(h=R.S,0>=ne||0>=ce||!(h>=rd&&13>h))h=2;else{if(0>=R.Rd&&R.sd==null){Z=K=V=v=0;var Ce=(J=ne*ju[h])*ce;if(11>h||(K=(ce+1)/2*(v=(ne+1)/2),h==12&&(Z=(V=ne)*ce)),(ce=o(Ce+2*K+Z))==null){h=1;break e}R.sd=ce,11>h?((ne=R.f.RGBA).eb=ce,ne.fb=0,ne.A=J,ne.size=Ce):((ne=R.f.kb).y=ce,ne.O=0,ne.fa=J,ne.Fd=Ce,ne.f=ce,ne.N=0+Ce,ne.Ab=v,ne.Cd=K,ne.ea=ce,ne.W=0+Ce+K,ne.Db=v,ne.Ed=K,h==12&&(ne.F=ce,ne.J=0+Ce+2*K),ne.Tc=Z,ne.lb=V)}if(v=1,V=R.S,K=R.width,Z=R.height,V>=rd&&13>V)if(11>V)h=R.f.RGBA,v&=(J=Math.abs(h.A))*(Z-1)+K<=h.size,v&=J>=K*ju[V],v&=h.eb!=null;else{h=R.f.kb,J=(K+1)/2,Ce=(Z+1)/2,ne=Math.abs(h.fa),ce=Math.abs(h.Ab);var Oe=Math.abs(h.Db),ue=Math.abs(h.lb),Ae=ue*(Z-1)+K;v&=ne*(Z-1)+K<=h.Fd,v&=ce*(Ce-1)+J<=h.Cd,v=(v&=Oe*(Ce-1)+J<=h.Ed)&ne>=K&ce>=J&Oe>=J,v&=h.y!=null,v&=h.f!=null,v&=h.ea!=null,V==12&&(v&=ue>=K,v&=Ae<=h.Tc,v&=h.F!=null)}else v=0;h=v?0:2}}return h!=0||P!=null&&P.fd&&(h=yc(R)),h}var Pa=64,ua=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,ul=32,co=8,Ao=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),Q.Predictor0=function(){return 4278190080},Q.Predictor1=function(h){return h},Q.Predictor2=function(h,v,P){return v[P+0]},Q.Predictor3=function(h,v,P){return v[P+1]},Q.Predictor4=function(h,v,P){return v[P-1]},Q.Predictor5=function(h,v,P){return Ne(Ne(h,v[P+1]),v[P+0])},Q.Predictor6=function(h,v,P){return Ne(h,v[P-1])},Q.Predictor7=function(h,v,P){return Ne(h,v[P+0])},Q.Predictor8=function(h,v,P){return Ne(v[P-1],v[P+0])},Q.Predictor9=function(h,v,P){return Ne(v[P+0],v[P+1])},Q.Predictor10=function(h,v,P){return Ne(Ne(h,v[P-1]),Ne(v[P+0],v[P+1]))},Q.Predictor11=function(h,v,P){var R=v[P+0];return 0>=$e(R>>24&255,h>>24&255,(v=v[P-1])>>24&255)+$e(R>>16&255,h>>16&255,v>>16&255)+$e(R>>8&255,h>>8&255,v>>8&255)+$e(255&R,255&h,255&v)?R:h},Q.Predictor12=function(h,v,P){var R=v[P+0];return(Fe((h>>24&255)+(R>>24&255)-((v=v[P-1])>>24&255))<<24|Fe((h>>16&255)+(R>>16&255)-(v>>16&255))<<16|Fe((h>>8&255)+(R>>8&255)-(v>>8&255))<<8|Fe((255&h)+(255&R)-(255&v)))>>>0},Q.Predictor13=function(h,v,P){var R=v[P-1];return(Re((h=Ne(h,v[P+0]))>>24&255,R>>24&255)<<24|Re(h>>16&255,R>>16&255)<<16|Re(h>>8&255,R>>8&255)<<8|Re(255&h,255&R))>>>0};var Po=Q.PredictorAdd0;Q.PredictorAdd1=ze,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var uo=Q.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var bs,Hl=Q.ColorIndexInverseTransform,fo=Q.MapARGB,Va=Q.VP8LColorIndexInverseTransformAlpha,Wl=Q.MapAlpha,Gl=Q.VP8LPredictorsAdd=[];Gl.length=16,(Q.VP8LPredictors=[]).length=16,(Q.VP8LPredictorsAdd_C=[]).length=16,(Q.VP8LPredictors_C=[]).length=16;var wc,bc,ko,dl,fl,Kl,hl,Ql,hs,Hi,Nn,On,ps,Rs,Ha,pu,Nc,To,ed,Sc,td,gf,mu,Zl,Yl,vf,gu,xf,yf=o(511),wf=o(2041),bf=o(225),Nf=o(767),Sf=0,ho=wf,jc=bf,Oi=Nf,ka=yf,rd=0,pl=1,Bh=2,vu=3,xu=4,Un=5,nd=6,Cc=7,Xl=8,yu=9,wu=10,bu=[2,3,7],sd=[3,3,11],Jl=[280,256,256,256,40],qh=[0,1,1,1,0],og=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Uh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],id=8,_c=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ec=null,jf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$h=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ug=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_f=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Mi=[],Ta=[],Wi=[],po=1,Ac=2,bi=[],Gi=[];Ii("UpsampleRgbLinePair",ll,3),Ii("UpsampleBgrLinePair",hi,3),Ii("UpsampleRgbaLinePair",Fi,4),Ii("UpsampleBgraLinePair",hu,4),Ii("UpsampleArgbLinePair",fu,4),Ii("UpsampleRgba4444LinePair",Vl,2),Ii("UpsampleRgb565LinePair",$l,2);var dg=Q.UpsampleRgbLinePair,fg=Q.UpsampleBgrLinePair,ml=Q.UpsampleRgbaLinePair,Pc=Q.UpsampleBgraLinePair,tc=Q.UpsampleArgbLinePair,Su=Q.UpsampleRgba4444LinePair,Af=Q.UpsampleRgb565LinePair,Eo=16,Wa=1<<Eo-1,Ln=-227,Mn=482,gl=6,pi=0,Ki=o(256),rc=o(256),kc=o(256),Qi=o(256),ad=o(Mn-Ln),Vh=o(Mn-Ln);$a("YuvToRgbRow",ll,3),$a("YuvToBgrRow",hi,3),$a("YuvToRgbaRow",Fi,4),$a("YuvToBgraRow",hu,4),$a("YuvToArgbRow",fu,4),$a("YuvToRgba4444Row",Vl,2),$a("YuvToRgb565Row",$l,2);var Pf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nc=[0,2,8],Hh=[8,7,6,4,4,2,2,2,1,1,1,1],Lo=1;this.WebPDecodeRGBA=function(h,v,P,R,V){var K=pl,Z=new Le,J=new fr;Z.ba=J,J.S=K,J.width=[J.width],J.height=[J.height];var ne=J.width,ce=J.height,Ce=new Vt;if(Ce==null||h==null)var Oe=2;else e(Ce!=null),Oe=cl(h,v,P,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Oe!=0?ne=0:(ne!=null&&(ne[0]=Ce.width[0]),ce!=null&&(ce[0]=Ce.height[0]),ne=1),ne){J.width=J.width[0],J.height=J.height[0],R!=null&&(R[0]=J.width),V!=null&&(V[0]=J.height);e:{if(R=new ai,(V=new Ke).data=h,V.w=v,V.ha=P,V.kd=1,v=[0],e(V!=null),((h=cl(V.data,V.w,V.ha,null,null,null,v,null,V))==0||h==7)&&v[0]&&(h=4),(v=h)==0){if(e(Z!=null),R.data=V.data,R.w=V.w+V.offset,R.ha=V.ha-V.offset,R.put=Gt,R.ac=us,R.bc=Tn,R.ma=Z,V.xa){if((h=Et())==null){Z=1;break e}if((function(ue,Ae){var Ie=[0],Je=[0],qe=[0];t:for(;;){if(ue==null)return 0;if(Ae==null)return ue.a=2,0;if(ue.l=Ae,ue.a=0,me(ue.m,Ae.data,Ae.w,Ae.ha),!Bt(ue.m,Ie,Je,qe)){ue.a=3;break t}if(ue.xb=Ac,Ae.width=Ie[0],Ae.height=Je[0],!Lt(Ie[0],Je[0],1,ue,null))break t;return 1}return e(ue.a!=0),0})(h,R)){if(R=(v=_o(R.width,R.height,Z.Oa,Z.ba))==0){t:{R=h;r:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((P=R.l)!=null),e((V=P.ma)!=null),R.xb!=0){if(R.ca=V.ba,R.tb=V.tb,e(R.ca!=null),!xc(V.Oa,P,vu)){R.a=2;break r}if(!$t(R,P.width)||P.da)break r;if((P.da||sr(R.ca.S))&&qs(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&qs()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!re(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!jt(R,R.V,R.Ba,R.c,R.i,P.o,ot))break r;V.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(v=h.a)}else v=h.a}else{if((h=new Ei)==null){Z=1;break e}if(h.Fa=V.na,h.P=V.P,h.qc=V.Sa,gn(h,R)){if((v=_o(R.width,R.height,Z.Oa,Z.ba))==0){if(h.Aa=0,P=Z.Oa,e((V=h)!=null),P!=null){if(0<(ne=0>(ne=P.Md)?0:100<ne?255:255*ne/100)){for(ce=Ce=0;4>ce;++ce)12>(Oe=V.pb[ce]).lc&&(Oe.ia=ne*Hh[0>Oe.lc?0:Oe.lc]>>3),Ce|=Oe.ia;Ce&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=P.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ue,Ae){if(ue==null)return 0;if(Ae==null)return Yr(ue,2,"NULL VP8Io parameter in VP8Decode().");if(!ue.cb&&!gn(ue,Ae))return 0;if(e(ue.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(ue.L=0);var Ie=nc[ue.L];if(ue.L==2?(ue.yb=0,ue.zb=0):(ue.yb=Ae.v-Ie>>4,ue.zb=Ae.j-Ie>>4,0>ue.yb&&(ue.yb=0),0>ue.zb&&(ue.zb=0)),ue.Va=Ae.o+15+Ie>>4,ue.Hb=Ae.va+15+Ie>>4,ue.Hb>ue.za&&(ue.Hb=ue.za),ue.Va>ue.Ub&&(ue.Va=ue.Ub),0<ue.L){var Je=ue.ed;for(Ie=0;4>Ie;++Ie){var qe;if(ue.Qa.Cb){var Ze=ue.Qa.Lb[Ie];ue.Qa.Fb||(Ze+=Je.Tb)}else Ze=Je.Tb;for(qe=0;1>=qe;++qe){var Xe=ue.gd[Ie][qe],st=Ze;if(Je.Pc&&(st+=Je.vd[0],qe&&(st+=Je.od[0])),0<(st=0>st?0:63<st?63:st)){var lt=st;0<Je.wb&&(lt=4<Je.wb?lt>>2:lt>>1)>9-Je.wb&&(lt=9-Je.wb),1>lt&&(lt=1),Xe.dd=lt,Xe.tc=2*st+lt,Xe.ld=40<=st?2:15<=st?1:0}else Xe.tc=0;Xe.La=qe}}}Ie=0}else Yr(ue,6,"Frame setup failed"),Ie=ue.a;if(Ie=Ie==0){if(Ie){ue.$c=0,0<ue.Aa||(ue.Ic=Lo);t:{Ie=ue.Ic,Je=4*(lt=ue.za);var ar=32*lt,Ut=lt+1,Vr=0<ue.L?lt*(0<ue.Aa?2:1):0,Zt=(ue.Aa==2?2:1)*lt;if((Xe=Je+832+(qe=3*(16*Ie+nc[ue.L])/2*ar)+(Ze=ue.Fa!=null&&0<ue.Fa.length?ue.Kc.c*ue.Kc.i:0))!=Xe)Ie=0;else{if(Xe>ue.Vb){if(ue.Vb=0,ue.Ec=o(Xe),ue.Fc=0,ue.Ec==null){Ie=Yr(ue,1,"no memory during frame initialization.");break t}ue.Vb=Xe}Xe=ue.Ec,st=ue.Fc,ue.Ac=Xe,ue.Bc=st,st+=Je,ue.Gd=u(ar,Jr),ue.Hd=0,ue.rb=u(Ut+1,ir),ue.sb=1,ue.wa=Vr?u(Vr,er):null,ue.Y=0,ue.D.Nb=0,ue.D.wa=ue.wa,ue.D.Y=ue.Y,0<ue.Aa&&(ue.D.Y+=lt),e(!0),ue.oc=Xe,ue.pc=st,st+=832,ue.ya=u(Zt,Qt),ue.aa=0,ue.D.ya=ue.ya,ue.D.aa=ue.aa,ue.Aa==2&&(ue.D.aa+=lt),ue.R=16*lt,ue.B=8*lt,lt=(ar=nc[ue.L])*ue.R,ar=ar/2*ue.B,ue.sa=Xe,ue.ta=st+lt,ue.qa=ue.sa,ue.ra=ue.ta+16*Ie*ue.R+ar,ue.Ha=ue.qa,ue.Ia=ue.ra+8*Ie*ue.B+ar,ue.$c=0,st+=qe,ue.mb=Ze?Xe:null,ue.nb=Ze?st:null,e(st+Ze<=ue.Fc+ue.Vb),ao(ue),a(ue.Ac,ue.Bc,0,Je),Ie=1}}if(Ie){if(Ae.ka=0,Ae.y=ue.sa,Ae.O=ue.ta,Ae.f=ue.qa,Ae.N=ue.ra,Ae.ea=ue.Ha,Ae.Vd=ue.Ia,Ae.fa=ue.R,Ae.Rc=ue.B,Ae.F=null,Ae.J=0,!Sf){for(Ie=-255;255>=Ie;++Ie)yf[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)wf[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)bf[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)Nf[255+Ie]=0>Ie?0:255<Ie?255:Ie;Sf=1}hl=De,Ql=ws,Hi=q,Nn=pe,On=he,hs=Ml,ps=Js,Rs=Vi,Ha=$,pu=de,Nc=sl,To=b,ed=be,Sc=Ee,td=_a,gf=Ls,mu=fi,Zl=Xs,Ta[0]=nl,Ta[1]=cr,Ta[2]=$r,Ta[3]=Bl,Ta[4]=di,Ta[5]=za,Ta[6]=la,Ta[7]=Dn,Ta[8]=Li,Ta[9]=as,Mi[0]=ci,Mi[1]=gr,Mi[2]=Wn,Mi[3]=li,Mi[4]=fs,Mi[5]=ui,Mi[6]=Ua,Wi[0]=jo,Wi[1]=es,Wi[2]=Es,Wi[3]=So,Wi[4]=Ul,Wi[5]=ql,Wi[6]=oo,Ie=1}else Ie=0}Ie&&(Ie=(function(fn,ms){for(fn.M=0;fn.M<fn.Va;++fn.M){var Wr,zt=fn.Jc[fn.M&fn.Xb],kt=fn.m,Ns=fn;for(Wr=0;Wr<Ns.za;++Wr){var Tr=kt,dn=Ns,Gn=dn.Ac,ei=dn.Bc+4*Wr,Ds=dn.zc,os=dn.ya[dn.aa+Wr];if(dn.Qa.Bb?os.$b=Te(Tr,dn.Pa.jb[0])?2+Te(Tr,dn.Pa.jb[2]):Te(Tr,dn.Pa.jb[1]):os.$b=0,dn.kc&&(os.Ad=Te(Tr,dn.Bd)),os.Za=!Te(Tr,145)+0,os.Za){var Us=os.Ob,ti=0;for(dn=0;4>dn;++dn){var ts,pn=Ds[0+dn];for(ts=0;4>ts;++ts){pn=cg[Gn[ei+ts]][pn];for(var Sn=zh[Te(Tr,pn[0])];0<Sn;)Sn=zh[2*Sn+Te(Tr,pn[Sn])];pn=-Sn,Gn[ei+ts]=pn}n(Us,ti,Gn,ei,4),ti+=4,Ds[0+dn]=pn}}else pn=Te(Tr,156)?Te(Tr,128)?1:3:Te(Tr,163)?2:0,os.Ob[0]=pn,a(Gn,ei,pn,4),a(Ds,0,pn,4);os.Dd=Te(Tr,142)?Te(Tr,114)?Te(Tr,183)?1:3:2:0}if(Ns.m.Ka)return Yr(fn,7,"Premature end-of-partition0 encountered.");for(;fn.ja<fn.za;++fn.ja){if(Ns=zt,Tr=(kt=fn).rb[kt.sb-1],Gn=kt.rb[kt.sb+kt.ja],Wr=kt.ya[kt.aa+kt.ja],ei=kt.kc?Wr.Ad:0)Tr.la=Gn.la=0,Wr.Za||(Tr.Na=Gn.Na=0),Wr.Hc=0,Wr.Gc=0,Wr.ia=0;else{var rs,jn;if(Tr=Gn,Gn=Ns,ei=kt.Pa.Xc,Ds=kt.ya[kt.aa+kt.ja],os=kt.pb[Ds.$b],dn=Ds.ad,Us=0,ti=kt.rb[kt.sb-1],pn=ts=0,a(dn,Us,0,384),Ds.Za)var gs=0,vs=ei[3];else{Sn=o(16);var zn=Tr.Na+ti.Na;if(zn=ec(Gn,ei[1],zn,os.Eb,0,Sn,0),Tr.Na=ti.Na=(0<zn)+0,1<zn)hl(Sn,0,dn,Us);else{var Ni=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)dn[Us+Sn]=Ni}gs=1,vs=ei[0]}var Bn=15&Tr.la,$n=15&ti.la;for(Sn=0;4>Sn;++Sn){var Is=1&$n;for(Ni=jn=0;4>Ni;++Ni)Bn=Bn>>1|(Is=(zn=ec(Gn,vs,zn=Is+(1&Bn),os.Sc,gs,dn,Us))>gs)<<7,jn=jn<<2|(3<zn?3:1<zn?2:dn[Us+0]!=0),Us+=16;Bn>>=4,$n=$n>>1|Is<<7,ts=(ts<<8|jn)>>>0}for(vs=Bn,gs=$n>>4,rs=0;4>rs;rs+=2){for(jn=0,Bn=Tr.la>>4+rs,$n=ti.la>>4+rs,Sn=0;2>Sn;++Sn){for(Is=1&$n,Ni=0;2>Ni;++Ni)zn=Is+(1&Bn),Bn=Bn>>1|(Is=0<(zn=ec(Gn,ei[2],zn,os.Qc,0,dn,Us)))<<3,jn=jn<<2|(3<zn?3:1<zn?2:dn[Us+0]!=0),Us+=16;Bn>>=2,$n=$n>>1|Is<<5}pn|=jn<<4*rs,vs|=Bn<<4<<rs,gs|=(240&$n)<<rs}Tr.la=vs,ti.la=gs,Ds.Hc=ts,Ds.Gc=pn,Ds.ia=43690&pn?0:os.ia,ei=!(ts|pn)}if(0<kt.L&&(kt.wa[kt.Y+kt.ja]=kt.gd[Wr.$b][Wr.Za],kt.wa[kt.Y+kt.ja].La|=!ei),Ns.Ka)return Yr(fn,7,"Premature end-of-file encountered.")}if(ao(fn),kt=ms,Ns=1,Wr=(zt=fn).D,Tr=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(Wr.M=zt.M,Wr.uc=Tr,ca(zt,Wr),Ns=1,Wr=(jn=zt.D).Nb,Tr=(pn=nc[zt.L])*zt.R,Gn=pn/2*zt.B,Sn=16*Wr*zt.R,Ni=8*Wr*zt.B,ei=zt.sa,Ds=zt.ta-Tr+Sn,os=zt.qa,dn=zt.ra-Gn+Ni,Us=zt.Ha,ti=zt.Ia-Gn+Ni,$n=(Bn=jn.M)==0,ts=Bn>=zt.Va-1,zt.Aa==2&&ca(zt,jn),jn.uc)for(Is=(zn=zt).D.M,e(zn.D.uc),jn=zn.yb;jn<zn.Hb;++jn){gs=jn,vs=Is;var mi=(Zi=(Cs=zn).D).Nb;rs=Cs.R;var Zi=Zi.wa[Zi.Y+gs],Ss=Cs.sa,js=Cs.ta+16*mi*rs+16*gs,Si=Zi.dd,Vn=Zi.tc;if(Vn!=0)if(e(3<=Vn),Cs.L==1)0<gs&&gf(Ss,js,rs,Vn+4),Zi.La&&Zl(Ss,js,rs,Vn),0<vs&&td(Ss,js,rs,Vn+4),Zi.La&&mu(Ss,js,rs,Vn);else{var ji=Cs.B,Ea=Cs.qa,Ga=Cs.ra+8*mi*ji+8*gs,ri=Cs.Ha,Cs=Cs.Ia+8*mi*ji+8*gs;mi=Zi.ld,0<gs&&(Rs(Ss,js,rs,Vn+4,Si,mi),pu(Ea,Ga,ri,Cs,ji,Vn+4,Si,mi)),Zi.La&&(To(Ss,js,rs,Vn,Si,mi),Sc(Ea,Ga,ri,Cs,ji,Vn,Si,mi)),0<vs&&(ps(Ss,js,rs,Vn+4,Si,mi),Ha(Ea,Ga,ri,Cs,ji,Vn+4,Si,mi)),Zi.La&&(Nc(Ss,js,rs,Vn,Si,mi),ed(Ea,Ga,ri,Cs,ji,Vn,Si,mi))}}if(zt.ia&&alert("todo:DitherRow"),kt.put!=null){if(jn=16*Bn,Bn=16*(Bn+1),$n?(kt.y=zt.sa,kt.O=zt.ta+Sn,kt.f=zt.qa,kt.N=zt.ra+Ni,kt.ea=zt.Ha,kt.W=zt.Ia+Ni):(jn-=pn,kt.y=ei,kt.O=Ds,kt.f=os,kt.N=dn,kt.ea=Us,kt.W=ti),ts||(Bn-=pn),Bn>kt.o&&(Bn=kt.o),kt.F=null,kt.J=null,zt.Fa!=null&&0<zt.Fa.length&&jn<Bn&&(kt.J=Qr(zt,kt,jn,Bn-jn),kt.F=zt.mb,kt.F==null&&kt.F.length==0)){Ns=Yr(zt,3,"Could not decode alpha data.");break t}jn<kt.j&&(pn=kt.j-jn,jn=kt.j,e(!(1&pn)),kt.O+=zt.R*pn,kt.N+=zt.B*(pn>>1),kt.W+=zt.B*(pn>>1),kt.F!=null&&(kt.J+=kt.width*pn)),jn<Bn&&(kt.O+=kt.v,kt.N+=kt.v>>1,kt.W+=kt.v>>1,kt.F!=null&&(kt.J+=kt.v),kt.ka=jn-kt.j,kt.U=kt.va-kt.v,kt.T=Bn-jn,Ns=kt.put(kt))}Wr+1!=zt.Ic||ts||(n(zt.sa,zt.ta-Tr,ei,Ds+16*zt.R,Tr),n(zt.qa,zt.ra-Gn,os,dn+8*zt.B,Gn),n(zt.Ha,zt.Ia-Gn,Us,ti+8*zt.B,Gn))}if(!Ns)return Yr(fn,6,"Output aborted.")}return 1})(ue,Ae)),Ae.bc!=null&&Ae.bc(Ae),Ie&=1}return Ie?(ue.cb=0,Ie):0})(h,R)||(v=h.a)}}else v=h.a}v==0&&Z.Oa!=null&&Z.Oa.fd&&(v=yc(Z.ba))}Z=v}K=Z!=0?null:11>K?J.f.RGBA.eb:J.f.kb.y}else K=null;return K};var ju=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(Q,fe){for(var U="",F=0;F<4;F++)U+=String.fromCharCode(Q[fe++]);return U}function m(Q,fe){return Q[fe+0]|Q[fe+1]<<8}function w(Q,fe){return(Q[fe+0]|Q[fe+1]<<8|Q[fe+2]<<16)>>>0}function A(Q,fe){return(Q[fe+0]|Q[fe+1]<<8|Q[fe+2]<<16|Q[fe+3]<<24)>>>0}new f;var y=[0],D=[0],S=[],E=new f,_=t,O=(function(Q,fe){var U={},F=0,X=!1,Y=0,we=0;if(U.frames=[],!(function(x,C){for(var M=0;M<4;M++)if(x[C+M]!="RIFF".charCodeAt(M))return!0;return!1})(Q,fe)){for(A(Q,fe+=4),fe+=8;fe<Q.length;){var ye=p(Q,fe),xe=A(Q,fe+=4);fe+=4;var se=xe+(1&xe);switch(ye){case"VP8 ":case"VP8L":U.frames[F]===void 0&&(U.frames[F]={}),(j=U.frames[F]).src_off=X?we:fe-8,j.src_size=Y+xe+8,F++,X&&(X=!1,Y=0,we=0);break;case"VP8X":(j=U.header={}).feature_flags=Q[fe];var me=fe+4;j.canvas_width=1+w(Q,me),me+=3,j.canvas_height=1+w(Q,me),me+=3;break;case"ALPH":X=!0,Y=se+8,we=fe-8;break;case"ANIM":(j=U.header).bgcolor=A(Q,fe),me=fe+4,j.loop_count=m(Q,me),me+=2;break;case"ANMF":var I,j;(j=U.frames[F]={}).offset_x=2*w(Q,fe),fe+=3,j.offset_y=2*w(Q,fe),fe+=3,j.width=1+w(Q,fe),fe+=3,j.height=1+w(Q,fe),fe+=3,j.duration=w(Q,fe),fe+=3,I=Q[fe++],j.dispose=1&I,j.blend=I>>1&1}ye!="ANMF"&&(fe+=se)}return U}})(_,0);O.response=_,O.rgbaoutput=!0,O.dataurl=!1;var T=O.header?O.header:null,z=O.frames?O.frames:null;if(T){T.loop_counter=T.loop_count,y=[T.canvas_height],D=[T.canvas_width];for(var ee=0;ee<z.length&&z[ee].blend!=0;ee++);}var ae=z[0],W=E.WebPDecodeRGBA(_,ae.src_off,ae.src_size,D,y);ae.rgba=W,ae.imgwidth=D[0],ae.imgheight=y[0];for(var te=0;te<D[0]*y[0]*4;te++)S[te]=W[te];return this.width=D,this.height=y,this.data=S,this}(function(t){var e,r,n,a,o,u,c,f,p,m=function(x){return x=x||{},this.isStrokeTransparent=x.isStrokeTransparent||!1,this.strokeOpacity=x.strokeOpacity||1,this.strokeStyle=x.strokeStyle||"#000000",this.fillStyle=x.fillStyle||"#000000",this.isFillTransparent=x.isFillTransparent||!1,this.fillOpacity=x.fillOpacity||1,this.font=x.font||"10px sans-serif",this.textBaseline=x.textBaseline||"alphabetic",this.textAlign=x.textAlign||"left",this.lineWidth=x.lineWidth||1,this.lineJoin=x.lineJoin||"miter",this.lineCap=x.lineCap||"butt",this.path=x.path||[],this.transform=x.transform!==void 0?x.transform.clone():new f,this.globalCompositeOperation=x.globalCompositeOperation||"normal",this.globalAlpha=x.globalAlpha||1,this.clip_path=x.clip_path||[],this.currentPoint=x.currentPoint||new u,this.miterLimit=x.miterLimit||10,this.lastPoint=x.lastPoint||new u,this.lineDashOffset=x.lineDashOffset||0,this.lineDash=x.lineDash||[],this.margin=x.margin||[0,0,0,0],this.prevPageLastElemOffset=x.prevPageLastElemOffset||0,this.ignoreClearRect=typeof x.ignoreClearRect!="boolean"||x.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,p=new m}]);var w=function(x){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var C=x;Object.defineProperty(this,"pdf",{get:function(){return C}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(re){M=!!re}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(re){H=!!re}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(re){isNaN(re)||(ie=re)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(re){isNaN(re)||(le=re)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(re){var ke;typeof re=="number"?ke=[re,re,re,re]:((ke=new Array(4))[0]=re[0],ke[1]=re.length>=2?re[1]:ke[0],ke[2]=re.length>=3?re[2]:ke[0],ke[3]=re.length>=4?re[3]:ke[1]),p.margin=ke}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(re){ve=re}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(re){je=re}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(re){Te=re}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(re){re instanceof m&&(p=re)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(re){p.path=re}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(re){Ge=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var ke;ke=A(re),this.ctx.fillStyle=ke.style,this.ctx.isFillTransparent=ke.a===0,this.ctx.fillOpacity=ke.a,this.pdf.setFillColor(ke.r,ke.g,ke.b,{a:ke.a}),this.pdf.setTextColor(ke.r,ke.g,ke.b,{a:ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var ke=A(re);this.ctx.strokeStyle=ke.style,this.ctx.isStrokeTransparent=ke.a===0,this.ctx.strokeOpacity=ke.a,ke.a===0?this.pdf.setDrawColor(255,255,255):(ke.a,this.pdf.setDrawColor(ke.r,ke.g,ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var at=null,nt=null,ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return ht},set:function(re){at=null,nt=null,ht=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var ke;if(this.ctx.font=re,(ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var Ve=ke[1];ke[2];var He=ke[3],tt=ke[4];ke[5];var yt=ke[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor(_t==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var oe=(function(St){var yn,Cr,yr=[],pr=St.trim();if(pr==="")return B0;if(pr in a5)return[a5[pr]];for(;pr!=="";){switch(Cr=null,yn=(pr=l5(pr)).charAt(0)){case'"':case"'":Cr=LI(pr.substring(1),yn);break;default:Cr=RI(pr)}if(Cr===null||(yr.push(Cr[0]),(pr=l5(Cr[1]))!==""&&pr.charAt(0)!==","))return B0;pr=pr.replace(/^,/,"")}return yr})(yt);if(this.fontFaces){var Ne=(function(St,yn){var Cr=St.getFontList(),yr=JSON.stringify(Cr);if(at===null||nt!==yr){var pr=(function(Ir){var Rt=[];return Object.keys(Ir).forEach(function(wr){Ir[wr].forEach(function(sr){var mr=null;switch(sr){case"bold":mr={family:wr,weight:"bold"};break;case"italic":mr={family:wr,style:"italic"};break;case"bolditalic":mr={family:wr,weight:"bold",style:"italic"};break;case"":case"normal":mr={family:wr}}mr!==null&&(mr.ref={name:wr,style:sr},Rt.push(mr))})}),Rt})(Cr);at=(function(Ir){for(var Rt={},wr=0;wr<Ir.length;++wr){var sr=M0(Ir[wr]),mr=sr.family,cn=sr.stretch,fr=sr.style,Vt=sr.weight;Rt[mr]=Rt[mr]||{},Rt[mr][cn]=Rt[mr][cn]||{},Rt[mr][cn][fr]=Rt[mr][cn][fr]||{},Rt[mr][cn][fr][Vt]=sr}return Rt})(pr.concat(yn)),nt=yr}return at})(this.pdf,this.fontFaces),Fe=oe.map(function(St){return{family:St,stretch:"normal",weight:He,style:Ve}}),Re=(function(St,yn,Cr){for(var yr=(Cr=Cr||{}).defaultFontFamily||"times",pr=Object.assign({},EI,Cr.genericFontFamilies||{}),Ir=null,Rt=null,wr=0;wr<yn.length;++wr)if(pr[(Ir=M0(yn[wr])).family]&&(Ir.family=pr[Ir.family]),St.hasOwnProperty(Ir.family)){Rt=St[Ir.family];break}if(!(Rt=Rt||St[yr]))throw new Error("Could not find a font-family for the rule '"+o5(Ir)+"' and default family '"+yr+"'.");if(Rt=(function(sr,mr){if(mr[sr])return mr[sr];var cn=R1[sr],fr=cn<=R1.normal?-1:1,Vt=i5(mr,r3,cn,fr);if(!Vt)throw new Error("Could not find a matching font-stretch value for "+sr);return Vt})(Ir.stretch,Rt),Rt=(function(sr,mr){if(mr[sr])return mr[sr];for(var cn=t3[sr],fr=0;fr<cn.length;++fr)if(mr[cn[fr]])return mr[cn[fr]];throw new Error("Could not find a matching font-style for "+sr)})(Ir.style,Rt),!(Rt=(function(sr,mr){if(mr[sr])return mr[sr];if(sr===400&&mr[500])return mr[500];if(sr===500&&mr[400])return mr[400];var cn=TI[sr],fr=i5(mr,n3,cn,sr<400?-1:1);if(!fr)throw new Error("Could not find a matching font-weight for value "+sr);return fr})(Ir.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+o5(Ir)+"'.");return Rt})(Ne,Fe);this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var $e="";(He==="bold"||parseInt(He,10)>=700||Ve==="bold")&&($e="bold"),Ve==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var ze="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<oe.length;pt++){if(this.pdf.internal.getFont(oe[pt],$e,{noFallback:!0,disableWarning:!0})!==void 0){ze=oe[pt];break}if($e==="bolditalic"&&this.pdf.internal.getFont(oe[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=oe[pt],$e="bold";else if(this.pdf.internal.getFont(oe[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=oe[pt],$e="normal";break}}if(ze===""){for(var Tt=0;Tt<oe.length;Tt++)if(ct[oe[Tt]]){ze=ct[oe[Tt]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,j.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,j.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};w.prototype.setLineDash=function(x){this.lineDash=x},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){z.call(this,"fill",!1)},w.prototype.stroke=function(){z.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(x,C){if(isNaN(x)||isNaN(C))throw Zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new u(x,C));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new u(x,C)},w.prototype.closePath=function(){var x=new u(0,0),C=0;for(C=this.path.length-1;C!==-1;C--)if(this.path[C].type==="begin"&&Hn(this.path[C+1])==="object"&&typeof this.path[C+1].x=="number"){x=new u(this.path[C+1].x,this.path[C+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(x.x,x.y)},w.prototype.lineTo=function(x,C){if(isNaN(x)||isNaN(C))throw Zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new u(x,C));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new u(M.x,M.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},w.prototype.quadraticCurveTo=function(x,C,M,H){if(isNaN(M)||isNaN(H)||isNaN(x)||isNaN(C))throw Zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new u(M,H)),le=this.ctx.transform.applyToPoint(new u(x,C));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new u(ie.x,ie.y)},w.prototype.bezierCurveTo=function(x,C,M,H,ie,le){if(isNaN(ie)||isNaN(le)||isNaN(x)||isNaN(C)||isNaN(M)||isNaN(H))throw Zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new u(ie,le)),je=this.ctx.transform.applyToPoint(new u(x,C)),Te=this.ctx.transform.applyToPoint(new u(M,H));this.path.push({type:"bct",x1:je.x,y1:je.y,x2:Te.x,y2:Te.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new u(ve.x,ve.y)},w.prototype.arc=function(x,C,M,H,ie,le){if(isNaN(x)||isNaN(C)||isNaN(M)||isNaN(H)||isNaN(ie))throw Zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new u(x,C));x=ve.x,C=ve.y;var je=this.ctx.transform.applyToPoint(new u(0,M)),Te=this.ctx.transform.applyToPoint(new u(0,0));M=Math.sqrt(Math.pow(je.x-Te.x,2)+Math.pow(je.y-Te.y,2))}Math.abs(ie-H)>=2*Math.PI&&(H=0,ie=2*Math.PI),this.path.push({type:"arc",x,y:C,radius:M,startAngle:H,endAngle:ie,counterclockwise:le})},w.prototype.arcTo=function(x,C,M,H,ie){throw new Error("arcTo not implemented.")},w.prototype.rect=function(x,C,M,H){if(isNaN(x)||isNaN(C)||isNaN(M)||isNaN(H))throw Zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(x,C),this.lineTo(x+M,C),this.lineTo(x+M,C+H),this.lineTo(x,C+H),this.lineTo(x,C),this.lineTo(x+M,C),this.lineTo(x,C)},w.prototype.fillRect=function(x,C,M,H){if(isNaN(x)||isNaN(C)||isNaN(M)||isNaN(H))throw Zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(x,C,M,H),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},w.prototype.strokeRect=function(x,C,M,H){if(isNaN(x)||isNaN(C)||isNaN(M)||isNaN(H))throw Zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");D.call(this)||(this.beginPath(),this.rect(x,C,M,H),this.stroke())},w.prototype.clearRect=function(x,C,M,H){if(isNaN(x)||isNaN(C)||isNaN(M)||isNaN(H))throw Zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(x,C,M,H))},w.prototype.save=function(x){x=typeof x!="boolean"||x;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(C),x){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},w.prototype.restore=function(x){x=typeof x!="boolean"||x;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(C),x&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(x){var C,M,H,ie;if(x.isCanvasGradient===!0&&(x=x.getColor()),!x)return{r:0,g:0,b:0,a:0,style:x};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(x))C=0,M=0,H=0,ie=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(x);if(le!==null)C=parseInt(le[1]),M=parseInt(le[2]),H=parseInt(le[3]),ie=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(x))!==null)C=parseInt(le[1]),M=parseInt(le[2]),H=parseInt(le[3]),ie=parseFloat(le[4]);else{if(ie=1,typeof x=="string"&&x.charAt(0)!=="#"){var ve=new K4(x);x=ve.ok?ve.toHex():"#000000"}x.length===4?(C=x.substring(1,2),C+=C,M=x.substring(2,3),M+=M,H=x.substring(3,4),H+=H):(C=x.substring(1,3),M=x.substring(3,5),H=x.substring(5,7)),C=parseInt(C,16),M=parseInt(M,16),H=parseInt(H,16)}}return{r:C,g:M,b:H,a:ie,style:x}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},D=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(x,C,M,H){if(isNaN(C)||isNaN(M)||typeof x!="string")throw Zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!y.call(this)){var ie=se(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;F.call(this,{text:x,x:C,y:M,scale:le,angle:ie,align:this.textAlign,maxWidth:H})}},w.prototype.strokeText=function(x,C,M,H){if(isNaN(C)||isNaN(M)||typeof x!="string")throw Zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!D.call(this)){H=isNaN(H)?void 0:H;var ie=se(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;F.call(this,{text:x,x:C,y:M,scale:le,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:H})}},w.prototype.measureText=function(x){if(typeof x!="string")throw Zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var C=this.pdf,M=this.pdf.internal.scaleFactor,H=C.internal.getFontSize(),ie=C.getStringUnitWidth(x)*H/C.internal.scaleFactor;return new function(le){var ve=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:ie*=Math.round(96*M/72*1e4)/1e4})},w.prototype.scale=function(x,C){if(isNaN(x)||isNaN(C))throw Zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new f(x,0,0,C,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},w.prototype.rotate=function(x){if(isNaN(x))throw Zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var C=new f(Math.cos(x),Math.sin(x),-Math.sin(x),Math.cos(x),0,0);this.ctx.transform=this.ctx.transform.multiply(C)},w.prototype.translate=function(x,C){if(isNaN(x)||isNaN(C))throw Zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new f(1,0,0,1,x,C);this.ctx.transform=this.ctx.transform.multiply(M)},w.prototype.transform=function(x,C,M,H,ie,le){if(isNaN(x)||isNaN(C)||isNaN(M)||isNaN(H)||isNaN(ie)||isNaN(le))throw Zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new f(x,C,M,H,ie,le);this.ctx.transform=this.ctx.transform.multiply(ve)},w.prototype.setTransform=function(x,C,M,H,ie,le){x=isNaN(x)?1:x,C=isNaN(C)?0:C,M=isNaN(M)?0:M,H=isNaN(H)?1:H,ie=isNaN(ie)?0:ie,le=isNaN(le)?0:le,this.ctx.transform=new f(x,C,M,H,ie,le)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(x,C,M,H,ie,le,ve,je,Te){var Ge=this.pdf.getImageProperties(x),at=1,nt=1,ht=1,re=1;H!==void 0&&je!==void 0&&(ht=je/H,re=Te/ie,at=Ge.width/H*je/H,nt=Ge.height/ie*Te/ie),le===void 0&&(le=C,ve=M,C=0,M=0),H!==void 0&&je===void 0&&(je=H,Te=ie),H===void 0&&je===void 0&&(je=Ge.width,Te=Ge.height);var ke=this.ctx.transform.decompose(),Ve=se(ke.rotate.shx),He=new f,tt=(He=(He=(He=He.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new c(le-C*ht,ve-M*re,H*at,ie*nt));if(this.autoPaging){for(var yt,_t=E.call(this,tt),oe=[],Ne=0;Ne<_t.length;Ne+=1)oe.indexOf(_t[Ne])===-1&&oe.push(_t[Ne]);T(oe);for(var Fe=oe[0],Re=oe[oe.length-1],$e=Fe;$e<Re+1;$e++){this.pdf.setPage($e);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=$e===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=$e===1?0:pt+($e-2)*Tt;if(this.ctx.clip_path.length!==0){var yn=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(yt,this.posX+this.margin[3],-St+ct+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=yn}var Cr=JSON.parse(JSON.stringify(tt));Cr=O([Cr],this.posX+this.margin[3],-St+ct+this.ctx.prevPageLastElemOffset)[0];var yr=($e>Fe||$e<Re)&&S.call(this);yr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Tt,null).clip().discardPath()),this.pdf.addImage(x,"JPEG",Cr.x,Cr.y,Cr.w,Cr.h,null,null,Ve),yr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(x,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,Ve)};var E=function(x,C,M){var H=[];C=C||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(x.type){default:case"mt":case"lt":H.push(Math.floor((x.y+ie)/M)+1);break;case"arc":H.push(Math.floor((x.y+ie-x.radius)/M)+1),H.push(Math.floor((x.y+ie+x.radius)/M)+1);break;case"qct":var le=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,x.x1,x.y1,x.x,x.y);H.push(Math.floor((le.y+ie)/M)+1),H.push(Math.floor((le.y+le.h+ie)/M)+1);break;case"bct":var ve=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,x.x1,x.y1,x.x2,x.y2,x.x,x.y);H.push(Math.floor((ve.y+ie)/M)+1),H.push(Math.floor((ve.y+ve.h+ie)/M)+1);break;case"rect":H.push(Math.floor((x.y+ie)/M)+1),H.push(Math.floor((x.y+x.h+ie)/M)+1)}for(var je=0;je<H.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<H[je];)_.call(this);return H},_=function(){var x=this.fillStyle,C=this.strokeStyle,M=this.font,H=this.lineCap,ie=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=x,this.strokeStyle=C,this.font=M,this.lineCap=H,this.lineWidth=ie,this.lineJoin=le},O=function(x,C,M){for(var H=0;H<x.length;H++)switch(x[H].type){case"bct":x[H].x2+=C,x[H].y2+=M;case"qct":x[H].x1+=C,x[H].y1+=M;default:x[H].x+=C,x[H].y+=M}return x},T=function(x){return x.sort(function(C,M){return C-M})},z=function(x,C){var M=this.fillStyle,H=this.strokeStyle,ie=this.lineCap,le=this.lineWidth,ve=Math.abs(le*this.ctx.transform.scaleX),je=this.lineJoin;if(this.autoPaging){for(var Te,Ge,at=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),ht=[],re=0;re<nt.length;re++)if(nt[re].x!==void 0)for(var ke=E.call(this,nt[re]),Ve=0;Ve<ke.length;Ve+=1)ht.indexOf(ke[Ve])===-1&&ht.push(ke[Ve]);for(var He=0;He<ht.length;He++)for(;this.pdf.internal.getNumberOfPages()<ht[He];)_.call(this);T(ht);for(var tt=ht[0],yt=ht[ht.length-1],_t=tt;_t<yt+1;_t++){this.pdf.setPage(_t),this.fillStyle=M,this.strokeStyle=H,this.lineCap=ie,this.lineWidth=ve,this.lineJoin=je;var oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=_t===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=_t===1?0:Fe+(_t-2)*Re;if(this.ctx.clip_path.length!==0){var ze=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Te,this.posX+this.margin[3],-$e+Ne+this.ctx.prevPageLastElemOffset),ee.call(this,x,!0),this.path=ze}if(Ge=JSON.parse(JSON.stringify(at)),this.path=O(Ge,this.posX+this.margin[3],-$e+Ne+this.ctx.prevPageLastElemOffset),C===!1||_t===0){var ct=(_t>tt||_t<yt)&&S.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,Re,null).clip().discardPath()),ee.call(this,x,C),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=le}this.path=at}else this.lineWidth=ve,ee.call(this,x,C),this.lineWidth=le},ee=function(x,C){if((x!=="stroke"||C||!D.call(this))&&(x==="stroke"||C||!y.call(this))){for(var M,H,ie=[],le=this.path,ve=0;ve<le.length;ve++){var je=le[ve];switch(je.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:je,deltas:[],abs:[]});break;case"lt":var Te=ie.length;if(le[ve-1]&&!isNaN(le[ve-1].x)&&(M=[je.x-le[ve-1].x,je.y-le[ve-1].y],Te>0)){for(;Te>=0;Te--)if(ie[Te-1].close!==!0&&ie[Te-1].begin!==!0){ie[Te-1].deltas.push(M),ie[Te-1].abs.push(je);break}}break;case"bct":M=[je.x1-le[ve-1].x,je.y1-le[ve-1].y,je.x2-le[ve-1].x,je.y2-le[ve-1].y,je.x-le[ve-1].x,je.y-le[ve-1].y],ie[ie.length-1].deltas.push(M);break;case"qct":var Ge=le[ve-1].x+2/3*(je.x1-le[ve-1].x),at=le[ve-1].y+2/3*(je.y1-le[ve-1].y),nt=je.x+2/3*(je.x1-je.x),ht=je.y+2/3*(je.y1-je.y),re=je.x,ke=je.y;M=[Ge-le[ve-1].x,at-le[ve-1].y,nt-le[ve-1].x,ht-le[ve-1].y,re-le[ve-1].x,ke-le[ve-1].y],ie[ie.length-1].deltas.push(M);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(je)}}H=C?null:x==="stroke"?"stroke":"fill";for(var Ve=!1,He=0;He<ie.length;He++)if(ie[He].arc)for(var tt=ie[He].abs,yt=0;yt<tt.length;yt++){var _t=tt[yt];_t.type==="arc"?te.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,C,!Ve):X.call(this,_t.x,_t.y),Ve=!0}else if(ie[He].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(ie[He].begin!==!0){var oe=ie[He].start.x,Ne=ie[He].start.y;Y.call(this,ie[He].deltas,oe,Ne),Ve=!0}H&&Q.call(this,H),C&&fe.call(this)}},ae=function(x){var C=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=C*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return x-M;case"top":return x+C-M;case"hanging":return x+C-2*M;case"middle":return x+C/2-M;default:return x}},W=function(x){return x+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var x=function(){};return x.colorStops=[],x.addColorStop=function(C,M){this.colorStops.push([C,M])},x.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},x.isCanvasGradient=!0,x},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var te=function(x,C,M,H,ie,le,ve,je,Te){for(var Ge=ye.call(this,M,H,ie,le),at=0;at<Ge.length;at++){var nt=Ge[at];at===0&&(Te?U.call(this,nt.x1+x,nt.y1+C):X.call(this,nt.x1+x,nt.y1+C)),we.call(this,x,C,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}je?fe.call(this):Q.call(this,ve)},Q=function(x){switch(x){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},fe=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(x,C){this.pdf.internal.out(r(x)+" "+n(C)+" m")},F=function(x){var C;switch(x.align){case"right":case"end":C="right";break;case"center":C="center";break;default:C="left"}var M,H,ie,le=this.pdf.getTextDimensions(x.text),ve=ae.call(this,x.y),je=W.call(this,ve)-le.h,Te=this.ctx.transform.applyToPoint(new u(x.x,ve));if(this.autoPaging){var Ge=this.ctx.transform.decompose(),at=new f;at=(at=(at=at.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale);for(var nt=this.ctx.transform.applyToRectangle(new c(x.x,ve,le.w,le.h)),ht=at.applyToRectangle(new c(x.x,je,le.w,le.h)),re=E.call(this,ht),ke=[],Ve=0;Ve<re.length;Ve+=1)ke.indexOf(re[Ve])===-1&&ke.push(re[Ve]);T(ke);for(var He=ke[0],tt=ke[ke.length-1],yt=He;yt<tt+1;yt++){this.pdf.setPage(yt);var _t=yt===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Fe=Ne-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],$e=Re-this.margin[3],ze=yt===1?0:oe+(yt-2)*Fe;if(this.ctx.clip_path.length!==0){var ct=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(M,this.posX+this.margin[3],-1*ze+_t),ee.call(this,"fill",!0),this.path=ct}var pt=O([JSON.parse(JSON.stringify(ht))],this.posX+this.margin[3],-ze+_t+this.ctx.prevPageLastElemOffset)[0];x.scale>=.01&&(H=this.pdf.internal.getFontSize(),this.pdf.setFontSize(H*x.scale),ie=this.lineWidth,this.lineWidth=ie*x.scale);var Tt=this.autoPaging!=="text";if(Tt||pt.y+pt.h<=Ne){if(Tt||pt.y>=_t&&pt.x<=Re){var St=Tt?x.text:this.pdf.splitTextToSize(x.text,x.maxWidth||Re-pt.x)[0],yn=O([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-ze+_t+this.ctx.prevPageLastElemOffset)[0],Cr=Tt&&(yt>He||yt<tt)&&S.call(this);Cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Fe,null).clip().discardPath()),this.pdf.text(St,yn.x,yn.y,{angle:x.angle,align:C,renderingMode:x.renderingMode}),Cr&&this.pdf.restoreGraphicsState()}}else pt.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-pt.y);x.scale>=.01&&(this.pdf.setFontSize(H),this.lineWidth=ie)}}else x.scale>=.01&&(H=this.pdf.internal.getFontSize(),this.pdf.setFontSize(H*x.scale),ie=this.lineWidth,this.lineWidth=ie*x.scale),this.pdf.text(x.text,Te.x+this.posX,Te.y+this.posY,{angle:x.angle,align:C,renderingMode:x.renderingMode,maxWidth:x.maxWidth}),x.scale>=.01&&(this.pdf.setFontSize(H),this.lineWidth=ie)},X=function(x,C,M,H){M=M||0,H=H||0,this.pdf.internal.out(r(x+M)+" "+n(C+H)+" l")},Y=function(x,C,M){return this.pdf.lines(x,C,M,null,null)},we=function(x,C,M,H,ie,le,ve,je){this.pdf.internal.out([e(a(M+x)),e(o(H+C)),e(a(ie+x)),e(o(le+C)),e(a(ve+x)),e(o(je+C)),"c"].join(" "))},ye=function(x,C,M,H){for(var ie=2*Math.PI,le=Math.PI/2;C>M;)C-=ie;var ve=Math.abs(M-C);ve<ie&&H&&(ve=ie-ve);for(var je=[],Te=H?-1:1,Ge=C;ve>1e-5;){var at=Ge+Te*Math.min(ve,le);je.push(xe.call(this,x,Ge,at)),ve-=Math.abs(at-Ge),Ge=at}return je},xe=function(x,C,M){var H=(M-C)/2,ie=x*Math.cos(H),le=x*Math.sin(H),ve=ie,je=-le,Te=ve*ve+je*je,Ge=Te+ve*ie+je*le,at=4/3*(Math.sqrt(2*Te*Ge)-Ge)/(ve*le-je*ie),nt=ve-at*je,ht=je+at*ve,re=nt,ke=-ht,Ve=H+C,He=Math.cos(Ve),tt=Math.sin(Ve);return{x1:x*Math.cos(C),y1:x*Math.sin(C),x2:nt*He-ht*tt,y2:nt*tt+ht*He,x3:re*He-ke*tt,y3:re*tt+ke*He,x4:x*Math.cos(M),y4:x*Math.sin(M)}},se=function(x){return 180*x/Math.PI},me=function(x,C,M,H,ie,le){var ve=x+.5*(M-x),je=C+.5*(H-C),Te=ie+.5*(M-ie),Ge=le+.5*(H-le),at=Math.min(x,ie,ve,Te),nt=Math.max(x,ie,ve,Te),ht=Math.min(C,le,je,Ge),re=Math.max(C,le,je,Ge);return new c(at,ht,nt-at,re-ht)},I=function(x,C,M,H,ie,le,ve,je){var Te,Ge,at,nt,ht,re,ke,Ve,He,tt,yt,_t,oe,Ne,Fe=M-x,Re=H-C,$e=ie-M,ze=le-H,ct=ve-ie,pt=je-le;for(Ge=0;Ge<41;Ge++)He=(ke=(at=x+(Te=Ge/40)*Fe)+Te*((ht=M+Te*$e)-at))+Te*(ht+Te*(ie+Te*ct-ht)-ke),tt=(Ve=(nt=C+Te*Re)+Te*((re=H+Te*ze)-nt))+Te*(re+Te*(le+Te*pt-re)-Ve),Ge==0?(yt=He,_t=tt,oe=He,Ne=tt):(yt=Math.min(yt,He),_t=Math.min(_t,tt),oe=Math.max(oe,He),Ne=Math.max(Ne,tt));return new c(Math.round(yt),Math.round(_t),Math.round(oe-yt),Math.round(Ne-_t))},j=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var x,C,M=(x=this.ctx.lineDash,C=this.ctx.lineDashOffset,JSON.stringify({lineDash:x,lineDashOffset:C}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(nr.API),(function(t){var e=function(u){var c,f,p,m,w,A,y,D,S,E;for(f=[],p=0,m=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;m>p;p+=4)(w=(u.charCodeAt(p)<<24)+(u.charCodeAt(p+1)<<16)+(u.charCodeAt(p+2)<<8)+u.charCodeAt(p+3))!==0?(A=(w=((w=((w=((w=(w-(E=w%85))/85)-(S=w%85))/85)-(D=w%85))/85)-(y=w%85))/85)%85,f.push(A+33,y+33,D+33,S+33,E+33)):f.push(122);return(function(_,O){for(var T=O;T>0;T--)_.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},r=function(u){var c,f,p,m,w,A=String,y="length",D=255,S="charCodeAt",E="slice",_="replace";for(u[E](-2),u=u[E](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),p=[],m=0,w=(u+=c="uuuuu"[E](u[y]%5||5))[y];w>m;m+=5)f=52200625*(u[S](m)-33)+614125*(u[S](m+1)-33)+7225*(u[S](m+2)-33)+85*(u[S](m+3)-33)+(u[S](m+4)-33),p.push(D&f>>24,D&f>>16,D&f>>8,D&f);return(function(O,T){for(var z=T;z>0;z--)O.pop()})(p,c[y]),A.fromCharCode.apply(A,p)},n=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",p=0;p<u.length;p+=2)f+=String.fromCharCode("0x"+(u[p]+u[p+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=_1(c)).reduce(function(p,m){return p+String.fromCharCode(m)},"")};t.processDataByFilters=function(u,c){var f=0,p=u||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":p=r(p),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=a(p),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=n(p),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:p,reverseChain:m.reverse().join(" ")}}})(nr.API),(function(t){t.loadFile=function(e,r,n){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,p,m){var w=new XMLHttpRequest,A=0,y=function(D){var S=D.length,E=[],_=String.fromCharCode;for(A=0;A<S;A+=1)E.push(_(255&D.charCodeAt(A)));return E.join("")};if(w.open("GET",f,!p),w.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(w.onload=function(){w.status===200?m(y(this.responseText)):m(void 0)}),w.send(null),p&&w.status===200)return y(w.responseText)})(a,o,u)}catch{}return c})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(nr.API),(function(t){function e(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):w0(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):w0(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var f=Hn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var p=document.createElement(c);for(var m in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[m]=f.style[m];return p},o=function c(f,p){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||m.appendChild(c(w,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},u=function c(f){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),p);return(m=m.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(p){switch(n(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(r).then(function(p){return this.set({src:a("div",{innerHTML:c,dompurify:p})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var p=this.opt.jsPDF,m=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var D=m[y],S=D.src.find(function(E){return E.format==="truetype"});S&&p.addFont(S.url,D.ref.name,D.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,p.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(n(c)!=="object")return this;var f=Object.keys(c||{}).map(function(p){if(p in u.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var p=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(p):p})},u.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(p,m){return Math.floor(p*m/72*96)}return this.then(function(){(c=c||nr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,p,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,p,m){return this.setProgress(c?this.progress.val+c:null,f||null,p?this.progress.n+p:null,m?this.progress.stack.concat(m):null)},u.prototype.then=function(c,f){var p=this;return this.thenCore(c,f,function(m,w){return p.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(A){return p.updateProgress(null,m),A}).then(m,w).then(function(A){return p.updateProgress(1),A})})},u.prototype.thenCore=function(c,f,p){p=p||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:u.convert(Object.assign({},m),Promise.prototype),A=p.call(w,c,f);return u.convert(A,m.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(p){f=f.thenCore(p)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,nr.getPageSize=function(c,f,p){if(Hn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,p=m.format||p}f=f||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var w,A=(""+p).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var D,S=0,E=0;if(y.hasOwnProperty(A))S=y[A][1]/w,E=y[A][0]/w;else try{S=p[1],E=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",E>S&&(D=E,E=S,S=D);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",S>E&&(D=E,E=S,S=D)}return{width:E,height:S,unit:f,k:w,orientation:c}},t.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(M0):null;var p=new u(f);return f.worker?p:p.from(c).doCallback()}})(nr.API),nr.API.addJS=function(t){return u5=t,this.internal.events.subscribe("postPutResources",function(){Ip=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ip+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),c5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+u5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ip!==void 0&&c5!==void 0&&this.internal.out("/Names <</JavaScript "+Ip+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=n.exec(u);if(c!=null){var f=c[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,m=[];for(o=0;o<p;o++){var w=r.internal.newObject();m.push(w);var A=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var y=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<m.length;o++)r.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+y+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,o){var u={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(u),u},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var u=n.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=r.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<n.children.length;p++)this.renderItems(n.children[p])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])})(nr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,o,u,c){var f,p=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=u||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,f=(function(w){for(var A,y=256*w.charCodeAt(4)+w.charCodeAt(5),D=w.length,S={width:0,height:0,numcomponents:1},E=4;E<D;E+=2){if(E+=y,e.indexOf(w.charCodeAt(E+1))!==-1){A=256*w.charCodeAt(E+5)+w.charCodeAt(E+6),S={width:256*w.charCodeAt(E+7)+w.charCodeAt(E+8),height:A,numcomponents:w.charCodeAt(E+9)};break}y=256*w.charCodeAt(E+2)+w.charCodeAt(E+3)}return S})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:r,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:p,index:n,alias:a}}return m}})(nr.API),nr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,o=gI(t,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,p=o.palette,m=o.depth;a=p&&f===1?(function(te){for(var Q=te.width,fe=te.height,U=te.data,F=te.palette,X=te.depth,Y=!1,we=[],ye=[],xe=void 0,se=!1,me=0,I=0;I<F.length;I++){var j=py(F[I],4),x=j[0],C=j[1],M=j[2],H=j[3];we.push(x,C,M),H!=null&&(H===0?(me++,ye.length<1&&ye.push(I)):H<255&&(se=!0))}if(se||me>1){Y=!0,ye=void 0;var ie=Q*fe;xe=new Uint8Array(ie);for(var le=new DataView(U.buffer),ve=0;ve<ie;ve++){var je=q0(le,ve,X),Te=py(F[je],4)[3];xe[ve]=Te}}else me===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:U,alphaBytes:xe,needSMask:Y,palette:we,mask:ye}})(o):f===2||f===4?(function(te){for(var Q=te.data,fe=te.width,U=te.height,F=te.channels,X=te.depth,Y=F===2?"DeviceGray":"DeviceRGB",we=F-1,ye=fe*U,xe=we,se=ye*xe,me=1*ye,I=Math.ceil(se*X/8),j=Math.ceil(me*X/8),x=new Uint8Array(I),C=new Uint8Array(j),M=new DataView(Q.buffer),H=new DataView(x.buffer),ie=new DataView(C.buffer),le=!1,ve=0;ve<ye;ve++){for(var je=ve*F,Te=0;Te<xe;Te++)y5(H,q0(M,je+Te,X),ve*xe+Te,X);var Ge=q0(M,je+xe,X);Ge<(1<<X)-1&&(le=!0),y5(ie,Ge,1*ve,X)}return{colorSpace:Y,colorsPerPixel:we,sMaskBitsPerComponent:le?X:void 0,colorBytes:x,alphaBytes:C,needSMask:le}})(o):(function(te){var Q=te.data,fe=te.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:fe,colorsPerPixel:fe==="DeviceGray"?1:3,colorBytes:Q instanceof Uint16Array?(function(U){for(var F=U.length,X=new Uint8Array(2*F),Y=new DataView(X.buffer,X.byteOffset,X.byteLength),we=0;we<F;we++)Y.setUint16(2*we,U[we],!1);return X})(Q):Q,needSMask:!1}})(o);var w,A,y,D=a,S=D.colorSpace,E=D.colorsPerPixel,_=D.sMaskBitsPerComponent,O=D.colorBytes,T=D.alphaBytes,z=D.needSMask,ee=D.palette,ae=D.mask,W=null;return n!==nr.API.image_compression.NONE&&typeof _1=="function"?(W=(function(te){var Q;switch(te){case nr.API.image_compression.FAST:Q=11;break;case nr.API.image_compression.MEDIUM:Q=13;break;case nr.API.image_compression.SLOW:Q=14;break;default:Q=12}return Q})(n),w=this.decode.FLATE_DECODE,A="/Predictor ".concat(W," /Colors ").concat(E," /BitsPerComponent ").concat(m," /Columns ").concat(u),t=p5(O,Math.ceil(u*E*m/8),E,m,n),z&&(y=p5(T,Math.ceil(u*_/8),1,_,n))):(w=void 0,A=void 0,t=O,z&&(y=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:r,data:t,index:e,filter:w,decodeParameters:A,transparency:ae,palette:ee,sMask:y,predictor:W,width:u,height:c,bitsPerComponent:m,sMaskBitsPerComponent:_,colorSpace:S}}},(function(t){t.processGIF89A=function(e,r,n,a){var o=new OI(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var p={data:f,width:u,height:c},m=new U0(100).encode(p,100);return t.processJPEG.call(this,m,r,n,a)},t.processGIF87A=t.processGIF89A})(nr.API),qo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Zn.log("bit decode error:"+r)}},qo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}r!==0&&(this.pos+=4-r)}},qo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*a*4,c=o>>4,f=15&o,p=this.palette[c];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*a+1>=this.width)break;p=this.palette[f],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},qo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},qo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,p=o>>15?255:0,m=n*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=u,this.data[m+3]=p}this.pos+=t}},qo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&r)/r*255|0,p=(u>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=p,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=t}},qo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},qo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=u}},qo.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var o=new qo(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},p=new U0(100).encode(f,100);return t.processJPEG.call(this,p,r,n,a)}})(nr.API),b5.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var o=new b5(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},p=new U0(100).encode(f,100);return t.processJPEG.call(this,p,r,n,a)}})(nr.API),nr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,p=0;p<a;p+=4){var m=n[p],w=n[p+1],A=n[p+2],y=n[p+3];o[c++]=m,o[c++]=w,o[c++]=A,u[f++]=y}var D=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:D,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},nr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pd=nr.API,Fp=Pd.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,p=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=p.fof?p.fof:1,w=e.doKerning!==!1,A=0,y=t.length,D=0,S=c[0]||f,E=[];for(r=0;r<y;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?E.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+u*(1e3/o)||0)/1e3):(A=w&&Hn(p[n])==="object"&&!isNaN(parseInt(p[n][D],10))?p[n][D]/m:0,E.push((c[n]||S)/f+A)),D=n;return E},d5=Pd.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Pd.processArabic&&(t=Pd.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Fp.apply(this,arguments).reduce(function(o,u){return o+u},0)},f5=function(t,e,r,n){for(var a=[],o=0,u=t.length,c=0;o!==u&&c+e[o]<r;)c+=e[o],o++;a.push(t.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>n&&(a.push(t.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(t.slice(f,o)),a},h5=function(t,e,r){r||(r={});var n,a,o,u,c,f,p,m=[],w=[m],A=r.textIndent||0,y=0,D=0,S=t.split(" "),E=Fp.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?S[0].length+2:r.lineIndent||0){var _=Array(f).join(" "),O=[];S.map(function(z){(z=z.split(/\s*\n/)).length>1?O=O.concat(z.map(function(ee,ae){return(ae&&ee.length?`
`:"")+ee})):O.push(z[0])}),S=O,f=d5.apply(this,[_,r])}for(o=0,u=S.length;o<u;o++){var T=0;if(n=S[o],f&&n[0]==`
`&&(n=n.substr(1),T=1),A+y+(D=(a=Fp.apply(this,[n,r])).reduce(function(z,ee){return z+ee},0))>e||T){if(D>e){for(c=f5.apply(this,[n,a,e-(A+y),e]),m.push(c.shift()),m=[c.pop()];c.length;)w.push([c.shift()]);D=a.slice(n.length-(m[0]?m[0].length:0)).reduce(function(z,ee){return z+ee},0)}else m=[n];w.push(m),A=D+f,y=E}else m.push(n),A+=y+D,y=E}return p=f?function(z,ee){return(ee?_:"")+z.join(" ")}:function(z){return z.join(" ")},w.map(p)},Pd.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var w=this.internal.getFont(m.fontName,m.fontStyle),A="Unicode";return w.metadata[A]?{widths:w.metadata[A].widths||{0:1},kerning:w.metadata[A].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var c,f,p=[];for(c=0,f=n.length;c<f;c++)p=p.concat(h5.apply(this,[n[c],u,o]));return p},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},o=0;o<16;o++)n[r[o]]=e[o],a[e[o]]=r[o];var u=function(A){return"0x"+parseInt(A,10).toString(16)},c=t.__fontmetrics__.compress=function(A){var y,D,S,E,_=["{"];for(var O in A){if(y=A[O],isNaN(parseInt(O,10))?D="'"+O+"'":(O=parseInt(O,10),D=(D=u(O).slice(2)).slice(0,-1)+a[D.slice(-1)]),typeof y=="number")y<0?(S=u(y).slice(3),E="-"):(S=u(y).slice(2),E=""),S=E+S.slice(0,-1)+a[S.slice(-1)];else{if(Hn(y)!=="object")throw new Error("Don't know what to do with value type "+Hn(y)+".");S=c(y)}_.push(D+S)}return _.push("}"),_.join("")},f=t.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,D,S,E,_={},O=1,T=_,z=[],ee="",ae="",W=A.length-1,te=1;te<W;te+=1)(E=A[te])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(E):E=="{"?(z.push([T,S]),T={},S=void 0):E=="}"?((D=z.pop())[0][D[1]]=T,S=void 0,T=D[0]):E=="-"?O=-1:S===void 0?n.hasOwnProperty(E)?(ee+=n[E],S=parseInt(ee,16)*O,O=1,ee=""):ee+=E:n.hasOwnProperty(E)?(ae+=n[E],T[S]=parseInt(ae,16)*O,O=1,S=void 0,ae=""):ae+=E;return _},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(A){var y=A.font,D=w.Unicode[y.postScriptName];D&&(y.metadata.Unicode={},y.metadata.Unicode.widths=D.widths,y.metadata.Unicode.kerning=D.kerning);var S=m.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])})(nr.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=r.charCodeAt(o);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Zp(c)),u.metadata=t.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,n)}}])})(nr),nr.API.addSvgAsImage=function(t,e,r,n,a,o,u,c){if(isNaN(e)||isNaN(r))throw Zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=n,f.height=a;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Or.canvg?Promise.resolve(Or.canvg):w0(()=>import("./index.es-CXSXMbh4.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(p,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(m)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,r,n,a,u,c)})},nr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},nr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],p=0,m=0,w=0;function A(D,S){var E,_=!1;for(E=0;E<D.length;E+=1)D[E]===S&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=c.length;for(w=0;w<y;w+=1)r[c[w]].value=r[c[w]].defaultValue,r[c[w]].explicitSet=!1}if(Hn(t)==="object"){for(a in t)if(o=t[a],A(c,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&A(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(p=0;p<o.length;p+=1)if(n=!0,o[p].length===1&&typeof o[p][0]=="number")f.push(String(o[p]-1));else if(o[p].length>1){for(m=0;m<o[p].length;m+=1)typeof o[p][m]!="number"&&(n=!1);n===!0&&f.push([o[p][0]-1,o[p][1]-1].join(" "))}r[a].value="["+f.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var D,S=[];for(D in r)r[D].explicitSet===!0&&(r[D].type==="name"?S.push("/"+D+" /"+r[D].value):S.push("/"+D+" "+r[D].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(nr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,p=["","0","00","000","0000"],m=[""],w=0,A=o.length;w<A;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(p[4-c.length],c)}return m.join("")},n=function(o){var u,c,f,p,m,w,A;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(c=Object.keys(o).sort(function(y,D){return y-D})).length;w<A;w++)u=c[w],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(p=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+p+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,p=u.newObject,m=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",D=0;D<A.length;D++)y+=String.fromCharCode(A[D]);var S=p();m({data:y,addLength1:!0,objectId:S}),f("endobj");var E=p();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var _=p();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Ld(c.fontName)),f("/FontFile2 "+S+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var O=p();f("<<"),f("/Type /Font"),f("/BaseFont /"+Ld(c.fontName)),f("/FontDescriptor "+_+" 0 R"),f("/W "+t.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=p(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+E+" 0 R"),f("/BaseFont /"+Ld(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+O+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,p=u.newObject,m=u.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,A="",y=0;y<w.length;y++)A+=String.fromCharCode(w[y]);var D=p();m({data:A,addLength1:!0,objectId:D}),f("endobj");var S=p();m({data:n(c.metadata.toUnicode),addLength1:!0,objectId:S}),f("endobj");var E=p();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+D+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Ld(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=p();for(var _=0;_<c.metadata.hmtx.widths.length;_++)c.metadata.hmtx.widths[_]=parseInt(c.metadata.hmtx.widths[_]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Ld(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,p=o.y,m=o.options||{},w=o.mutex||{},A=w.pdfEscape,y=w.activeFontKey,D=w.fonts,S=y,E="",_=0,O="",T=D[S].encoding;if(D[S].encoding!=="Identity-H")return{text:c,x:f,y:p,options:m,mutex:w};for(O=c,S=y,Array.isArray(c)&&(O=c[0]),_=0;_<O.length;_+=1)D[S].metadata.hasOwnProperty("cmap")&&(u=D[S].metadata.cmap.unicode.codeMap[O[_].charCodeAt(0)]),u||O[_].charCodeAt(0)<256&&D[S].metadata.hasOwnProperty("Unicode")?E+=O[_]:E+="";var z="";return parseInt(S.slice(1))<14||T==="WinAnsiEncoding"?z=A(E,S).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(z=r(E,D[S])),w.isHex=!0,{text:z,x:f,y:p,options:m,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?c.push([a(Object.assign({},f,{text:u[p][0]})).text,u[p][1],u[p][2]]):c.push(a(Object.assign({},f,{text:u[p]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(nr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(nr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,o,u,c,f,p,m,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],D={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,T=0;this.__bidiEngine__={};var z=function(U){var F=U.charCodeAt(),X=F>>8,Y=S[X];return Y!==void 0?w[256*Y+(255&F)]:X===252||X===253?"AL":_.test(X)?"L":X===8?"R":"N"},ee=function(U){for(var F,X=0;X<U.length;X++){if((F=z(U.charAt(X)))==="L")return!1;if(F==="R")return!0}return!1},ae=function(U,F,X,Y){var we,ye,xe,se,me=F[Y];switch(me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(me="AN");break;case"AL":O=!0,me="R";break;case"WS":case"BN":me="N";break;case"CS":Y<1||Y+1>=F.length||(we=X[Y-1])!=="EN"&&we!=="AN"||(ye=F[Y+1])!=="EN"&&ye!=="AN"?me="N":O&&(ye="AN"),me=ye===we?ye:"N";break;case"ES":me=(we=Y>0?X[Y-1]:"B")==="EN"&&Y+1<F.length&&F[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&X[Y-1]==="EN"){me="EN";break}if(O){me="N";break}for(xe=Y+1,se=F.length;xe<se&&F[xe]==="ET";)xe++;me=xe<se&&F[xe]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(se=F.length,xe=Y+1;xe<se&&F[xe]==="NSM";)xe++;if(xe<se){var I=U[Y],j=I>=1425&&I<=2303||I===64286;if(we=F[xe],j&&(we==="R"||we==="AL")){me="R";break}}}me=Y<1||(we=F[Y-1])==="B"?"N":X[Y-1];break;case"B":O=!1,a=!0,me=T;break;case"S":o=!0,me="N"}return me},W=function(U,F,X){var Y=U.split("");return X&&te(Y,X,{hiLevel:T}),Y.reverse(),F&&F.reverse(),Y.join("")},te=function(U,F,X){var Y,we,ye,xe,se,me=-1,I=U.length,j=0,x=[],C=T?y:A,M=[];for(O=!1,a=!1,o=!1,we=0;we<I;we++)M[we]=z(U[we]);for(ye=0;ye<I;ye++){if(se=j,x[ye]=ae(U,M,x,ye),Y=240&(j=C[se][D[x[ye]]]),j&=15,F[ye]=xe=C[j][5],Y>0)if(Y===16){for(we=me;we<ye;we++)F[we]=1;me=-1}else me=-1;if(C[j][6])me===-1&&(me=ye);else if(me>-1){for(we=me;we<ye;we++)F[we]=xe;me=-1}M[ye]==="B"&&(F[ye]=0),X.hiLevel|=xe}o&&(function(H,ie,le){for(var ve=0;ve<le;ve++)if(H[ve]==="S"){ie[ve]=T;for(var je=ve-1;je>=0&&H[je]==="WS";je--)ie[je]=T}})(M,F,I)},Q=function(U,F,X,Y,we){if(!(we.hiLevel<U)){if(U===1&&T===1&&!a)return F.reverse(),void(X&&X.reverse());for(var ye,xe,se,me,I=F.length,j=0;j<I;){if(Y[j]>=U){for(se=j+1;se<I&&Y[se]>=U;)se++;for(me=j,xe=se-1;me<xe;me++,xe--)ye=F[me],F[me]=F[xe],F[xe]=ye,X&&(ye=X[me],X[me]=X[xe],X[xe]=ye);j=se}j++}}},fe=function(U,F,X){var Y=U.split(""),we={hiLevel:T};return X||(X=[]),te(Y,X,we),(function(ye,xe,se){if(se.hiLevel!==0&&m)for(var me,I=0;I<ye.length;I++)xe[I]===1&&(me=E.indexOf(ye[I]))>=0&&(ye[I]=E[me+1])})(Y,X,we),Q(2,Y,F,X,we),Q(1,Y,F,X,we),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(U,F,X){if((function(we,ye){if(ye)for(var xe=0;xe<we.length;xe++)ye[xe]=xe;c===void 0&&(c=ee(we)),p===void 0&&(p=ee(we))})(U,F),u||!f||p)if(u&&f&&c^p)T=c?1:0,U=W(U,F,X);else if(!u&&f&&p)T=c?1:0,U=fe(U,F,X),U=W(U,F);else if(!u||c||f||p){if(u&&!f&&c^p)U=W(U,F),c?(T=0,U=fe(U,F,X)):(T=1,U=fe(U,F,X),U=W(U,F));else if(u&&c&&!f&&p)T=1,U=fe(U,F,X),U=W(U,F);else if(!u&&!f&&c^p){var Y=m;c?(T=1,U=fe(U,F,X),T=0,m=!1,U=fe(U,F,X),m=Y):(T=0,U=fe(U,F,X),U=W(U,F),T=1,m=!1,U=fe(U,F,X),m=Y,U=W(U,F))}}else T=0,U=fe(U,F,X);else T=c?1:0,U=fe(U,F,X);return U},this.__bidiEngine__.setOptions=function(U){U&&(u=U.isInputVisual,f=U.isOutputVisual,c=U.isInputRtl,p=U.isOutputRtl,m=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([r.doBidiReorder(a[c])]);n.text=u}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(nr),nr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new lu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new XI(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new MI(this.contents),this.head=new qI(this),this.name=new HI(this),this.cmap=new i3(this),this.toUnicode={},this.hhea=new UI(this),this.maxp=new WI(this),this.hmtx=new GI(this),this.post=new $I(this),this.os2=new zI(this),this.loca=new YI(this),this.glyf=new KI(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,p;for(p=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return u*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var rl,lu=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,o,u,c,f;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*o+65536*u+256*c+f},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)r=e[n],o.push(this.writeByte(r));return o},t})(),MI=(function(){var t;function e(r){var n,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,o,u,c,f,p,m,w,A,y,D,S;for(S in y=Object.keys(r).length,f=Math.log(2),w=16*Math.floor(Math.log(y)/f),u=Math.floor(w/f),m=16*y-w,(a=new lu).writeInt(this.scalarType),a.writeShort(y),a.writeShort(w),a.writeShort(u),a.writeShort(m),o=16*y,p=a.pos+o,c=null,D=[],r)for(A=r[S],a.writeString(S),a.writeInt(t(A)),a.writeInt(p),a.writeInt(A.length),D=D.concat(A),S==="head"&&(c=p),p+=A.length;p%4;)D.push(0),p++;return a.write(D),n=2981146554-t(a.data),a.pos=c+8,a.writeUInt32(n),a.data},t=function(r){var n,a,o,u;for(r=a3.call(r);r.length%4;)r.push(0);for(o=new lu(r),a=0,n=0,u=r.length;n<u;n=n+=4)a+=o.readUInt32();return 4294967295&a},e})(),BI={}.hasOwnProperty,Fl=function(t,e){for(var r in e)BI.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};rl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var qI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new lu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),N5=(function(){function t(e,r){var n,a,o,u,c,f,p,m,w,A,y,D,S,E,_,O,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),A=y/2,e.pos+=6,o=(function(){var z,ee;for(ee=[],f=z=0;0<=A?z<A:z>A;f=0<=A?++z:--z)ee.push(e.readUInt16());return ee})(),e.pos+=2,S=(function(){var z,ee;for(ee=[],f=z=0;0<=A?z<A:z>A;f=0<=A?++z:--z)ee.push(e.readUInt16());return ee})(),p=(function(){var z,ee;for(ee=[],f=z=0;0<=A?z<A:z>A;f=0<=A?++z:--z)ee.push(e.readUInt16());return ee})(),m=(function(){var z,ee;for(ee=[],f=z=0;0<=A?z<A:z>A;f=0<=A?++z:--z)ee.push(e.readUInt16());return ee})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var z,ee;for(ee=[],f=z=0;0<=a?z<a:z>a;f=0<=a?++z:--z)ee.push(e.readUInt16());return ee})(),f=_=0,T=o.length;_<T;f=++_)for(E=o[f],n=O=D=S[f];D<=E?O<=E:O>=E;n=D<=E?++O:--O)m[f]===0?u=n+p[f]:(u=c[m[f]/2+(n-D)-(A-f)]||0)!==0&&(u+=p[f]),this.codeMap[n]=65535&u}e.pos=w}return t.encode=function(e,r){var n,a,o,u,c,f,p,m,w,A,y,D,S,E,_,O,T,z,ee,ae,W,te,Q,fe,U,F,X,Y,we,ye,xe,se,me,I,j,x,C,M,H,ie,le,ve,je,Te,Ge,at;switch(Y=new lu,u=Object.keys(e).sort(function(nt,ht){return nt-ht}),r){case"macroman":for(S=0,E=(function(){var nt=[];for(D=0;D<256;++D)nt.push(0);return nt})(),O={0:0},o={},we=0,me=u.length;we<me;we++)O[je=e[a=u[we]]]==null&&(O[je]=++S),o[a]={old:e[a],new:O[e[a]]},E[a]=O[e[a]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(E),{charMap:o,subtable:Y.data,maxGlyphID:S+1};case"unicode":for(F=[],w=[],T=0,O={},n={},_=p=null,ye=0,I=u.length;ye<I;ye++)O[ee=e[a=u[ye]]]==null&&(O[ee]=++T),n[a]={old:ee,new:O[ee]},c=O[ee]-a,_!=null&&c===p||(_&&w.push(_),F.push(a),p=c),_=a;for(_&&w.push(_),w.push(65535),F.push(65535),fe=2*(Q=F.length),te=2*Math.pow(Math.log(Q)/Math.LN2,2),A=Math.log(te/2)/Math.LN2,W=2*Q-te,f=[],ae=[],y=[],D=xe=0,j=F.length;xe<j;D=++xe){if(U=F[D],m=w[D],U===65535){f.push(0),ae.push(0);break}if(U-(X=n[U].new)>=32768)for(f.push(0),ae.push(2*(y.length+Q-D)),a=se=U;U<=m?se<=m:se>=m;a=U<=m?++se:--se)y.push(n[a].new);else f.push(X-U),ae.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*Q+2*y.length),Y.writeUInt16(0),Y.writeUInt16(fe),Y.writeUInt16(te),Y.writeUInt16(A),Y.writeUInt16(W),le=0,x=w.length;le<x;le++)a=w[le],Y.writeUInt16(a);for(Y.writeUInt16(0),ve=0,C=F.length;ve<C;ve++)a=F[ve],Y.writeUInt16(a);for(Te=0,M=f.length;Te<M;Te++)c=f[Te],Y.writeUInt16(c);for(Ge=0,H=ae.length;Ge<H;Ge++)z=ae[Ge],Y.writeUInt16(z);for(at=0,ie=y.length;at<ie;at++)S=y[at],Y.writeUInt16(S);return{charMap:n,subtable:Y.data,maxGlyphID:T+1}}},t})(),i3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new N5(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=N5.encode(e,r),(a=new lu).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),UI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),zI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),$I=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t})(),VI=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},HI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,o,u,c,f,p,m,w,A;for(e.pos=this.offset,e.readShort(),r=e.readShort(),c=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,w=n.length;m<w;o=++m)a=n[o],e.pos=a.offset,p=e.readString(a.length),u=new VI(p,a),f[A=a.nameID]==null&&(f[A]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),WI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),GI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,m;for(m=[],r=p=0;0<=a?p<a:p>a;r=0<=a?++p:--p)m.push(e.readInt16());return m})(),this.widths=(function(){var p,m,w,A;for(A=[],p=0,m=(w=this.metrics).length;p<m;p++)o=w[p],A.push(o.advance);return A}).call(this),n=this.widths[this.widths.length-1],f=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)f.push(this.widths.push(n));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),a3=[].slice,KI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,o,u,c,f,p,m,w;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,u=(c=new lu(r.read(a))).readShort(),p=c.readShort(),w=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=u===-1?new ZI(c,p,w,f,m):new QI(c,u,p,w,f,m),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,o,u,c,f;for(u=[],o=[],c=0,f=r.length;c<f;c++)a=e[r[c]],o.push(u.length),a&&(u=u.concat(a.encode(n)));return o.push(u.length),{table:u,offsets:o}},t})(),QI=(function(){function t(e,r,n,a,o,u){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),ZI=(function(){function t(e,r,n,a,o){var u,c;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new lu(a3.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),YI=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,rl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<n.length;++u)if(n[u]=a,o<r.length&&r[o]==u){++o,n[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var p=new Array(4*n.length),m=0;m<n.length;++m)p[4*m+3]=255&n[m],p[4*m+2]=(65280&n[m])>>8,p[4*m+1]=(16711680&n[m])>>16,p[4*m]=(4278190080&n[m])>>24;return p},t})(),XI=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,o;for(r in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(n=a[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in f=this.glyphsFor(r))n=f[o],a[o]=n;return a},t.prototype.encode=function(e,r){var n,a,o,u,c,f,p,m,w,A,y,D,S,E,_;for(a in n=i3.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),y={0:0},_=n.charMap)y[(f=_[a]).old]=f.new;for(D in A=n.maxGlyphID,u)D in y||(y[D]=A++);return m=(function(O){var T,z;for(T in z={},O)z[O[T]]=T;return z})(y),w=Object.keys(m).sort(function(O,T){return O-T}),S=(function(){var O,T,z;for(z=[],O=0,T=w.length;O<T;O++)c=w[O],z.push(m[c]);return z})(),o=this.font.glyf.encode(u,S,y),p=this.font.loca.encode(o.offsets,S),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t})();nr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,o,u;if(Array.isArray(r))return"["+(function(){var c,f,p;for(p=[],c=0,f=r.length;c<f;c++)n=r[c],p.push(e.convert(n));return p})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)u=r[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+r},e})();const kd=L.memo(function({data:e,section:r,showAddButton:n=!0,onUpdateRow:a,onRemoveRow:o,onAddRow:u}){return i.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-50 border-b",children:[i.jsx("th",{className:"text-left p-3 w-16 text-slate-600 font-medium",children:"Sr. No."}),i.jsx("th",{className:"text-left p-3 text-slate-600 font-medium",children:"Description"}),i.jsx("th",{className:"text-left p-3 text-slate-600 font-medium",children:"Details"}),i.jsx("th",{className:"w-12 p-3"})]})}),i.jsx("tbody",{children:e.map((c,f)=>i.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[i.jsx("td",{className:"p-3 text-center text-slate-600",children:c.slNo}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:c.description,onChange:p=>a(r,f,"description",p.target.value),className:"h-8 border-0 bg-transparent focus:bg-white","data-testid":`input-${r}-desc-${f}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:c.details,onChange:p=>a(r,f,"details",p.target.value),className:"h-8 border-0 bg-transparent focus:bg-white","data-testid":`input-${r}-details-${f}`})}),i.jsx("td",{className:"p-3",children:i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>o(r,f),disabled:e.length===1,className:"h-8 w-8 text-red-500","data-testid":`button-remove-${r}-${f}`,children:i.jsx(mn,{className:"h-4 w-4"})})})]},`${r}-${f}`))})]}),n&&i.jsx("div",{className:"p-3 border-t bg-slate-50 text-center",children:i.jsxs(Be,{variant:"ghost",size:"sm",onClick:()=>u(r),className:"text-[#d92134]","data-testid":`button-add-${r}`,children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add Ledger Entry"]})})]})}),Ah=()=>({id:`drawing-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,fileName:"",mimeType:"",dataUrl:""}),o3=t=>{if(!Array.isArray(t)||t.length===0)return[Ah()];const e=t.filter(r=>!!(r&&typeof r=="object")).map((r,n)=>({id:typeof r.id=="string"&&r.id.trim()?r.id:`drawing-${Date.now()}-${n}`,fileName:typeof r.fileName=="string"?r.fileName:"",mimeType:typeof r.mimeType=="string"?r.mimeType:"",dataUrl:typeof r.dataUrl=="string"?r.dataUrl:""}));return e.length>0?e:[Ah()]},Gf=t=>o3(t),tf=(t,e)=>({id:`payment-section-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,heading:t,terms:e}),l3=()=>[tf("Supply and Erection",["20% advance on confirmation of order/PO.","40% after finalisation & submission of GA drawing.","30% before dispatch of material.","5% after Structure Erection.","5% after Building Handing over."]),tf("Civil Construction",["20% Advance along with PO","40% on GA drawing Approval","20% Excavation, PCC and Fiiling","10% on Plinth & RCC floor completion","5% on brickwork completion","5% on handingover"])],bl=(t,e)=>{const r=(n,a)=>{const o=n.trim();return o?o.toLowerCase()==="peb - supply and erection"?"Supply and Erection":o:`Heading ${a+1}`};if(Array.isArray(t)&&t.length>0){const n=t.filter(a=>!!(a&&typeof a=="object")).map((a,o)=>({id:typeof a.id=="string"&&a.id.trim()?a.id:`payment-section-${Date.now()}-${o}`,heading:r(typeof a.heading=="string"?a.heading:"",o),terms:Array.isArray(a.terms)?a.terms.filter(u=>typeof u=="string"):[]})).filter(a=>a.terms.length>0||a.heading.trim().length>0);if(n.length>0)return n}return Array.isArray(e)&&e.length>0?[tf("Supply and Erection",e),tf("Civil Construction",["20% Advance along with PO","40% on GA drawing Approval","20% Excavation, PCC and Fiiling","10% on Plinth & RCC floor completion","5% on brickwork completion","5% on handingover"])]:l3()},JI={proposalTitle:"Techno-Commercial Offer",introSections:[{id:"intro1",type:"paragraph",content:"We are pleased to submit our proposal for the supply & erection of steel Structure against your subject enquiry."},{id:"intro2",type:"paragraph",content:"Our area of expertise is in complete design, manufacture, installation & commissioning of Heavy Structural Fabrication & Pre-Engineered Building."},{id:"intro3",type:"paragraph",content:"This proposal is detailed for your ready reference and includes scope of supply, building description, design loads/criteria, material specifications, time delivery, etc complete."},{id:"intro4",type:"paragraph",content:"We trust you will find that our proposal is in line with your requirements and we look forward to your valued order."}],paymentTerms:["15% advance on confirmation of Work order before Labour mobilization.","85% after fabrication Completion"],notes:["Above mentioned rates are quoted on the basis of inputs received and discussion.","GST @ 18% Extra.","Billing as per BOQ.","No third-party inspection or any inspection charges bear by the Revira Nexgen.","NDT test will be performed at shop only and excluding all machines, testing and consumables.","Closed workshop area to be provided for work by M/s company with fully equipped light and ventilations.","All Machines, Hydra, EOT cranes, raw materials, consumables, bed material. Skids for fabrication.","Detailing to be provided by your company","All shop drawing, BOQ, LOT SUMMARY to be provided by M/s company."],closingParagraphs:[{id:"closing1",type:"paragraph",content:"We hope you'll find our offer in line with your requirement & place your valued WO on us giving us an opportunity to serve you. However, please feel free to contact us for any sort of additional information that you may feel is required pertaining to this offer. We assure you our best support at all times."}],closingThanks:"Thanking you",closingCompanyName:"Revira Nexgen Structures Pvt. Ltd",scopeBriefDetails:[{slNo:1,description:"Building Nos.",details:"01"},{slNo:2,description:"Building Description",details:"PEB Shed"},{slNo:3,description:"Building built-up Area",details:"15494 SQF"}],scopeBasicBuilding:[{slNo:1,description:"Frame Type",details:"RF/MF"},{slNo:2,description:"Length (M)",details:"36"},{slNo:3,description:"Width (M) or Span",details:"21"},{slNo:4,description:"Clear Height (M)",details:"9.0"},{slNo:5,description:"Brick Wall Height (M)",details:"3.0"},{slNo:6,description:"Side wall Column Spacing (M)",details:"As Per Drawing"},{slNo:7,description:"Roof Slope",details:"1:10"},{slNo:8,description:"End Wall Column Spacing (M)",details:"As Per GA"},{slNo:9,description:"Bay Spacing (M)",details:"As Per GA"},{slNo:10,description:"Type of end frames",details:"Non-Expandable Frames"},{slNo:11,description:"Wind bracing",details:"As per GA drawing"},{slNo:12,description:"Roof cladding",details:"As per GA drawing"},{slNo:13,description:"Wall cladding",details:"As per GA drawing"}],scopeBuildingAdditions:[{slNo:1,description:"Canopy - Location",details:"As per approved drawing"},{slNo:2,description:"Framed openings",details:"As per approved drawing"}],steelWorkFinish:[{slNo:1,description:"Welding",details:"Continuous FCAW welding along with Intermediate, AWS D1.1"},{slNo:2,description:"Frames, Built-up / HR sections/Bracings",details:"Mechanical Cleaning with swipe blast on heavy mill scale and one coat of primer and one coat of Finish Enamel paint"},{slNo:3,description:"Purlins / Girts",details:"ASTM A653"},{slNo:4,description:"Profile sheets",details:"Bare-0.47 mm thk and colour -0.5 mm thk blue RAL5012"}],designLoads:[{slNo:1,description:"Dead load",details:"0.15 KN/M2"},{slNo:2,description:"Live load",details:"0.57 KN/M2"},{slNo:3,description:"Crane Capacity",details:"-"},{slNo:4,description:"Wind load (Kmph or m/sec)",details:"44 M/sec"},{slNo:5,description:"Mezzanine Load -Kg/SQM",details:"-"},{slNo:6,description:"Slab Thickness (MM)",details:"-"},{slNo:7,description:"Seismic load (Zone no.)",details:"III"}],applicableCodes:["Frame members are designed in accordance with AISC-LRFD (American Institute of Steel Construction).","Cold Formed members are designed in accordance with the AISC For Use of Cold-Formed Light Gauge Steel Structural Member's In General Building Construction.","Deflection as per IS 800-2007.","All welding is done in accordance with the 2000 Edition of the American Welding Society (AWS D1.1).","Structural Welding Code-Steel. All Welders are qualified for the type of welds performed.",'Manufacturing dimensional tolerances are in accordance with the requirements of the 1996 Edition of the Metal Building Manufacturer Association (MBMA) of the USA.; "Low rise building systems Manual".'],materialSpecs:[{slNo:1,description:"Primary Members - Built up sections (Make  SAIL/JINDAL/TATA)",details:"Min. Y.S. 350 MPA"},{slNo:2,description:"Hot Rolled Sections - Channels (Make  TATA/Apollo/SAIL)",details:"IS: 2062 / A 572, Grade 36, Min. Y.S. 250 MPA"},{slNo:3,description:"Purlins/Girts (Make  JSW/TATA)",details:"ASTM A653"},{slNo:4,description:"Anchor bolts",details:"IS 2062 E250A"},{slNo:5,description:"Primary Connection bolts Electroplated/Pre galvanised",details:"High Strength Bolts, IS: 1367 / 8.8 Grade"},{slNo:6,description:"Secondary connection bolts Pre galvanised",details:"Bolt as per ASTM A 325, Grade 4.6"}],drawingsDelivery:["RNSPL will issue shop Approval Drawings within 1 week from date of signing contract/issue of Purchase Order and receipt of advance payment.","BUYER must return the accepted approval drawings preferably within 1 week thereafter; otherwise, may result in revision to delivery commitment.","Anchor bolts & Layout drawings for fixing anchor bolts will be provided within 10 days from the date of receipt of Advance payment.","Dispatch of materials will start as per agreed time frame from the date of receipt of signed Approval drawings with receipt of payment as per agreed terms."],erectionScopeClient:["After completion of Anchor bolt fixing, back filling of the murum up to the FFL level & rolling is under the scope of the client.","Anchor bolt shall be provided to site and fixing in presence of our engineer at site only.","Minimum 15 days curing time is to be given after Anchor Bolt Casting is done.","Free Power and water to be provided close to site.","If power not available, DG has to be provided.","We assumed that, crane can move inside the proposed building while erecting the main frames.","Security of the material is under the scope of the client.","Shelter/accommodation to be provided to the workers till completion of the work."],erectionScopeCompany:["Unloading and stacking of the material at site, Erection of material as per RNSPL specifications.","Anchor Bolt Supply & Periodic Supervision is in our Scope.","Alignment of columns and rafters.","Plumb and checking water level of columns & Portal frame.","Cleaning and touch up paint work for the structure on damaged surfaces during transportation and site movement.","Alignment of Purlins and Girts.","Fixing of roof sheeting, wall sheeting and accessories."],paymentTermSections:l3(),commercialTerms:[{slNo:1,description:"Payment Terms including taxes",conditions:"Supply and Erection amount: 1. 20% advance on confirmation of order/PO. 2. 40% after finalisation & submission of GA drawing. 3. 30% before dispatch of material. 4. 5% after Structure Erection. 5. 5% after Building Handing over."},{slNo:2,description:"Delivery period",conditions:"Delivery as per mutually agreed from the date of receipt of signed approved drawings and receipt of payment as per agreed terms."},{slNo:3,description:"Erection period",conditions:"Erection Period as per mutually agreed after delivery of complete material."},{slNo:4,description:"GST",conditions:"Extra @ 18% for supply and Erection both."},{slNo:5,description:"Scope of contract",conditions:"This Contract is the only Agreement between the SELLER & BUYER and the terms which have been Expressly stated will be binding."},{slNo:6,description:"Proposal validity",conditions:"This proposal is valid for (5) days from the date of this proposal."},{slNo:7,description:"Erection drawing",conditions:"The SELLER will furnish the BUYER with all standard erection drawings required for erection of buildings."},{slNo:8,description:"Specification changes",conditions:"SELLER reserves the right to modify design and substitute material equal or superior to originally specified."},{slNo:9,description:"Change in scope",conditions:"Any change to the stated scope of supply may lead to variation in price and delivery period."},{slNo:10,description:"Our liability",conditions:"SELLER liability is restricted to scope of this contract only."},{slNo:11,description:"Ownership Of Un-Approved Material",conditions:"All unapproved material supplied to site shall be the property of SELLER."},{slNo:12,description:"Warranty",conditions:"Products supplied are warranted against defective material & workmanship for One year."},{slNo:13,description:"Permits",conditions:"SELLER shall not be responsible for obtaining permits to erect or install any product."},{slNo:14,description:"Force Majeure",conditions:"SELLER shall not be liable for delays due to circumstances beyond control."},{slNo:15,description:"Weighment",conditions:"Weight mentioned in SELLER Bill of Supply will be final for billing purposes."},{slNo:16,description:"Safety at site",conditions:"BUYER shall provide secured area for unloading and storing all material."},{slNo:17,description:"Exclusions",conditions:"Anything not mentioned in the offer."}],bankDetails:[{particular:"Account holder",value:"REVIRA NEXGEN STRUCTURES PRIVATE LIMITED"},{particular:"Bank Name",value:"YES Bank"},{particular:"A/C No.",value:"073361900002657"},{particular:"IFSC Code",value:"YESB0000733"}],uploadDrawings:[Ah()]},c3=["scopeBrief","scopeBasic","scopeAdditions","steelWork","designLoads","applicableCodes","materialSpecs","drawingsDelivery","erectionScopeClient","erectionScopeCompany","commercialPrice","paymentTerms","commercialTerms"],u3=["commercialPrice","paymentTerms"],Yf={scopeBrief:"SCOPE OF SUPPLY - BRIEF DETAILS",scopeBasic:"SCOPE OF SUPPLY - BASIC BUILDING DESCRIPTION",scopeAdditions:"STANDARD BUILDING ADDITIONS (CANOPY / FASCIA / LINER / PARTITIONS)",steelWork:"STEEL WORK FINISH",designLoads:"DESIGN LOADS",applicableCodes:"APPLICABLE CODES for Design",materialSpecs:"MATERIAL SPECIFICATIONS",drawingsDelivery:"DRAWINGS & DELIVERY",erectionScopeClient:"ERECTION SCOPES - SCOPE OF CLIENT",erectionScopeCompany:"ERECTION SCOPES - SCOPE OF COMPANY",commercialPrice:"COMMERCIAL PRICE & PAYMENT",paymentTerms:"PAYMENT TERMS",commercialTerms:"COMMERCIAL TERMS & CONDITIONS"},Op=t=>(t?c3:u3).map((r,n)=>({id:`${r}-${n+1}`,type:r,heading:Yf[r]}));function S5(){const{projectId:t,quotationId:e}=Qu(),[,r]=Ma(),{toast:n}=Ba(),{data:a}=Ca(),o=L.useRef(null),[u,c]=L.useState({quotationNumber:"",revision:"R-001",enquiryNumber:"",subject:"Supply & erection of Steel Structures for PEB Shed",contactName:"Hareram R Sharma",contactMobile:"8390491843",contactEmail:"Hareram.sharma@reviranexgen.com",buildingDescription:"PEB Shed",buildingArea:"",frameType:"RF/MF",length:"",width:"",clearHeight:"",roofSlope:"1:10",paymentTerms:"",notes:"",proposalTitle:"Techno-Commercial Offer",toLabel:"To",msLabel:"M/s"}),[f,p]=L.useState([{serialNo:1,description:"Fabrication of Structural steel hot rolled section on job work-labour basis i.e. Pipe rack str excluding detailing.",unit:"Rs/MT",quantity:600,rate:7440,amount:4464e3,remarks:""}]),[m,w]=L.useState(JI),[A,y]=L.useState(null),[D,S]=L.useState(null),[E,_]=L.useState(null),[O,T]=L.useState(null),[z,ee]=L.useState({}),[ae,W]=L.useState(null),[te,Q]=L.useState(null),[fe,U]=L.useState(null),[F,X]=L.useState(null),[Y,we]=L.useState(null),[ye,xe]=L.useState(null),[se,me]=L.useState(!1),[I,j]=L.useState(!1),[x,C]=L.useState(!1),[M,H]=L.useState(!1),[ie,le]=L.useState(!1),[ve,je]=L.useState(!1),[Te,Ge]=L.useState({to:"",subject:"",message:""}),[at,nt]=L.useState({mobile:"",message:""}),[ht,re]=L.useState(null),[ke,Ve]=L.useState([]),[He,tt]=L.useState({}),{data:yt,isLoading:_t}=Rr({queryKey:["/revira/api/projects",t],queryFn:async()=>{const q=await fetch(`/revira/api/projects/${t}`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch project");return q.json()},enabled:!!t}),{data:oe,isLoading:Ne}=Rr({queryKey:["/revira/api/clients",yt?.clientId],queryFn:async()=>{const q=await fetch(`/revira/api/clients/${yt?.clientId}`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch client");return q.json()},enabled:!!yt?.clientId}),{data:Fe}=Rr({queryKey:["/revira/api/branding"],enabled:!!a}),{data:Re}=Rr({queryKey:["/revira/api/projects",t,"quotation",e||"latest"],queryFn:async()=>{if(e){const pe=await fetch(`/revira/api/quotations/${e}`,{credentials:"include"});if(!pe.ok)throw new Error("Failed to fetch quotation");return pe.json()}const q=await fetch(`/revira/api/projects/${t}/quotation`,{credentials:"include"});if(!q.ok){if(q.status===404)return null;throw new Error("Failed to fetch quotation")}return q.json()},enabled:!!t}),{data:$e}=Rr({queryKey:["/revira/api/quotations",Re?.id,"items"],queryFn:async()=>{const q=await fetch(`/revira/api/quotations/${Re?.id}/items`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch items");return q.json()},enabled:!!Re?.id}),{data:ze}=Rr({queryKey:["/revira/api/projects",t,"quotation-versions"],queryFn:async()=>{const q=await fetch(`/revira/api/projects/${t}/quotation-versions`,{credentials:"include"});if(!q.ok)throw new Error("Failed to fetch versions");return q.json()},enabled:!!t}),ct=L.useCallback(()=>yt?.quotationType==="Supply and Fabrication"?c3:u3,[yt?.quotationType]),pt=L.useCallback(q=>{const pe=new Set(ct());if(!Array.isArray(q))return Op(yt?.quotationType==="Supply and Fabrication");const he=q.filter(De=>!!(De&&typeof De=="object"&&"id"in De&&"type"in De&&typeof De.id=="string"&&typeof De.type=="string")).filter(De=>pe.has(De.type)).map(De=>({id:De.id,type:De.type,heading:typeof De.heading=="string"&&De.heading.trim().length>0?De.heading:Yf[De.type]}));if(!he.some(De=>De.type==="paymentTerms")&&pe.has("paymentTerms")){const De={id:`paymentTerms-${Date.now()}`,type:"paymentTerms",heading:Yf.paymentTerms},Se=he.findIndex(cr=>cr.type==="commercialPrice");Se>=0?he.splice(Se+1,0,De):he.push(De)}return he.map(De=>{if(De.type!=="commercialPrice")return De;const Se=De.heading.trim().toUpperCase();return Se==="COMMERCIAL PRICE"||Se==="COMMERCIAL PRICE & PAYMENT TERMS"?{...De,heading:"COMMERCIAL PRICE & PAYMENT"}:De})},[ct,yt?.quotationType]);L.useEffect(()=>{if(yt&&oe&&!Re){const q=yt.quotationType==="Supply and Fabrication"?"RNS-Peb":yt.quotationType==="Structural Fabrication"?"RNS-SF":"RNS-JW",he=new Date().toLocaleString("en-US",{month:"short",year:"numeric"}).toUpperCase().replace(" ","-"),De=yt.quotationType==="Supply and Fabrication"?"Supply & erection of Steel Structures for PEB Shed":yt.quotationType==="Structural Fabrication"?"Structural Fabrication - Steel Structures":"Job Work - Steel Structures";c(Se=>({...Se,quotationNumber:`RNS/${he}/${oe.name}/RNS-${String(yt.id).padStart(3,"0")}`,enquiryNumber:`${q}-RNS-${String(yt.id).padStart(3,"0")}`,subject:De})),Ve(Op(yt.quotationType==="Supply and Fabrication"))}},[yt,oe,Re]),L.useEffect(()=>{if(Re){let q=null;if(Re.contentSections)try{q=JSON.parse(Re.contentSections);const pe=Array.isArray(q?.paymentTerms)?q.paymentTerms.filter(he=>typeof he=="string"):[];w(he=>({...he,...q,paymentTermSections:bl(q?.paymentTermSections,pe),uploadDrawings:o3(q?.uploadDrawings)})),Ve(pt(q?.accordionBlocks))}catch(pe){console.error("Failed to parse content sections:",pe),Ve(Op(yt?.quotationType==="Supply and Fabrication"))}else Ve(Op(yt?.quotationType==="Supply and Fabrication"));c({quotationNumber:Re.quotationNumber,revision:Re.revision,enquiryNumber:Re.enquiryNumber,subject:Re.subject,contactName:Re.contactName,contactMobile:Re.contactMobile,contactEmail:Re.contactEmail,buildingDescription:Re.buildingDescription||"",buildingArea:Re.buildingArea||"",frameType:Re.frameType||"",length:Re.length||"",width:Re.width||"",clearHeight:Re.clearHeight||"",roofSlope:Re.roofSlope||"",paymentTerms:Re.paymentTerms||"",notes:Re.notes||"",proposalTitle:q?.proposalTitle||"Techno-Commercial Offer",toLabel:q?.toLabel||"To",msLabel:q?.msLabel||"M/s"})}},[Re,pt,yt?.quotationType]),L.useEffect(()=>{$e&&$e.length>0&&p($e.map(q=>({id:q.id,serialNo:q.serialNo,description:q.description,unit:q.unit,quantity:Number(q.quantity)||0,rate:Number(q.rate)||0,amount:Number(q.amount)||0,remarks:q.remarks||""})))},[$e]),L.useEffect(()=>{tt(q=>{const pe={};return ke.forEach(he=>{pe[he.id]=q[he.id]??!0}),pe})},[ke]),L.useEffect(()=>{const q=bl(m.paymentTermSections,m.paymentTerms);ee(pe=>{const he={};return q.forEach(De=>{he[De.id]=pe[De.id]??!0}),he})},[m.paymentTermSections,m.paymentTerms]);const Tt=kn({mutationFn:async()=>{const pe=await(await Mr("POST","/revira/api/quotations",{projectId:Number(t),...u,contentSections:JSON.stringify({...m,proposalTitle:u.proposalTitle,toLabel:u.toLabel,msLabel:u.msLabel,accordionBlocks:ke})})).json();for(const he of f)he.description.trim()&&await Mr("POST",`/revira/api/quotations/${pe.id}/items`,{serialNo:he.serialNo,description:he.description,unit:he.unit,quantity:String(he.quantity),rate:String(he.rate),amount:String(he.amount),remarks:he.remarks});return pe},onSuccess:q=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation","latest"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation",q.id]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation-versions"]}),r(`/revira/projects/${t}/quotation/${q.id}`),n({title:"Quotation saved",description:"The quotation has been created successfully."})},onError:q=>{n({title:"Error",description:q.message||"Failed to create quotation",variant:"destructive"})}}),St=kn({mutationFn:async()=>{if(Re){if(await Mr("PUT",`/revira/api/quotations/${Re.id}`,{...u,contentSections:JSON.stringify({...m,proposalTitle:u.proposalTitle,toLabel:u.toLabel,msLabel:u.msLabel,accordionBlocks:ke})}),$e)for(const q of $e)await Mr("DELETE",`/revira/api/quotation-items/${q.id}`);for(const q of f)q.description.trim()&&await Mr("POST",`/revira/api/quotations/${Re.id}/items`,{serialNo:q.serialNo,description:q.description,unit:q.unit,quantity:String(q.quantity),rate:String(q.rate),amount:String(q.amount),remarks:q.remarks})}},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation",e||"latest"]}),Ur.invalidateQueries({queryKey:["/revira/api/quotations",Re?.id,"items"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation-versions"]}),n({title:"Quotation updated",description:"The quotation has been updated successfully."})},onError:q=>{n({title:"Error",description:q.message||"Failed to update quotation",variant:"destructive"})}}),yn=kn({mutationFn:async()=>{if(!Re)throw new Error("No quotation to duplicate");return(await Mr("POST",`/revira/api/quotations/${Re.id}/duplicate`)).json()},onSuccess:q=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation-versions"]}),n({title:"Quotation duplicated",description:`Created new version: ${q.revision}`}),r(`/revira/projects/${t}/quotation/${q.id}`)},onError:q=>{n({title:"Error",description:q.message||"Failed to duplicate quotation",variant:"destructive"})}}),Cr=()=>{Re?St.mutate():Tt.mutate()},yr=()=>{p([...f,{serialNo:f.length+1,description:"",unit:"Rs/MT",quantity:0,rate:0,amount:0,remarks:""}])},pr=q=>{if(f.length>1){const pe=f.filter((he,De)=>De!==q).map((he,De)=>({...he,serialNo:De+1}));p(pe)}},Ir=(q,pe,he)=>{const De=[...f];if(pe==="quantity"||pe==="rate"||pe==="amount"?De[q]={...De[q],[pe]:Number(he)||0}:De[q]={...De[q],[pe]:he},pe==="quantity"||pe==="rate"){const Se=De[q].quantity,cr=De[q].rate;De[q].amount=Se*cr}p(De)},Rt=()=>f.reduce((q,pe)=>q+pe.amount,0),wr=q=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(q).replace(""," "),sr=()=>new Date().toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"),mr=(q,pe)=>{w(he=>({...he,introSections:he.introSections.map(De=>De.id===q?{...De,content:pe}:De)}))},cn=()=>{const q=`intro${Date.now()}`;w(pe=>({...pe,introSections:[...pe.introSections,{id:q,type:"paragraph",content:"New paragraph..."}]}))},fr=q=>{w(pe=>({...pe,introSections:pe.introSections.filter(he=>he.id!==q)}))},Vt=()=>{w(q=>({...q,notes:[...q.notes,"New note..."]})),S(m.notes.length)},hr=(q,pe)=>{w(he=>({...he,notes:he.notes.map((De,Se)=>Se===q?pe:De)}))},Jn=q=>{w(pe=>({...pe,notes:pe.notes.filter((he,De)=>De!==q)}))},Rn=()=>{w(q=>({...q,paymentTermSections:[...bl(q.paymentTermSections),tf("New Heading",["New payment term..."])]}))},ii=(q,pe)=>{w(he=>({...he,paymentTermSections:bl(he.paymentTermSections).map(De=>De.id===q?{...De,heading:pe}:De)}))},us=q=>{w(pe=>({...pe,paymentTermSections:(()=>{const he=bl(pe.paymentTermSections).filter(De=>De.id!==q);return he.length>0?he:[tf("New Heading",["New payment term..."])]})()}))},Gt=q=>{w(pe=>({...pe,paymentTermSections:bl(pe.paymentTermSections).map(he=>he.id===q?{...he,terms:[...he.terms,"New payment term..."]}:he)}))},Tn=(q,pe,he)=>{w(De=>({...De,paymentTermSections:bl(De.paymentTermSections).map(Se=>Se.id===q?{...Se,terms:Se.terms.map((cr,es)=>es===pe?he:cr)}:Se)}))},Bt=(q,pe)=>{w(he=>({...he,paymentTermSections:bl(he.paymentTermSections).map(De=>De.id===q?{...De,terms:De.terms.filter((Se,cr)=>cr!==pe)}:De)}))},br=()=>{w(q=>({...q,drawingsDelivery:[...q.drawingsDelivery,"New drawings/delivery item..."]})),W(m.drawingsDelivery.length)},ur=(q,pe)=>{w(he=>({...he,drawingsDelivery:he.drawingsDelivery.map((De,Se)=>Se===q?pe:De)}))},At=q=>{w(pe=>({...pe,drawingsDelivery:pe.drawingsDelivery.filter((he,De)=>De!==q)}))},vr=()=>{w(q=>({...q,erectionScopeClient:[...q.erectionScopeClient,"New client scope item..."]})),Q(m.erectionScopeClient.length)},ut=(q,pe)=>{w(he=>({...he,erectionScopeClient:he.erectionScopeClient.map((De,Se)=>Se===q?pe:De)}))},rt=q=>{w(pe=>({...pe,erectionScopeClient:pe.erectionScopeClient.filter((he,De)=>De!==q)}))},ot=()=>{w(q=>({...q,erectionScopeCompany:[...q.erectionScopeCompany,"New company scope item..."]})),U(m.erectionScopeCompany.length)},Ye=(q,pe)=>{w(he=>({...he,erectionScopeCompany:he.erectionScopeCompany.map((De,Se)=>Se===q?pe:De)}))},it=q=>{w(pe=>({...pe,erectionScopeCompany:pe.erectionScopeCompany.filter((he,De)=>De!==q)}))},xt=()=>{w(q=>({...q,applicableCodes:[...q.applicableCodes,"New applicable code..."]})),X(m.applicableCodes.length)},jt=(q,pe)=>{w(he=>({...he,applicableCodes:he.applicableCodes.map((De,Se)=>Se===q?pe:De)}))},Pt=q=>{w(pe=>({...pe,applicableCodes:pe.applicableCodes.filter((he,De)=>De!==q)}))},Et=()=>{const q=m.commercialTerms.length+1;w(pe=>({...pe,commercialTerms:[...pe.commercialTerms,{slNo:q,description:"New Term",conditions:"Enter conditions..."}]})),we(m.commercialTerms.length)},Lt=(q,pe,he)=>{w(De=>({...De,commercialTerms:De.commercialTerms.map((Se,cr)=>cr===q?{...Se,[pe]:he}:Se)}))},$t=q=>{w(pe=>({...pe,commercialTerms:pe.commercialTerms.filter((he,De)=>De!==q).map((he,De)=>({...he,slNo:De+1}))}))},Kt=()=>{w(q=>({...q,bankDetails:[...q.bankDetails,{particular:"New Field",value:"Enter value..."}]})),xe(m.bankDetails.length)},Ht=(q,pe,he)=>{w(De=>({...De,bankDetails:De.bankDetails.map((Se,cr)=>cr===q?{...Se,[pe]:he}:Se)}))},Yt=q=>{w(pe=>({...pe,bankDetails:pe.bankDetails.filter((he,De)=>De!==q)}))},_r=(q,pe)=>{w(he=>({...he,closingParagraphs:he.closingParagraphs.map(De=>De.id===q?{...De,content:pe}:De)}))},Nr=(q,pe)=>{const he=pe.target.files?.[0];if(!he)return;const De=he.type.startsWith("image/"),Se=he.type==="application/pdf"||he.name.toLowerCase().endsWith(".pdf");if(!De&&!Se){n({title:"Unsupported file type",description:"Please upload an image or a PDF file.",variant:"destructive"});return}if(he.size>10*1024*1024){n({title:"File too large",description:"Please upload a file smaller than 10MB.",variant:"destructive"});return}const cr=new FileReader;cr.onloadend=()=>{const es=typeof cr.result=="string"?cr.result:"";w(gr=>({...gr,uploadDrawings:Gf(gr.uploadDrawings).map(Wn=>Wn.id===q?{...Wn,fileName:he.name,mimeType:Se?"application/pdf":he.type||"image/png",dataUrl:es}:Wn)}))},cr.readAsDataURL(he)},Br=()=>{w(q=>({...q,uploadDrawings:[...Gf(q.uploadDrawings),Ah()]}))},qr=q=>{w(pe=>{const he=Gf(pe.uploadDrawings).filter(De=>De.id!==q);return{...pe,uploadDrawings:he.length>0?he:[Ah()]}})},er=L.useCallback((q,pe,he,De)=>{w(Se=>({...Se,[q]:Se[q].map((cr,es)=>es===pe?{...cr,[he]:De}:cr)}))},[]),ir=L.useCallback(q=>{w(pe=>{const he=pe[q];return{...pe,[q]:[...he,{slNo:he.length+1,description:"",details:""}]}})},[]),Kr=L.useCallback((q,pe)=>{w(he=>{const De=he[q];return De.length>1?{...he,[q]:De.filter((Se,cr)=>cr!==pe).map((Se,cr)=>({...Se,slNo:cr+1}))}:he})},[]),Qt=L.useCallback(q=>He[q]??!0,[He]),dr=L.useCallback(q=>{tt(pe=>({...pe,[q]:!(pe[q]??!0)}))},[]),Jr=L.useCallback((q,pe)=>{tt(he=>({...he,[q]:pe}))},[]),Ts=L.useCallback((q,pe)=>{q===pe||q<0||pe<0||Ve(he=>{if(q>=he.length||pe>=he.length)return he;const De=[...he],[Se]=De.splice(q,1);return De.splice(pe,0,Se),De})},[]),bn=L.useCallback(q=>{Ve(pe=>pe.filter(he=>he.id!==q)),tt(pe=>{const{[q]:he,...De}=pe;return De})},[]),ai=L.useCallback(q=>{let pe=null;Ve(he=>{const De=he.findIndex(gr=>gr.id===q);if(De===-1)return he;const Se=he[De],cr={id:`${Se.type}-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,type:Se.type,heading:Se.heading};pe=cr.id;const es=[...he];return es.splice(De+1,0,cr),es}),pe&&tt(he=>({...he,[pe]:!0}))},[]),Ei=L.useCallback((q,pe)=>{Ve(he=>he.map(De=>De.id===q?{...De,heading:pe}:De))},[]),Yr=L.useCallback(q=>ke.filter(pe=>pe.type===q),[ke]),En=L.useCallback(q=>ke.findIndex(pe=>pe.id===q),[ke]),gn=L.useCallback(q=>{const pe=En(q.id);return{isEditingHeading:ht===q.id,onStartEditHeading:()=>re(q.id),onHeadingChange:De=>Ei(q.id,De),onHeadingBlur:()=>{const De=ke.find(Se=>Se.id===q.id);De&&!De.heading.trim()&&Ei(q.id,Yf[q.type]),re(null)},onMoveUp:pe>0?()=>Ts(pe,pe-1):void 0,onMoveDown:pe>=0&&pe<ke.length-1?()=>Ts(pe,pe+1):void 0,onDuplicate:()=>ai(q.id),onDelete:()=>bn(q.id),canMoveUp:pe>0,canMoveDown:pe>=0&&pe<ke.length-1}},[ke,ai,ht,En,Ts,bn,Ei]),oi=async q=>{const pe=q?.save??!0,he=q?.silent??!1,De=q?.returnDataUri??!1;H(!0);try{const Se=new nr({orientation:"portrait",unit:"mm",format:"a4"}),cr=210,es=297,gr=15,Wn=cr-gr*2,li=35,ds=30,ci=Le=>Le*.2646,fs=ci(80),ui=ci(50),Ua=ci(80);let Qe=li+10,$r=1;const Bl=Le=>new Promise((Ke,ft)=>{const wt=new Image;wt.crossOrigin="anonymous",wt.onload=()=>{const Ft=document.createElement("canvas");Ft.width=wt.width,Ft.height=wt.height,Ft.getContext("2d")?.drawImage(wt,0,0),Ke(Ft.toDataURL("image/png"))},wt.onerror=ft,wt.src=Le});let nl=null,di=null,la=null;try{Fe?.headerUrl&&(nl=await Bl(Fe.headerUrl)),Fe?.footerUrl&&(di=await Bl(Fe.footerUrl)),Fe?.stampUrl&&(la=await Bl(Fe.stampUrl))}catch(Le){console.warn("Failed to load branding images:",Le)}const za=Le=>{nl&&Se.addImage(nl,"PNG",0,0,cr,li),di&&Se.addImage(di,"PNG",0,es-ds,cr,ds),la&&Se.addImage(la,"PNG",cr-ui-fs,es-Ua-fs,fs,fs),Se.setFontSize(8),Se.setTextColor(128,128,128),Se.text(`Page ${Le}`,cr/2,es-8,{align:"center"})},Dn=Le=>Qe+Le>es-ds-10?(Se.addPage(),$r++,za($r),Qe=li+10,!0):!1,as=(Le,Ke=14,ft="#1e3a5f",wt=!0)=>{Qe+=10,Dn(15),wt&&Ke>=12?(Se.setFillColor("#d92134"),Se.rect(gr,Qe-4,4,5,"F"),Se.setFontSize(Ke),Se.setTextColor(ft),Se.setFont("helvetica","bold"),Se.text(Le,gr+7,Qe)):(Se.setFontSize(Ke),Se.setTextColor(ft),Se.setFont("helvetica","bold"),Se.text(Le,gr,Qe)),Qe+=5.5},Li=(Le,Ke=10,ft=0)=>{Se.setFontSize(Ke),Se.setTextColor(0,0,0),Se.setFont("helvetica","normal"),Se.splitTextToSize(Le,Wn).forEach(Ft=>{Dn(6),Se.text(Ft,gr+ft,Qe),Qe+=5})},Es=(Le,Ke,ft)=>{Qe+=3;const wt=8,Ft=2,tr="#fff5f5",Lr="#eeb7b7";Dn(wt+5),Se.setFillColor(tr),Se.rect(gr,Qe-5,Wn,wt,"F"),Se.setDrawColor(Lr),Se.setLineWidth(.2),Se.rect(gr,Qe-5,Wn,wt,"S");let un=gr;Se.setFontSize(9),Se.setTextColor(0,0,0),Se.setFont("helvetica","bold"),Le.forEach((vn,Qr)=>{Se.line(un,Qe-5,un,Qe-5+wt),Se.text(vn,un+Ft,Qe),un+=ft[Qr]}),Se.line(un,Qe-5,un,Qe-5+wt),Qe+=wt,Se.setFont("helvetica","normal"),Ke.forEach((vn,Qr)=>{const An=vn.map((qs,Ii)=>Se.splitTextToSize(qs,ft[Ii]-Ft*2)),In=Math.max(...An.map(qs=>qs.length)),Fn=Math.max(wt,In*4+Ft);Dn(Fn),Qr%2===0&&(Se.setFillColor(245,245,245),Se.rect(gr,Qe-5,Wn,Fn,"F")),Se.setDrawColor(Lr),Se.rect(gr,Qe-5,Wn,Fn,"S");let Ot=gr;An.forEach((qs,Ii)=>{Se.line(Ot,Qe-5,Ot,Qe-5+Fn),qs.forEach((Co,il)=>{Se.text(Co,Ot+Ft,Qe-1+il*4)}),Ot+=ft[Ii]}),Se.line(Ot,Qe-5,Ot,Qe-5+Fn),Qe+=Fn}),Qe+=1.5},So=async()=>{const Le=window.pdfjsLib;if(Le)return Le;await new Promise((ft,wt)=>{const Ft=document.querySelector('script[data-pdfjs="true"]');if(Ft){Ft.addEventListener("load",()=>ft(),{once:!0}),Ft.addEventListener("error",()=>wt(new Error("Failed to load PDF renderer.")),{once:!0});return}const tr=document.createElement("script");tr.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",tr.async=!0,tr.dataset.pdfjs="true",tr.onload=()=>ft(),tr.onerror=()=>wt(new Error("Failed to load PDF renderer.")),document.head.appendChild(tr)});const Ke=window.pdfjsLib;if(!Ke)throw new Error("PDF renderer is unavailable.");return Ke.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js",Ke},yi=async Le=>{const Ke=await So(),ft=await(await fetch(Le)).arrayBuffer(),wt=await Ke.getDocument({data:ft}).promise,Ft=[],tr=Math.min(wt.numPages,30);for(let Lr=1;Lr<=tr;Lr++){const un=await wt.getPage(Lr),vn=un.getViewport({scale:1.5}),Qr=document.createElement("canvas");Qr.width=vn.width,Qr.height=vn.height;const An=Qr.getContext("2d");An&&(await un.render({canvasContext:An,viewport:vn}).promise,Ft.push(Qr.toDataURL("image/jpeg",.9)))}return Ft},jo=(Le,Ke)=>{Se.addPage(),$r++,za($r),Qe=li+10,Se.setFont("helvetica","bold"),Se.setFontSize(10),Se.setTextColor(30,58,95),Se.splitTextToSize(Ke,Wn).forEach(Ot=>{Se.text(Ot,gr,Qe),Qe+=5}),Qe+=1;const wt=Se.getImageProperties(Le),Ft=Wn,tr=es-ds-Qe-8,Lr=Ft/wt.width,un=tr/wt.height,vn=Math.min(Lr,un),Qr=wt.width*vn,An=wt.height*vn,In=gr+(Ft-Qr)/2,Fn=Le.startsWith("data:image/png")?"PNG":"JPEG";Se.addImage(Le,Fn,In,Qe,Qr,An)};za(1),Se.setFontSize(10),Se.setTextColor(0,0,0),Se.text(`Ref.: ${u.quotationNumber}`,gr,Qe),Se.text(`Date: ${new Date().toLocaleDateString("en-IN")}, Revision: ${u.revision}`,cr-gr,Qe,{align:"right"}),Qe+=8,Se.text(`Enquiry no.: ${u.enquiryNumber}`,gr,Qe),Qe+=8,Se.text(`Project Location: ${yt?.location||"-"}`,gr,Qe),Qe+=15,Se.setFontSize(18),Se.setTextColor("#da2032"),Se.setFont("helvetica","bold"),Se.text(u.proposalTitle||"Techno-Commercial Offer",cr/2,Qe,{align:"center"}),Qe+=15,Se.setFontSize(12),Se.setTextColor(0,0,0),Se.setFont("helvetica","bold"),Se.text(u.toLabel||"To",gr,Qe),Qe+=6,Se.setFont("helvetica","normal"),Se.text(`${u.msLabel||"M/s"} ${oe?.name||"-"}`,gr,Qe),Qe+=6,Se.setFontSize(10),Se.setFont("helvetica","normal"),Se.text(`${oe?.location||""}`,gr,Qe),Qe+=12,Se.setFont("helvetica","bold"),Se.text(`Subject: ${u.subject}`,gr,Qe),Qe+=12,Se.setFont("helvetica","normal"),m.introSections.forEach(Le=>{Li(Le.content,10,0)}),Qe+=7,Se.setFont("helvetica","normal"),Se.setFontSize(10),Se.text("Regards,",gr,Qe),Qe+=6,Se.setFont("helvetica","bold"),Se.text(u.contactName,gr,Qe),Qe+=5,Se.setFont("helvetica","normal"),Se.text(`Mo: ${u.contactMobile}`,gr,Qe),Qe+=5,Se.text(`Email: ${u.contactEmail}`,gr,Qe),Qe+=5.5,Se.addPage(),$r++,za($r),Qe=li+10;const ql=$r;Se.setFontSize(16),Se.setTextColor("#1e3a5f"),Se.setFont("helvetica","bold"),Se.text("INDEX",cr/2,Qe,{align:"center"}),Qe+=15;const Ul=Qe,oo=[];Qe+=80,Se.addPage(),$r++,za($r),Qe=li+10,ke.forEach((Le,Ke)=>{const ft=Le.heading&&Le.heading.trim().length>0?Le.heading:Yf[Le.type]||`Section ${Ke+1}`,wt=ft,Ft=ke.slice(0,Ke).filter(Lr=>Lr.heading===Le.heading).length,tr=Ft>0?`${wt} (${Ft+1})`:wt;switch(oo.push({title:tr,page:$r}),Le.type){case"scopeBrief":Dn(50),as(ft,14,"#1e3a5f"),Es(["Sl. No.","Description","Details"],m.scopeBriefDetails.map(Ot=>[Ot.slNo.toString(),Ot.description,Ot.details]),[25,90,65]);break;case"scopeBasic":Dn(50),as(ft,14,"#1e3a5f"),Es(["Sl. No.","Description","Details"],m.scopeBasicBuilding.map(Ot=>[Ot.slNo.toString(),Ot.description,Ot.details]),[25,90,65]);break;case"scopeAdditions":Dn(50),as(ft,14,"#1e3a5f"),Es(["Sr. No.","Description","Details"],m.scopeBuildingAdditions.map(Ot=>[Ot.slNo.toString(),Ot.description,Ot.details]),[25,90,65]);break;case"steelWork":Dn(50),as(ft,14,"#1e3a5f"),Es(["No.","Description","Details"],m.steelWorkFinish.map(Ot=>[Ot.slNo.toString(),Ot.description,Ot.details]),[20,80,80]);break;case"designLoads":Dn(50),as(ft,14,"#1e3a5f"),Es(["Sr. No.","Description","Details"],m.designLoads.map(Ot=>[Ot.slNo.toString(),Ot.description,Ot.details]),[25,90,65]);break;case"applicableCodes":Dn(45),as(ft,14,"#1e3a5f"),m.applicableCodes.forEach(Ot=>{Li(` ${Ot}`,9,5)});break;case"materialSpecs":Dn(50),as(ft,14,"#1e3a5f"),Es(["SI. No.","Structural Components","Details"],m.materialSpecs.map(Ot=>[Ot.slNo.toString(),Ot.description,Ot.details]),[25,90,65]);break;case"drawingsDelivery":Dn(45),as(ft,14,"#1e3a5f"),m.drawingsDelivery.forEach(Ot=>{Li(` ${Ot}`,9,5)});break;case"erectionScopeClient":Dn(45),as(ft,14,"#1e3a5f"),m.erectionScopeClient.forEach(Ot=>{Li(` ${Ot}`,9,5)});break;case"erectionScopeCompany":Dn(45),as(ft,14,"#1e3a5f"),m.erectionScopeCompany.forEach(Ot=>{Li(` ${Ot}`,9,5)});break;case"commercialPrice":Dn(60),as(ft,14,"#1e3a5f");const Lr=["S.N.","Description","UOM","QTY","Rate","Amount","Remarks"],un=f.map(Ot=>[Ot.serialNo.toString(),Ot.description,Ot.unit,Ot.quantity.toString(),`Rs.${Ot.rate.toLocaleString("en-IN")}`,`Rs.${Ot.amount.toLocaleString("en-IN")}`,Ot.remarks||""]);Es(Lr,un,[15,55,20,20,25,30,15]);const vn=Rt();Dn(18);const Qr=75,An=9,In=cr-gr-Qr;Se.setFillColor("#fff5f5"),Se.setDrawColor("#eeb7b7"),Se.setLineWidth(.2),Se.rect(In,Qe-3,Qr,An,"FD"),Se.setFont("helvetica","bold"),Se.setFontSize(10),Se.setTextColor(0,0,0);const Fn=vn.toLocaleString("en-IN");Se.text(`Total Amount: ${Fn}.`,In+3,Qe+2),Qe+=An+2;break;case"paymentTerms":Dn(50),as(ft,14,"#1e3a5f"),bl(m.paymentTermSections,m.paymentTerms).forEach(Ot=>{Dn(8),Se.setFont("helvetica","bold"),Se.setFontSize(10),Se.setTextColor(0,0,0),Se.text(Ot.heading,gr,Qe),Qe+=5,Ot.terms.forEach((qs,Ii)=>{Li(`${Ii+1}. ${qs}`,9,5)}),Qe+=2}),as("BANK DETAILS",11,"#1e3a5f"),m.bankDetails.forEach(Ot=>{Li(`${Ot.particular}: ${Ot.value}`,9,0)});break;case"commercialTerms":Dn(80),as(ft,14,"#1e3a5f"),Es(["SI. No.","Description","Conditions"],m.commercialTerms.map(Ot=>[Ot.slNo.toString(),Ot.description,Ot.conditions]),[20,45,115]);break;default:break}}),Dn(30),as("Notes:",11,"#333333"),m.notes.forEach((Le,Ke)=>{Li(`${Ke+1}. ${Le}`,9,5)}),Qe+=7,Dn(20),m.closingParagraphs.forEach(Le=>{Li(Le.content,10,0)}),Qe+=3.5,Qe+=7,Qe+=10,Se.setFont("helvetica","bold"),Se.setFontSize(11),Se.setTextColor(0,0,0),Se.text(m.closingThanks||"Thanking you",gr,Qe),Qe+=6,Se.setTextColor("#da2032"),Se.text(m.closingCompanyName||"Revira Nexgen Structures Pvt. Ltd",gr,Qe);const Ri=Gf(m.uploadDrawings).filter(Le=>Le.dataUrl);if(Ri.length>0){oo.push({title:"Upload a Drawing",page:$r+1});for(const Le of Ri)if(Le.mimeType==="application/pdf")try{const Ke=await yi(Le.dataUrl);if(Ke.length===0)throw new Error("No pages rendered");for(let ft=0;ft<Ke.length;ft++)jo(Ke[ft],`${Le.fileName||"Uploaded PDF"} - Page ${ft+1}`)}catch(Ke){Se.addPage(),$r++,za($r),Qe=li+10,Se.setFont("helvetica","bold"),Se.setFontSize(11),Se.setTextColor(218,32,50),Se.text("Uploaded PDF could not be rendered",gr,Qe),Qe+=7,Se.setFont("helvetica","normal"),Se.setFontSize(10),Se.setTextColor(0,0,0),Se.text(`File: ${Le.fileName||"Attachment"}`,gr,Qe),Qe+=6,Se.splitTextToSize("PDF pages were skipped because the renderer could not be loaded in this browser/session.",Wn).forEach(wt=>{Se.text(wt,gr,Qe),Qe+=5}),console.warn("Failed to render PDF attachment:",Ke)}else Le.dataUrl.startsWith("data:image/")&&jo(Le.dataUrl,Le.fileName||"Uploaded image")}Se.setPage(ql);const Zs=Ul,Ys=8,Di="#eeb7b7",_a=[25,120,Wn-145];let Ls=gr;Se.setFillColor("#fff5f5"),Se.rect(gr,Zs-5,Wn,Ys,"F"),Se.setDrawColor(Di),Se.setLineWidth(.3),Se.rect(gr,Zs-5,Wn,Ys,"S");let fi=gr;_a.forEach(Le=>{Se.line(fi,Zs-5,fi,Zs-5+Ys),fi+=Le}),Se.line(fi,Zs-5,fi,Zs-5+Ys),Se.setFontSize(9),Se.setTextColor(0,0,0),Se.setFont("helvetica","bold"),Se.text("Sl. No.",Ls+2,Zs),Ls+=25,Se.text("Subject",Ls+2,Zs),Ls+=120,Se.text("Page No.",Ls+2,Zs);let Xs=Zs+Ys;Se.setTextColor(0,0,0),Se.setFont("helvetica","normal"),oo.forEach((Le,Ke)=>{Ls=gr,Ke%2===0&&(Se.setFillColor(245,245,245),Se.rect(gr,Xs-5,Wn,Ys,"F")),Se.setDrawColor(Di),Se.rect(gr,Xs-5,Wn,Ys,"S"),fi=gr,_a.forEach(ft=>{Se.line(fi,Xs-5,fi,Xs-5+Ys),fi+=ft}),Se.line(fi,Xs-5,fi,Xs-5+Ys),Se.text((Ke+1).toString(),Ls+2,Xs),Ls+=25,Se.text(Le.title,Ls+2,Xs),Ls+=120,Se.text(Le.page?.toString()||"-",Ls+2,Xs),Xs+=Ys});const wi=new Date,Aa=String(wi.getDate()).padStart(2,"0"),Js=String(wi.getMonth()+1).padStart(2,"0"),Vi=wi.getFullYear(),sl=`${Aa}${Js}${Vi}`,b=oe?.name?oe.name.split(/\s+/).map(Le=>Le.charAt(0).toUpperCase()).join(""):"COMPANY",$=yt?.quotationType==="Supply and Fabrication"?"Peb":yt?.quotationType==="Structural Fabrication"?"SF":"JW",de=String(yt?.id||1).padStart(3,"0"),be=`RNS_${sl}_${b}_${$}-${de}_${u.revision}.pdf`,Ee=De?Se.output("datauristring",{filename:be}):void 0;return pe&&Se.save(be),he||n({title:pe?"PDF exported":"PDF generated",description:pe?"The quotation has been exported as PDF.":"The quotation PDF is ready."}),{filename:be,dataUri:Ee}}catch(Se){return console.error("PDF export error:",Se),he||n({title:"Export failed",description:"Failed to export PDF. Please try again.",variant:"destructive"}),null}finally{H(!1)}},ao=()=>{const q=u.quotationNumber||"-",pe=u.revision||"-",he=oe?.name||"Client";return`Quotation ${q} (${pe}) for ${he} is ready. Please find the exported PDF attached.`},$i="9968422442",ys=()=>{if(!Re?.id){n({title:"Save required",description:"Please save quotation first, then send via email.",variant:"destructive"});return}Ge({to:oe?.emailAddress||"",subject:`Quotation ${u.quotationNumber||""} ${u.revision||""}`.trim(),message:`${ao()}

Project: ${yt?.projectName||"-"}
Client: ${oe?.name||"-"}
Date: ${new Date().toLocaleDateString("en-GB")}`}),j(!0)},oa=async()=>{if(!Re?.id){n({title:"Save required",description:"Please save quotation first, then send via email.",variant:"destructive"});return}const q=Te.to.split(",").map(De=>De.trim()).filter(Boolean);if(q.length===0){n({title:"Email required",description:"Please enter at least one recipient email id.",variant:"destructive"});return}if(!Te.subject.trim()){n({title:"Subject required",description:"Please enter email subject.",variant:"destructive"});return}if(!Te.message.trim()){n({title:"Message required",description:"Please enter message body.",variant:"destructive"});return}le(!0);const pe=await oi({save:!1,silent:!0,returnDataUri:!0});if(!pe?.dataUri){le(!1),n({title:"PDF failed",description:"Unable to generate quotation PDF for email.",variant:"destructive"});return}const he=pe.dataUri.split(",")[1]||"";try{await Mr("POST",`/revira/api/quotations/${Re.id}/send-email`,{to:q,subject:Te.subject.trim(),message:Te.message.trim(),fileName:pe.filename,pdfBase64:he}),n({title:"Email sent",description:`Quotation emailed to ${q.join(", ")}.`}),j(!1)}catch(De){n({title:"Send failed",description:De?.message||"Failed to send email.",variant:"destructive"})}finally{le(!1)}},Ol=()=>{if(!Re?.id){n({title:"Save required",description:"Please save quotation first, then send on WhatsApp.",variant:"destructive"});return}const q=(oe?.mobileNumber||"").replace(/\D/g,""),pe=q.length===10?`91${q}`:q;nt({mobile:pe,message:`${ao()}
Project: ${yt?.projectName||"-"}
Client: ${oe?.name||"-"}
From: ${$i}`}),C(!0)},Ml=async()=>{const q=at.mobile.replace(/\D/g,"");if(!q){n({title:"Mobile required",description:"Please enter mobile number.",variant:"destructive"});return}if(!at.message.trim()){n({title:"Message required",description:"Please enter message body.",variant:"destructive"});return}je(!0);const pe=await oi({save:!1,silent:!0,returnDataUri:!0});if(!pe?.dataUri){je(!1),n({title:"PDF failed",description:"Unable to generate quotation PDF for WhatsApp send.",variant:"destructive"});return}const he=pe.dataUri.split(",")[1]||"";try{await Mr("POST",`/revira/api/quotations/${Re?.id}/send-whatsapp`,{to:q,message:at.message.trim(),fileName:pe.filename,pdfBase64:he}),n({title:"WhatsApp sent",description:`Quotation sent to ${q}.`}),C(!1)}catch(De){n({title:"Send failed",description:De?.message||"Failed to send WhatsApp message.",variant:"destructive"})}finally{je(!1)}},ws=({title:q,number:pe,expanded:he,onToggle:De,onAdd:Se,testId:cr,isEditingHeading:es,onStartEditHeading:gr,onHeadingChange:Wn,onHeadingBlur:li,onMoveUp:ds,onMoveDown:ci,onDuplicate:fs,onDelete:ui,canMoveUp:Ua=!0,canMoveDown:Qe=!0})=>i.jsxs("div",{className:"flex items-center gap-3 bg-[#d92134] text-white px-4 py-3 rounded-lg cursor-pointer",onClick:De,"data-testid":cr||`section-header-${pe}`,children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-white text-[#d92134] rounded font-bold text-sm",children:pe}),es?i.jsx(et,{value:q,onChange:$r=>Wn?.($r.target.value),onBlur:li,onKeyDown:$r=>{($r.key==="Enter"||$r.key==="Escape")&&li?.()},autoFocus:!0,className:"h-8 flex-1 text-slate-900 bg-white",onClick:$r=>$r.stopPropagation()}):i.jsx("span",{className:"font-semibold flex-1",children:q}),gr&&!es&&i.jsx(Be,{variant:"ghost",size:"icon",onClick:$r=>{$r.stopPropagation(),gr()},className:"text-white hover:bg-white/20 h-7 w-7",title:"Edit heading",children:i.jsx(Xa,{className:"h-4 w-4"})}),Se&&i.jsxs(Be,{variant:"ghost",size:"sm",onClick:$r=>{$r.stopPropagation(),Se()},className:"text-white hover:bg-white/20 h-7",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add"]}),ds&&i.jsx(Be,{variant:"ghost",size:"icon",onClick:$r=>{$r.stopPropagation(),ds()},className:"text-white hover:bg-white/20 h-7 w-7",disabled:!Ua,title:"Move up",children:i.jsx(Up,{className:"h-4 w-4"})}),ci&&i.jsx(Be,{variant:"ghost",size:"icon",onClick:$r=>{$r.stopPropagation(),ci()},className:"text-white hover:bg-white/20 h-7 w-7",disabled:!Qe,title:"Move down",children:i.jsx(Od,{className:"h-4 w-4"})}),fs&&i.jsx(Be,{variant:"ghost",size:"icon",onClick:$r=>{$r.stopPropagation(),fs()},className:"text-white hover:bg-white/20 h-7 w-7",title:"Duplicate block",children:i.jsx(ih,{className:"h-4 w-4"})}),ui&&i.jsx(Be,{variant:"ghost",size:"icon",onClick:$r=>{$r.stopPropagation(),ui()},className:"text-white hover:bg-white/20 h-7 w-7",title:"Delete block",children:i.jsx(mn,{className:"h-4 w-4"})}),he?i.jsx(Up,{className:"h-5 w-5"}):i.jsx(Od,{className:"h-5 w-5"})]});return _t||Ne?i.jsx(ks,{user:a,children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):!yt||!oe?i.jsx(ks,{user:a,children:i.jsxs("div",{className:"text-center py-16",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Project not found"}),i.jsx(Be,{onClick:()=>r("/revira/projects"),className:"mt-4",children:"Back to Projects"})]})}):i.jsxs(ks,{user:a,children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>r("/revira/projects"),"data-testid":"button-back",children:i.jsx(sf,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:yt.projectName}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500",children:[i.jsx(eu,{className:"h-4 w-4"}),yt.location]})]})]}),i.jsxs(Be,{className:"bg-[#d92134] hover:bg-[#b51c2c]","data-testid":"button-new-quotation",children:[i.jsx(xa,{className:"w-4 h-4 mr-2"}),"New Quotation"]})]}),i.jsxs("div",{className:"bg-[#d92134] rounded-xl p-4 mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-90",onClick:()=>me(!0),"data-testid":"button-versions-count",children:[i.jsx("span",{className:"text-white font-medium",children:"Versions"}),i.jsx("div",{className:"flex items-center justify-center px-3 h-8 bg-white text-[#d92134] rounded font-bold",children:Re?.revision||u.revision||"R-001"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:()=>me(!0),"data-testid":"button-view-versions",children:i.jsx(Om,{className:"h-4 w-4"})}),Re&&i.jsx(Be,{variant:"outline",size:"icon",onClick:()=>yn.mutate(),disabled:yn.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-duplicate",children:i.jsx(ih,{className:"w-4 h-4"})}),i.jsxs(Be,{onClick:()=>{oi()},disabled:M,className:"bg-[#22c55e] hover:bg-[#16a34a] text-white","data-testid":"button-export-pdf",children:[i.jsx(Eh,{className:"w-4 h-4 mr-2"}),M?"Exporting...":"Export PDF"]}),i.jsx(Be,{variant:"outline",size:"icon",onClick:ys,disabled:M,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-send-email",title:"Send quotation by email",children:i.jsx(Lh,{className:"w-4 h-4"})}),i.jsx(Be,{variant:"outline",size:"icon",onClick:Ol,disabled:M,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-send-whatsapp",title:"Send quotation on WhatsApp",children:i.jsx(s_,{className:"w-4 h-4"})}),i.jsxs(Be,{variant:"outline",onClick:Cr,disabled:Tt.isPending||St.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-save-quotation",children:[i.jsx(af,{className:"w-4 h-4 mr-2"}),Tt.isPending||St.isPending?"Saving...":"Save Changes"]}),Re&&ze&&ze.length>1&&i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 hover:text-red-200",onClick:async()=>{if(confirm(`Are you sure you want to delete this quotation (${Re.revision})?`))try{await Mr("DELETE",`/revira/api/quotations/${Re.id}`),Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation-versions"]});const q=ze.filter(pe=>pe.id!==Re.id);q.length>0?r(`/revira/projects/${t}/quotation/${q[0].id}`):r(`/revira/projects/${t}/quotation`),n({title:"Quotation deleted",description:`${Re.revision} has been deleted.`})}catch{n({title:"Error",description:"Failed to delete quotation.",variant:"destructive"})}},"data-testid":"button-delete-quotation",children:i.jsx(mn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{ref:o,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[i.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b bg-slate-50",children:[i.jsx("div",{className:"p-2 bg-[#da2032] rounded",children:i.jsx(xa,{className:"h-5 w-5 text-white"})}),i.jsx("h2",{className:"text-lg font-bold text-[#d92134] uppercase tracking-wide",children:"Technical Proposal Metadata"})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Ref ID"}),i.jsx(et,{value:u.quotationNumber,onChange:q=>c({...u,quotationNumber:q.target.value}),className:"mt-1 bg-slate-50 border-slate-200","data-testid":"input-quotation-number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Creation Date"}),i.jsx(et,{value:sr(),readOnly:!0,className:"mt-1 bg-slate-50 border-slate-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Enquiry Ref"}),i.jsx(et,{value:u.enquiryNumber,onChange:q=>c({...u,enquiryNumber:q.target.value}),className:"mt-1 bg-slate-50 border-slate-200","data-testid":"input-enquiry-number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Project Site (Legacy)"}),i.jsx(et,{value:yt.location,readOnly:!0,className:"mt-1 bg-slate-50 border-slate-200"})]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[i.jsx("label",{className:"text-xs font-medium text-[#da2032] uppercase tracking-wide",children:"Proposal Header Title"}),i.jsx(et,{value:u.proposalTitle,onChange:q=>c({...u,proposalTitle:q.target.value}),className:"mt-2 text-lg font-bold bg-white border-slate-200","data-testid":"input-proposal-title"})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[i.jsx("label",{className:"text-xs font-medium text-[#da2032] uppercase tracking-wide",children:"Client Subject Specification"}),i.jsx(et,{value:u.subject,onChange:q=>c({...u,subject:q.target.value}),className:"mt-2 bg-white border-slate-200","data-testid":"input-subject"})]})]})]}),i.jsxs(Ar,{className:"shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b bg-slate-50",children:[i.jsx("div",{className:"p-2 bg-[#d92134] rounded",children:i.jsx(xa,{className:"h-5 w-5 text-white"})}),i.jsx("h2",{className:"text-lg font-bold text-[#d92134] uppercase tracking-wide",children:"Main Covering Letter"})]}),i.jsxs(Pr,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500",children:"To Label"}),i.jsx(et,{value:u.toLabel,onChange:q=>c({...u,toLabel:q.target.value}),className:"mt-1","data-testid":"input-to-label"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500",children:"M/s Label"}),i.jsx(et,{value:u.msLabel,onChange:q=>c({...u,msLabel:q.target.value}),className:"mt-1","data-testid":"input-ms-label"})]})]}),i.jsxs("p",{className:"font-semibold text-slate-700",children:[u.toLabel||"To",","]}),i.jsx("p",{className:"font-semibold text-slate-800 mt-1",children:(u.msLabel||"M/s")+" "+oe.name}),i.jsx("p",{className:"text-slate-600 text-slate-700 mt-1",children:oe.location})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-slate-700",children:"Subject: "}),i.jsx("span",{className:"text-slate-600",children:u.subject})]}),i.jsxs("div",{className:"text-sm text-slate-700 space-y-2",children:[i.jsx("p",{children:"Dear Sir,"}),m.introSections.map((q,pe)=>i.jsx("div",{className:"group relative",children:A===q.id?i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ss,{value:q.content,onChange:he=>mr(q.id,he.target.value),className:"flex-1 min-h-[60px]",autoFocus:!0}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(Be,{size:"icon",variant:"ghost",onClick:()=>y(null),children:i.jsx(Rd,{className:"h-4 w-4 text-green-600"})}),i.jsx(Be,{size:"icon",variant:"ghost",onClick:()=>fr(q.id),children:i.jsx(mn,{className:"h-4 w-4 text-red-600"})})]})]}):i.jsxs("p",{className:"cursor-pointer hover:bg-slate-50 p-2 rounded border border-transparent hover:border-slate-200",onClick:()=>y(q.id),children:[q.content,i.jsx(Xa,{className:"inline-block ml-2 h-3 w-3 text-slate-400 opacity-0 group-hover:opacity-100"})]})},q.id)),i.jsxs(Be,{variant:"ghost",size:"sm",onClick:cn,className:"text-[#da2032]","data-testid":"button-add-intro",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add Paragraph"]})]})]})]}),i.jsxs(Ar,{className:"shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b bg-slate-50",children:[i.jsx("div",{className:"p-2 bg-[#d92134] rounded",children:i.jsx(xa,{className:"h-5 w-5 text-white"})}),i.jsx("h2",{className:"text-lg font-bold text-[#d92134] uppercase tracking-wide",children:"Master Signatory Authority"})]}),i.jsx(Pr,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Full Legal Name"}),i.jsx(et,{value:u.contactName,onChange:q=>c({...u,contactName:q.target.value}),className:"mt-1 bg-slate-50 border-slate-200","data-testid":"input-contact-name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Contact Handset"}),i.jsx(et,{value:u.contactMobile,onChange:q=>c({...u,contactMobile:q.target.value}),className:"mt-1 bg-slate-50 border-slate-200","data-testid":"input-contact-mobile"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"Official Email Address"}),i.jsx(et,{value:u.contactEmail,onChange:q=>c({...u,contactEmail:q.target.value}),className:"mt-1 bg-slate-50 border-slate-200","data-testid":"input-contact-email"})]})]})})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[yt?.quotationType==="Supply and Fabrication"&&i.jsxs(i.Fragment,{children:[Yr("scopeBrief").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"01",expanded:Qt(q.id),onToggle:()=>dr(q.id),...gn(q)}),Qt(q.id)&&i.jsx(kd,{data:m.scopeBriefDetails,section:"scopeBriefDetails",onUpdateRow:er,onRemoveRow:Kr,onAddRow:ir})]},q.id)),Yr("scopeBasic").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"02",expanded:Qt(q.id),onToggle:()=>dr(q.id),...gn(q)}),Qt(q.id)&&i.jsx(kd,{data:m.scopeBasicBuilding,section:"scopeBasicBuilding",onUpdateRow:er,onRemoveRow:Kr,onAddRow:ir})]},q.id)),Yr("scopeAdditions").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"03",expanded:Qt(q.id),onToggle:()=>dr(q.id),...gn(q)}),Qt(q.id)&&i.jsx(kd,{data:m.scopeBuildingAdditions,section:"scopeBuildingAdditions",onUpdateRow:er,onRemoveRow:Kr,onAddRow:ir})]},q.id)),Yr("steelWork").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"04",expanded:Qt(q.id),onToggle:()=>dr(q.id),...gn(q)}),Qt(q.id)&&i.jsx(kd,{data:m.steelWorkFinish,section:"steelWorkFinish",onUpdateRow:er,onRemoveRow:Kr,onAddRow:ir})]},q.id)),Yr("designLoads").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"05",expanded:Qt(q.id),onToggle:()=>dr(q.id),...gn(q)}),Qt(q.id)&&i.jsx(kd,{data:m.designLoads,section:"designLoads",onUpdateRow:er,onRemoveRow:Kr,onAddRow:ir})]},q.id)),Yr("applicableCodes").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"",expanded:Qt(q.id),onToggle:()=>dr(q.id),onAdd:xt,...gn(q)}),Qt(q.id)&&i.jsx(Ar,{className:"shadow-sm",children:i.jsx(Pr,{className:"p-6",children:i.jsx("ul",{className:"space-y-3 text-sm",children:m.applicableCodes.map((pe,he)=>i.jsx("li",{className:"flex items-start gap-3 group",children:F===he?i.jsxs(i.Fragment,{children:[i.jsx(ss,{value:pe,onChange:De=>jt(he,De.target.value),onBlur:()=>X(null),autoFocus:!0,className:"flex-1 min-h-[60px]"}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Pt(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-[#d92134] font-bold mt-0.5",children:""}),i.jsx("span",{className:"text-slate-700 flex-1",children:pe}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>X(he),children:i.jsx(Xa,{className:"h-4 w-4"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Pt(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]})},he))})})})]},q.id)),Yr("materialSpecs").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"06",expanded:Qt(q.id),onToggle:()=>dr(q.id),...gn(q)}),Qt(q.id)&&i.jsx(kd,{data:m.materialSpecs,section:"materialSpecs",onUpdateRow:er,onRemoveRow:Kr,onAddRow:ir})]},q.id)),Yr("drawingsDelivery").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"09",expanded:Qt(q.id),onToggle:()=>dr(q.id),onAdd:br,...gn(q)}),Qt(q.id)&&i.jsx(Ar,{className:"shadow-sm",children:i.jsx(Pr,{className:"p-6",children:i.jsx("ul",{className:"space-y-3 text-sm",children:m.drawingsDelivery.map((pe,he)=>i.jsx("li",{className:"flex items-start gap-3 group",children:ae===he?i.jsxs(i.Fragment,{children:[i.jsx(ss,{value:pe,onChange:De=>ur(he,De.target.value),onBlur:()=>W(null),autoFocus:!0,className:"flex-1 min-h-[60px]"}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>At(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-[#d92134] font-bold mt-0.5",children:""}),i.jsx("span",{className:"text-slate-700 flex-1",children:pe}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>W(he),children:i.jsx(Xa,{className:"h-4 w-4"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>At(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]})},he))})})})]},q.id)),Yr("erectionScopeClient").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"10",expanded:Qt(q.id),onToggle:()=>dr(q.id),onAdd:vr,...gn(q)}),Qt(q.id)&&i.jsx(Ar,{className:"shadow-sm",children:i.jsx(Pr,{className:"p-6",children:i.jsx("ul",{className:"space-y-3 text-sm",children:m.erectionScopeClient.map((pe,he)=>i.jsx("li",{className:"flex items-start gap-3 group",children:te===he?i.jsxs(i.Fragment,{children:[i.jsx(ss,{value:pe,onChange:De=>ut(he,De.target.value),onBlur:()=>Q(null),autoFocus:!0,className:"flex-1 min-h-[60px]"}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>rt(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-[#d92134] font-bold mt-0.5",children:""}),i.jsx("span",{className:"text-slate-700 flex-1",children:pe}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Q(he),children:i.jsx(Xa,{className:"h-4 w-4"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>rt(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]})},he))})})})]},q.id)),Yr("erectionScopeCompany").map(q=>i.jsxs("div",{className:"space-y-4",style:{order:En(q.id)},children:[i.jsx(ws,{title:q.heading,number:"11",expanded:Qt(q.id),onToggle:()=>dr(q.id),onAdd:ot,...gn(q)}),Qt(q.id)&&i.jsx(Ar,{className:"shadow-sm",children:i.jsx(Pr,{className:"p-6",children:i.jsx("ul",{className:"space-y-3 text-sm",children:m.erectionScopeCompany.map((pe,he)=>i.jsx("li",{className:"flex items-start gap-3 group",children:fe===he?i.jsxs(i.Fragment,{children:[i.jsx(ss,{value:pe,onChange:De=>Ye(he,De.target.value),onBlur:()=>U(null),autoFocus:!0,className:"flex-1 min-h-[60px]"}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>it(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-[#d92134] font-bold mt-0.5",children:""}),i.jsx("span",{className:"text-slate-700 flex-1",children:pe}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>U(he),children:i.jsx(Xa,{className:"h-4 w-4"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>it(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]})},he))})})})]},q.id))]}),Yr("commercialPrice").map(q=>i.jsx(y0,{type:"single",collapsible:!0,value:Qt(q.id)?`commercial-price-${q.id}`:"",onValueChange:pe=>Jr(q.id,pe===`commercial-price-${q.id}`),style:{order:En(q.id)},children:i.jsxs(Wp,{value:`commercial-price-${q.id}`,className:"border-0",children:[i.jsx(Gp,{className:"p-0 hover:no-underline [&>svg]:hidden text-left",children:i.jsx("div",{className:"w-full text-left",children:i.jsx(ws,{title:q.heading,number:yt?.quotationType==="Supply and Fabrication"?"12":"01",expanded:Qt(q.id),onToggle:()=>dr(q.id),...gn(q)})})}),i.jsx(Kp,{className:"p-0 pt-4",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-50 border-b",children:[i.jsx("th",{className:"text-left p-3 w-16 text-slate-600 font-medium",children:"S.N."}),i.jsx("th",{className:"text-left p-3 text-slate-600 font-medium",children:"Description"}),i.jsx("th",{className:"text-left p-3 w-24 text-slate-600 font-medium",children:"Unit"}),i.jsx("th",{className:"text-right p-3 w-24 text-slate-600 font-medium",children:"Quantity"}),i.jsx("th",{className:"text-right p-3 w-24 text-slate-600 font-medium",children:"Rate"}),i.jsx("th",{className:"text-right p-3 w-32 text-slate-600 font-medium",children:"Amount"}),i.jsx("th",{className:"text-left p-3 w-32 text-slate-600 font-medium",children:"Remarks"}),i.jsx("th",{className:"w-12 p-3"})]})}),i.jsxs("tbody",{children:[f.map((pe,he)=>i.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[i.jsx("td",{className:"p-3 text-center text-slate-600",children:pe.serialNo}),i.jsx("td",{className:"p-3",children:i.jsx(ss,{value:pe.description,onChange:De=>Ir(he,"description",De.target.value),className:"min-h-[60px] text-sm border-0 bg-transparent focus:bg-white","data-testid":`input-item-desc-${he}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:pe.unit,onChange:De=>Ir(he,"unit",De.target.value),className:"h-8 text-sm border-0 bg-transparent focus:bg-white","data-testid":`input-item-unit-${he}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{type:"number",value:pe.quantity,onChange:De=>Ir(he,"quantity",De.target.value),className:"h-8 text-sm text-right border-0 bg-transparent focus:bg-white","data-testid":`input-item-qty-${he}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{type:"number",value:pe.rate,onChange:De=>Ir(he,"rate",De.target.value),className:"h-8 min-w-[90px] text-sm text-right border-0 bg-transparent focus:bg-white","data-testid":`input-item-rate-${he}`})}),i.jsx("td",{className:"p-3 text-right font-medium",children:wr(pe.amount)}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:pe.remarks,onChange:De=>Ir(he,"remarks",De.target.value),className:"h-8 text-sm border-0 bg-transparent focus:bg-white","data-testid":`input-item-remarks-${he}`})}),i.jsx("td",{className:"p-3",children:i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>pr(he),disabled:f.length===1,className:"h-8 w-8 text-red-500 hover:text-red-700","data-testid":`button-remove-item-${he}`,children:i.jsx(mn,{className:"h-4 w-4"})})})]},he)),i.jsxs("tr",{className:"bg-slate-50 font-semibold",children:[i.jsx("td",{colSpan:5,className:"p-3 text-right",children:"Total:"}),i.jsx("td",{className:"p-3 text-right",children:wr(Rt())}),i.jsx("td",{colSpan:2})]})]})]}),i.jsx("div",{className:"p-3 border-t bg-slate-50 text-center",children:i.jsxs(Be,{variant:"ghost",size:"sm",onClick:yr,className:"text-[#d92134]","data-testid":"button-add-row",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add Row"]})})]})})})]})},q.id)),Yr("paymentTerms").map(q=>i.jsx(y0,{type:"single",collapsible:!0,value:Qt(q.id)?`payment-terms-${q.id}`:"",onValueChange:pe=>Jr(q.id,pe===`payment-terms-${q.id}`),style:{order:En(q.id)},children:i.jsxs(Wp,{value:`payment-terms-${q.id}`,className:"border-0",children:[i.jsx(Gp,{className:"p-0 hover:no-underline [&>svg]:hidden text-left",children:i.jsx("div",{className:"w-full text-left",children:i.jsx(ws,{title:q.heading,number:"PT",expanded:Qt(q.id),onToggle:()=>dr(q.id),onAdd:Rn,...gn(q)})})}),i.jsx(Kp,{className:"p-0 pt-4",children:i.jsx(Ar,{className:"shadow-sm",children:i.jsxs(Pr,{className:"p-6 space-y-4",children:[bl(m.paymentTermSections,m.paymentTerms).map((pe,he)=>{const De=z[pe.id]??!0;return i.jsxs("div",{className:"rounded-lg border p-4 space-y-3",children:[i.jsxs("div",{className:"group flex items-center gap-2",children:[i.jsx(Be,{type:"button",size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>ee(Se=>({...Se,[pe.id]:!(Se[pe.id]??!0)})),"data-testid":`button-toggle-payment-heading-${he}`,children:De?i.jsx(Up,{className:"h-4 w-4 text-slate-500"}):i.jsx(Od,{className:"h-4 w-4 text-slate-500"})}),E===pe.id?i.jsxs(i.Fragment,{children:[i.jsx(et,{value:pe.heading,onChange:Se=>ii(pe.id,Se.target.value),className:"h-8 font-semibold flex-1",placeholder:"Heading",autoFocus:!0,onBlur:()=>_(null),onKeyDown:Se=>Se.key==="Enter"&&_(null),"data-testid":`input-payment-heading-${he}`}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8 text-red-600",onClick:()=>us(pe.id),"data-testid":`button-remove-payment-heading-${he}`,children:i.jsx(mn,{className:"h-4 w-4"})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"cursor-pointer hover:bg-slate-50 flex-1 p-1 rounded font-semibold text-slate-700",onClick:()=>_(pe.id),children:pe.heading}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:()=>_(pe.id),children:i.jsx(Xa,{className:"h-3 w-3 text-slate-400"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8 text-red-600",onClick:()=>us(pe.id),"data-testid":`button-remove-payment-heading-${he}`,children:i.jsx(mn,{className:"h-4 w-4"})})]})]}),De&&i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:"space-y-3 text-sm",children:pe.terms.map((Se,cr)=>i.jsx("li",{className:"flex items-start gap-2 group",children:O?.sectionId===pe.id&&O?.termIndex===cr?i.jsxs(i.Fragment,{children:[i.jsx(ss,{value:Se,onChange:es=>Tn(pe.id,cr,es.target.value),onBlur:()=>T(null),autoFocus:!0,className:"flex-1 min-h-[60px]","data-testid":`input-payment-term-${he}-${cr}`}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Bt(pe.id,cr),"data-testid":`button-remove-payment-term-${he}-${cr}`,children:i.jsx(mn,{className:"h-4 w-4 text-red-600"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"w-6 text-slate-400",children:[cr+1,"."]}),i.jsx("span",{className:"cursor-pointer hover:bg-slate-50 flex-1 p-1 rounded text-slate-700",onClick:()=>T({sectionId:pe.id,termIndex:cr}),children:Se}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:()=>T({sectionId:pe.id,termIndex:cr}),children:i.jsx(Xa,{className:"h-3 w-3 text-slate-400"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Bt(pe.id,cr),"data-testid":`button-remove-payment-term-${he}-${cr}`,children:i.jsx(mn,{className:"h-4 w-4 text-red-600"})})]})},`${pe.id}-${cr}`))}),i.jsxs(Be,{variant:"ghost",size:"sm",onClick:()=>Gt(pe.id),className:"text-[#da2032]","data-testid":`button-add-payment-term-${he}`,children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add Term"]})]})]},pe.id)}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-slate-700",children:"Bank Details:"}),i.jsxs(Be,{variant:"ghost",size:"sm",onClick:Kt,className:"text-[#da2032]","data-testid":"button-add-bank-detail",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add"]})]}),i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"text-left p-2 text-slate-600 font-medium w-1/3",children:"Particulars"}),i.jsx("th",{className:"text-left p-2 text-slate-600 font-medium",children:"Value"}),i.jsx("th",{className:"text-left p-2 text-slate-600 font-medium w-20",children:"Actions"})]})}),i.jsx("tbody",{children:m.bankDetails.map((pe,he)=>i.jsxs("tr",{className:"border-b",children:[i.jsx("td",{className:"p-2",children:ye===he?i.jsx(et,{value:pe.particular,onChange:De=>Ht(he,"particular",De.target.value),className:"text-slate-600","data-testid":`input-bank-particular-${he}`}):i.jsxs("span",{className:"text-slate-600 cursor-pointer hover:text-[#d92134]",onClick:()=>xe(he),children:[pe.particular,":"]})}),i.jsx("td",{className:"p-2",children:ye===he?i.jsx(et,{value:pe.value,onChange:De=>Ht(he,"value",De.target.value),"data-testid":`input-bank-value-${he}`}):i.jsx("span",{className:"cursor-pointer hover:text-[#d92134]",onClick:()=>xe(he),children:pe.value})}),i.jsx("td",{className:"p-2",children:i.jsxs("div",{className:"flex gap-1",children:[ye===he?i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>xe(null),children:i.jsx(Rd,{className:"h-4 w-4 text-green-600"})}):i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>xe(he),children:i.jsx(Xa,{className:"h-4 w-4"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Yt(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]})})]},he))})]})]})]})})})]})},q.id)),yt?.quotationType==="Supply and Fabrication"&&Yr("commercialTerms").map(q=>i.jsx(y0,{type:"single",collapsible:!0,value:Qt(q.id)?`terms-conditions-${q.id}`:"",onValueChange:pe=>Jr(q.id,pe===`terms-conditions-${q.id}`),style:{order:En(q.id)},children:i.jsxs(Wp,{value:`terms-conditions-${q.id}`,className:"border-0",children:[i.jsx(Gp,{className:"p-0 hover:no-underline [&>svg]:hidden text-left",children:i.jsx("div",{className:"w-full text-left",children:i.jsx(ws,{title:q.heading,number:"08",expanded:Qt(q.id),onToggle:()=>dr(q.id),onAdd:Et,...gn(q)})})}),i.jsx(Kp,{className:"p-0 pt-4",children:i.jsx(Ar,{className:"shadow-sm",children:i.jsx(Pr,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-50 border-b",children:[i.jsx("th",{className:"text-left p-3 w-16 text-slate-600 font-medium",children:"SI. No."}),i.jsx("th",{className:"text-left p-3 w-48 text-slate-600 font-medium",children:"Description"}),i.jsx("th",{className:"text-left p-3 text-slate-600 font-medium",children:"Conditions"}),i.jsx("th",{className:"text-left p-3 w-20 text-slate-600 font-medium",children:"Actions"})]})}),i.jsx("tbody",{className:"text-slate-700",children:m.commercialTerms.map((pe,he)=>i.jsxs("tr",{className:`border-b ${he%2===1?"bg-slate-50/50":""}`,children:[i.jsx("td",{className:"p-3 align-top",children:pe.slNo}),i.jsx("td",{className:"p-3 align-top",children:Y===he?i.jsx(et,{value:pe.description,onChange:De=>Lt(he,"description",De.target.value),className:"font-medium","data-testid":`input-term-desc-${he}`}):i.jsx("span",{className:"font-medium cursor-pointer hover:text-[#d92134]",onClick:()=>we(he),children:pe.description})}),i.jsx("td",{className:"p-3 align-top",children:Y===he?i.jsx(ss,{value:pe.conditions,onChange:De=>Lt(he,"conditions",De.target.value),className:"min-h-[80px]","data-testid":`input-term-cond-${he}`}):i.jsx("span",{className:"cursor-pointer hover:text-[#d92134]",onClick:()=>we(he),children:pe.conditions})}),i.jsx("td",{className:"p-3 align-top",children:i.jsxs("div",{className:"flex gap-1",children:[Y===he?i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>we(null),children:i.jsx(Rd,{className:"h-4 w-4 text-green-600"})}):i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>we(he),children:i.jsx(Xa,{className:"h-4 w-4"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>$t(he),children:i.jsx(mn,{className:"h-4 w-4 text-red-500"})})]})})]},he))})]})})})})})]})},q.id))]}),i.jsxs(Ar,{className:"shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-slate-50",children:[i.jsx("h3",{className:"font-semibold text-slate-700",children:"Notes"}),i.jsxs(Be,{variant:"ghost",size:"sm",onClick:Vt,className:"text-[#da2032]","data-testid":"button-add-note",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add"]})]}),i.jsx(Pr,{className:"p-6",children:i.jsx("ul",{className:"space-y-2 text-sm",children:m.notes.map((q,pe)=>i.jsx("li",{className:"group flex items-start gap-2",children:D===pe?i.jsxs(i.Fragment,{children:[i.jsx(ss,{value:q,onChange:he=>hr(pe,he.target.value),className:"flex-1 min-h-[40px]",autoFocus:!0,onBlur:()=>S(null)}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Jn(pe),children:i.jsx(mn,{className:"h-4 w-4 text-red-600"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"w-6 text-slate-400",children:[pe+1,"."]}),i.jsx("span",{className:"cursor-pointer hover:bg-slate-50 flex-1 p-1 rounded",onClick:()=>S(pe),children:q}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:()=>S(pe),children:i.jsx(Xa,{className:"h-3 w-3 text-slate-400"})}),i.jsx(Be,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Jn(pe),children:i.jsx(mn,{className:"h-4 w-4 text-red-600"})})]})},pe))})})]}),i.jsx(Ar,{className:"shadow-sm",children:i.jsxs(Pr,{className:"p-6 space-y-4",children:[m.closingParagraphs.map(q=>i.jsx("div",{className:"group relative text-sm text-slate-700",children:A===q.id?i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ss,{value:q.content,onChange:pe=>_r(q.id,pe.target.value),className:"flex-1 min-h-[80px]",autoFocus:!0}),i.jsx(Be,{size:"icon",variant:"ghost",onClick:()=>y(null),children:i.jsx(Rd,{className:"h-4 w-4 text-green-600"})})]}):i.jsxs("p",{className:"cursor-pointer hover:bg-slate-50 p-2 rounded border border-transparent hover:border-slate-200",onClick:()=>y(q.id),children:[q.content,i.jsx(Xa,{className:"inline-block ml-2 h-3 w-3 text-slate-400 opacity-0 group-hover:opacity-100"})]})},q.id)),i.jsxs("div",{className:"pt-4 border-t space-y-2",children:[i.jsx("div",{className:"group",children:i.jsx(et,{value:m.closingThanks,onChange:q=>w(pe=>({...pe,closingThanks:q.target.value})),className:"font-semibold text-slate-700 bg-transparent border-transparent hover:border-slate-200 focus:border-slate-300 w-auto","data-testid":"input-closing-thanks"})}),i.jsx("div",{className:"group",children:i.jsx(et,{value:m.closingCompanyName,onChange:q=>w(pe=>({...pe,closingCompanyName:q.target.value})),className:"font-bold text-[#da2032] bg-transparent border-transparent hover:border-slate-200 focus:border-slate-300 w-auto","data-testid":"input-closing-company"})})]})]})}),i.jsx(Ar,{className:"shadow-sm",children:i.jsxs(Pr,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-800",children:"Upload a Drawing"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",onClick:Br,"data-testid":"button-add-drawing-upload-field",children:[i.jsx(ki,{className:"h-4 w-4 mr-1"})," Add uploader field"]})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Upload images or PDF files. These will be appended in exported quotation PDF after End of Documents."}),i.jsx("div",{className:"space-y-3",children:Gf(m.uploadDrawings).map((q,pe)=>i.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsx(et,{type:"file",accept:"image/*,.pdf",onChange:he=>Nr(q.id,he),"data-testid":`input-drawing-upload-${pe}`}),i.jsx(Be,{type:"button",variant:"ghost",size:"icon",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>qr(q.id),"data-testid":`button-remove-drawing-upload-${pe}`,children:i.jsx(mn,{className:"h-4 w-4"})})]}),q.fileName?i.jsxs("p",{className:"text-xs text-slate-600",children:["Selected: ",q.fileName]}):i.jsx("p",{className:"text-xs text-slate-400",children:"No file selected"})]},q.id))})]})}),i.jsx("div",{className:"text-center py-6 text-sm text-slate-500",children:i.jsx("p",{children:"!! End of Documents !!"})})]})]}),i.jsx(Fa,{open:se,onOpenChange:me,children:i.jsxs(ya,{className:"max-w-lg",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Quotation Versions"})}),i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:ze?.map(q=>i.jsxs("div",{className:`p-3 border rounded-lg ${Re?.id===q.id?"border-[#d92134] bg-red-50":"hover:bg-slate-50"}`,children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-bold text-[#d92134]",children:q.revision}),Re?.id===q.id&&i.jsx("span",{className:"text-xs bg-[#d92134] text-white px-2 py-0.5 rounded",children:"Current"})]})}),i.jsxs("div",{className:"text-sm text-slate-600 mt-1 space-y-0.5",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-500",children:"Enquiry Ref:"})," ",q.enquiryNumber||"-"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-500",children:"Created:"})," ",new Date(q.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsxs(Be,{size:"sm",variant:Re?.id===q.id?"secondary":"default",className:Re?.id===q.id?"":"bg-[#d92134] hover:bg-[#b91c2c]",onClick:()=>{r(`/revira/projects/${t}/quotation/${q.id}`),me(!1)},"data-testid":`button-edit-version-${q.id}`,children:[i.jsx(Xa,{className:"h-4 w-4 mr-1"}),Re?.id===q.id?"Editing":"Edit"]}),ze&&ze.length>1&&i.jsxs(Be,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:async pe=>{if(pe.stopPropagation(),confirm(`Are you sure you want to delete ${q.revision}?`))try{if(await Mr("DELETE",`/revira/api/quotations/${q.id}`),Ur.invalidateQueries({queryKey:["/revira/api/projects",t,"quotation-versions"]}),Re?.id===q.id){const he=ze.filter(De=>De.id!==q.id);he.length>0?r(`/revira/projects/${t}/quotation/${he[0].id}`):r(`/revira/projects/${t}/quotation`)}n({title:"Version deleted",description:`${q.revision} has been deleted.`})}catch{n({title:"Error",description:"Failed to delete version.",variant:"destructive"})}},"data-testid":`button-delete-version-${q.id}`,children:[i.jsx(mn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},q.id))})]})}),i.jsx(Fa,{open:I,onOpenChange:j,children:i.jsxs(ya,{className:"sm:max-w-xl",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Send Quotation by Email"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Email id"}),i.jsx(et,{value:Te.to,onChange:q=>Ge(pe=>({...pe,to:q.target.value})),placeholder:"recipient@example.com","data-testid":"input-send-email-to"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Subject for email"}),i.jsx(et,{value:Te.subject,onChange:q=>Ge(pe=>({...pe,subject:q.target.value})),placeholder:"Email subject","data-testid":"input-send-email-subject"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Body message"}),i.jsx(ss,{value:Te.message,onChange:q=>Ge(pe=>({...pe,message:q.target.value})),className:"min-h-[120px]","data-testid":"input-send-email-message"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Be,{type:"button",variant:"outline",onClick:()=>j(!1),disabled:ie,"data-testid":"button-send-email-cancel",children:"Cancel"}),i.jsx(Be,{type:"button",onClick:oa,disabled:ie,"data-testid":"button-send-email-submit",children:ie?"Sending...":"Submit"})]})]})]})}),i.jsx(Fa,{open:x,onOpenChange:C,children:i.jsxs(ya,{className:"sm:max-w-lg",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Send Quotation on WhatsApp"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Mobile Number"}),i.jsx(et,{value:at.mobile,onChange:q=>nt(pe=>({...pe,mobile:q.target.value})),placeholder:"919876543210","data-testid":"input-send-whatsapp-mobile"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-600",children:"Message body"}),i.jsx(ss,{value:at.message,onChange:q=>nt(pe=>({...pe,message:q.target.value})),className:"min-h-[120px]","data-testid":"input-send-whatsapp-message"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Be,{type:"button",variant:"outline",onClick:()=>C(!1),disabled:ve,"data-testid":"button-send-whatsapp-cancel",children:"Cancel"}),i.jsx(Be,{type:"button",onClick:Ml,disabled:ve,"data-testid":"button-send-whatsapp-submit",children:ve?"Sending...":"Submit"})]})]})]})})]})}function j5(){const t=Qu(),e=t.id,r=t.invoiceId,[,n]=Ma(),{toast:a}=Ba(),[o,u]=L.useState(!1),[c,f]=L.useState({invoiceNumber:"",revision:"R-001",invoiceType:"PROFORMA INVOICE",organisationName:"",registeredAddress:"",consigneeAddress:"",clientGstin:"",workOrderNo:"NIL",orderReferenceType:"wo",purchaseOrderNo:"",dispatchDetails:"-",vehicleNo:"",showDispatchLrNo:!1,showDispatchPo:!1,showDispatchGatePass:!1,dispatchLrNo:"",dispatchPoNo:"",dispatchGatePass:"",appliedTaxType:"igst",cgstRate:"9",sgstRate:"9",igstRate:"18"}),[p,m]=L.useState([{id:1,serialNo:1,description:"",hsnCode:"940610",quantity:1,unit:"LS",ratePerUnit:0,percentage:0,amount:0,remarks:""}]),{data:w}=Ca(),{data:A}=Rr({queryKey:["/revira/api/projects",e],queryFn:async()=>{const I=await fetch(`/revira/api/projects/${e}`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch project");return I.json()},enabled:!!e}),{data:y}=Rr({queryKey:["/revira/api/clients",A?.clientId],queryFn:async()=>{const I=await fetch(`/revira/api/clients/${A?.clientId}`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch client");return I.json()},enabled:!!A?.clientId}),{data:D}=Rr({queryKey:["/revira/api/branding"],enabled:!!w}),{data:S}=Rr({queryKey:["/revira/api/invoices",r],queryFn:async()=>{if(r){const j=await fetch(`/revira/api/invoices/${r}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch invoice");return j.json()}const I=await fetch(`/revira/api/projects/${e}/invoice`,{credentials:"include"});if(!I.ok){if(I.status===404)return null;throw new Error("Failed to fetch invoice")}return I.json()},enabled:!!e}),{data:E}=Rr({queryKey:["/revira/api/invoices",S?.id,"items"],queryFn:async()=>{const I=await fetch(`/revira/api/invoices/${S?.id}/items`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch items");return I.json()},enabled:!!S?.id}),{data:_}=Rr({queryKey:["/revira/api/projects",e,"invoice-versions"],queryFn:async()=>{const I=await fetch(`/revira/api/projects/${e}/invoice-versions`,{credentials:"include"});return I.ok?I.json():[]},enabled:!!e}),O=I=>{if(!I)return{};try{const j=JSON.parse(I);return j&&typeof j=="object"?j:{}}catch{return{}}},T=L.useCallback(()=>c.orderReferenceType==="po"?c.purchaseOrderNo||"-":c.workOrderNo||"-",[c.orderReferenceType,c.workOrderNo,c.purchaseOrderNo]),z=L.useCallback(()=>{const I=[];return c.vehicleNo.trim()&&I.push(`Vehicle No.: ${c.vehicleNo.trim()}`),c.showDispatchLrNo&&I.push(`L.R. No.: ${c.dispatchLrNo||"-"}`),c.showDispatchPo&&I.push(`P.O.: ${c.dispatchPoNo||"-"}`),c.showDispatchGatePass&&I.push(`Gate Pass: ${c.dispatchGatePass||"-"}`),I.length?I.join(" | "):"-"},[c.vehicleNo,c.showDispatchLrNo,c.dispatchLrNo,c.showDispatchPo,c.dispatchPoNo,c.showDispatchGatePass,c.dispatchGatePass]),ee=L.useCallback(()=>{const I={invoiceType:c.invoiceType,orderReferenceType:c.orderReferenceType,showWorkOrderNo:c.orderReferenceType==="wo",showPurchaseOrderNo:c.orderReferenceType==="po",purchaseOrderNo:c.purchaseOrderNo,vehicleNo:c.vehicleNo,showDispatchLrNo:c.showDispatchLrNo,showDispatchPo:c.showDispatchPo,showDispatchGatePass:c.showDispatchGatePass,dispatchLrNo:c.dispatchLrNo,dispatchPoNo:c.dispatchPoNo,dispatchGatePass:c.dispatchGatePass};return JSON.stringify(I)},[c]);L.useEffect(()=>{if(A&&y&&!S){const I=new Date,j=I.getMonth()>=3?`${I.getFullYear()}-${(I.getFullYear()+1).toString().slice(-2)}`:`${I.getFullYear()-1}-${I.getFullYear().toString().slice(-2)}`;f(x=>({...x,invoiceNumber:`RNS/${j}/RNS-SL-${String(A.id).padStart(3,"0")}`,organisationName:`M/s ${y.name}`,registeredAddress:y.location,consigneeAddress:`M/s ${y.name}, ${y.location}`,clientGstin:y.gstNo||""}))}},[A,y,S]),L.useEffect(()=>{if(S){const I=O(S.contentSections),j=M=>(M||"").replace(/^W\.O\.\s*No\.\s*:\s*/i,"").replace(/^P\.O\.\s*No\.\s*:\s*/i,"").trim(),x=I.orderReferenceType||(I.showPurchaseOrderNo?"po":"wo"),C=I.vehicleNo!==void 0||I.showDispatchLrNo!==void 0||I.showDispatchPo!==void 0||I.showDispatchGatePass!==void 0||I.dispatchLrNo!==void 0||I.dispatchPoNo!==void 0||I.dispatchGatePass!==void 0;f({invoiceNumber:S.invoiceNumber,revision:S.revision,invoiceType:I.invoiceType||"PROFORMA INVOICE",organisationName:S.organisationName,registeredAddress:S.registeredAddress,consigneeAddress:S.consigneeAddress,clientGstin:S.clientGstin||"",workOrderNo:j(S.workOrderNo)||"NIL",orderReferenceType:x,purchaseOrderNo:I.purchaseOrderNo||(x==="po"?j(S.workOrderNo):""),dispatchDetails:S.dispatchDetails||"-",vehicleNo:I.vehicleNo||(!C&&S.dispatchDetails&&S.dispatchDetails!=="-"?S.dispatchDetails:""),showDispatchLrNo:I.showDispatchLrNo??!1,showDispatchPo:I.showDispatchPo??!1,showDispatchGatePass:I.showDispatchGatePass??!1,dispatchLrNo:I.dispatchLrNo||"",dispatchPoNo:I.dispatchPoNo||"",dispatchGatePass:I.dispatchGatePass||"",appliedTaxType:S.appliedTaxType||"igst",cgstRate:S.cgstRate||"9",sgstRate:S.sgstRate||"9",igstRate:S.igstRate||"18"})}},[S]),L.useEffect(()=>{E&&E.length>0&&m(E.map(I=>({id:I.id,serialNo:I.serialNo,description:I.description,hsnCode:I.hsnCode||"940610",quantity:Number(I.quantity)||1,unit:I.unit||"LS",ratePerUnit:Number(I.ratePerUnit)||0,percentage:Number(I.percentage)||0,amount:Number(I.amount)||0,remarks:I.remarks||""})))},[E]);const W=L.useCallback(()=>{const I=p.reduce((ie,le)=>ie+(Number(le.amount)||0),0);let j=0,x=0,C=0;c.appliedTaxType==="cgst_sgst"?(j=I*(Number(c.cgstRate)/100),x=I*(Number(c.sgstRate)/100)):C=I*(Number(c.igstRate)/100);const M=j+x+C,H=I+M;return{totalAmount:I,cgstAmount:j,sgstAmount:x,igstAmount:C,totalTax:M,grandTotal:H}},[p,c.appliedTaxType,c.cgstRate,c.sgstRate,c.igstRate])(),te=L.useCallback(()=>p.filter(I=>I.description.trim()),[p]),Q=I=>{const j=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],x=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(I===0)return"Zero";const C=ve=>ve===0?"":ve<20?j[ve]:ve<100?x[Math.floor(ve/10)]+(ve%10!==0?" "+j[ve%10]:""):j[Math.floor(ve/100)]+" Hundred"+(ve%100!==0?" "+C(ve%100):""),M=ve=>{if(ve===0)return"";const je=Math.floor(ve/1e7),Te=Math.floor(ve%1e7/1e5),Ge=Math.floor(ve%1e5/1e3),at=ve%1e3;let nt="";return je>0&&(nt+=C(je)+" Crore "),Te>0&&(nt+=C(Te)+" Lakh "),Ge>0&&(nt+=C(Ge)+" Thousand "),at>0&&(nt+=C(at)),nt.trim()},H=Math.floor(I),ie=Math.round((I-H)*100);let le=M(H)+" Rupees";return ie>0&&(le+=" and "+C(ie)+" Paise"),le+=" Only",le},fe=kn({mutationFn:async()=>{const I=te(),x=await(await Mr("POST","/revira/api/invoices",{projectId:Number(e),invoiceNumber:c.invoiceNumber,revision:c.revision,organisationName:c.organisationName,registeredAddress:c.registeredAddress,consigneeAddress:c.consigneeAddress,clientGstin:c.clientGstin,workOrderNo:T(),dispatchDetails:z(),appliedTaxType:c.appliedTaxType,cgstRate:c.cgstRate,sgstRate:c.sgstRate,igstRate:c.igstRate,contentSections:ee(),totalAmount:String(W.totalAmount),totalTax:String(W.totalTax),grandTotal:String(W.grandTotal)})).json();for(const C of I)await Mr("POST",`/revira/api/invoices/${x.id}/items`,{serialNo:C.serialNo,description:C.description,hsnCode:C.hsnCode,quantity:String(C.quantity),unit:C.unit,ratePerUnit:String(C.ratePerUnit),percentage:String(C.percentage),amount:String(C.amount),remarks:C.remarks});return x},onSuccess:I=>{Ur.invalidateQueries({queryKey:["/revira/api/invoices"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"invoice-versions"]}),n(`/revira/projects/${e}/invoice/${I.id}`),a({title:"Invoice saved",description:"The invoice has been created successfully."})},onError:I=>{a({title:"Error",description:I.message||"Failed to create invoice",variant:"destructive"})}}),U=kn({mutationFn:async()=>{const I=te();await Mr("PUT",`/revira/api/invoices/${S?.id}`,{invoiceNumber:c.invoiceNumber,revision:c.revision,organisationName:c.organisationName,registeredAddress:c.registeredAddress,consigneeAddress:c.consigneeAddress,clientGstin:c.clientGstin,workOrderNo:T(),dispatchDetails:z(),appliedTaxType:c.appliedTaxType,cgstRate:c.cgstRate,sgstRate:c.sgstRate,igstRate:c.igstRate,contentSections:ee(),totalAmount:String(W.totalAmount),totalTax:String(W.totalTax),grandTotal:String(W.grandTotal)});let j=E||[];if(!j.length){const x=await fetch(`/revira/api/invoices/${S?.id}/items`,{credentials:"include"});x.ok&&(j=await x.json())}for(const x of j)await Mr("DELETE",`/revira/api/invoice-items/${x.id}`);for(const x of I)await Mr("POST",`/revira/api/invoices/${S?.id}/items`,{serialNo:x.serialNo,description:x.description,hsnCode:x.hsnCode,quantity:String(x.quantity),unit:x.unit,ratePerUnit:String(x.ratePerUnit),percentage:String(x.percentage),amount:String(x.amount),remarks:x.remarks})},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/invoices"]}),Ur.invalidateQueries({queryKey:["/revira/api/invoices",S?.id,"items"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"invoice-versions"]}),a({title:"Invoice updated",description:"The invoice has been updated successfully."})},onError:I=>{a({title:"Error",description:I.message||"Failed to update invoice",variant:"destructive"})}}),F=kn({mutationFn:async()=>(await Mr("POST",`/revira/api/invoices/${S?.id}/duplicate`,{})).json(),onSuccess:I=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"invoice-versions"]}),n(`/revira/projects/${e}/invoice/${I.id}`),a({title:"Invoice duplicated",description:`Created new version: ${I.revision}`})},onError:I=>{a({title:"Error",description:I.message||"Failed to duplicate invoice",variant:"destructive"})}}),X=kn({mutationFn:async I=>{await Mr("DELETE",`/revira/api/invoices/${I}`,void 0)},onSuccess:()=>{if(Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"invoice-versions"]}),a({title:"Invoice deleted",description:"The invoice version has been deleted."}),u(!1),_&&_.length>1){const I=_.filter(j=>j.id!==S?.id);I.length>0?n(`/revira/projects/${e}/invoice/${I[0].id}`):n(`/revira/projects/${e}/invoice`)}else n(`/revira/projects/${e}/invoice`)},onError:I=>{a({title:"Error",description:I.message||"Failed to delete invoice",variant:"destructive"})}}),Y=()=>{S?U.mutate():fe.mutate()},we=()=>{const I=Math.max(...p.map(j=>j.id),0)+1;m([...p,{id:I,serialNo:p.length+1,description:"",hsnCode:"940610",quantity:1,unit:"LS",ratePerUnit:0,percentage:0,amount:0,remarks:""}])},ye=I=>{if(p.length>1){const j=p.filter(x=>x.id!==I);m(j.map((x,C)=>({...x,serialNo:C+1})))}},xe=(I,j,x)=>{m(C=>C.map(M=>{if(M.id===I){const H={...M,[j]:x};return(j==="quantity"||j==="ratePerUnit")&&(H.amount=Number(H.quantity)*Number(H.ratePerUnit)),H}return M}))},se=I=>`${I.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,me=async()=>{try{const I=new nr({orientation:"portrait",unit:"mm",format:"a4"}),j=210,x=297,C=15,M=j-C*2,H=35,ie=30,le=Bt=>Bt*.2646,ve=le(80),je=le(50),Te=le(80),Ge=le(10),at=le(3),nt=le(3),ht="#eeb7b7",re="#fff5f5";let ke=H+10,Ve=1;const He=Bt=>Bt.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}),tt=Bt=>He(Bt),yt=Bt=>new Promise((br,ur)=>{const At=new Image;At.crossOrigin="anonymous",At.onload=()=>{const vr=document.createElement("canvas");vr.width=At.width,vr.height=At.height,vr.getContext("2d")?.drawImage(At,0,0),br(vr.toDataURL("image/png"))},At.onerror=ur,At.src=Bt});let _t=null,oe=null,Ne=null;try{D?.headerUrl&&(_t=await yt(D.headerUrl)),D?.footerUrl&&(oe=await yt(D.footerUrl)),D?.stampUrl&&(Ne=await yt(D.stampUrl))}catch(Bt){console.warn("Failed to load branding images:",Bt)}const Fe=Bt=>{_t&&I.addImage(_t,"PNG",0,0,j,H),oe&&I.addImage(oe,"PNG",0,x-ie,j,ie),Ne&&I.addImage(Ne,"PNG",j-je-ve,x-Te-ve,ve,ve),I.setFontSize(8),I.setTextColor(128,128,128),I.text(`Page ${Bt}`,j/2,x-8,{align:"center"})},Re=Bt=>ke+Bt>x-ie-10?(I.addPage(),Ve++,Fe(Ve),ke=H+10,!0):!1,$e=(Bt,br=12)=>{ke+=4,Re(12),I.setFillColor("#d92134"),I.rect(C,ke-3.5,4,5,"F"),I.setFont("helvetica","bold"),I.setFontSize(br),I.setTextColor("#1e3a5f"),I.text(Bt,C+7,ke),ke+=5.5},ze=(Bt,br,ur=[])=>{const At=[32,63,32,63],vr=5.8,ut=nt,rt=le(3),ot=jt=>jt-3,Ye=(jt,Pt=0)=>ot(jt)+rt+2.5+Pt*3.2;Re(vr+4),I.setFont("helvetica","normal"),I.setFontSize(8.5);let it=0;const xt=jt=>jt.forEach(([Pt,Et])=>{const Lt=I.splitTextToSize(Pt,At[0]-ut*2),$t=I.splitTextToSize(Et||"-",At[1]+At[2]+At[3]-ut*2),Kt=Math.max(Lt.length||1,$t.length||1),Ht=Math.max(vr,Kt*3.2+1.2);if(Re(Ht+2),it%2===0&&(I.setFillColor(245,245,245),I.rect(C,ot(ke),M,Ht,"F")),I.setDrawColor(ht),I.rect(C,ot(ke),M,Ht,"S"),I.line(C+At[0],ot(ke),C+At[0],ot(ke)+Ht),I.setFont("helvetica","bold"),Lt.forEach((Yt,_r)=>{I.text(Yt,C+ut,Ye(ke,_r))}),Pt==="Dispatch Details"&&Et){const Yt=Et.split(",").map(er=>er.trim()).filter(Boolean),_r=C+At[0]+ut,Nr=C+At[0]+At[1]+At[2]+At[3]-ut;let Br=_r,qr=Ye(ke,0);Yt.forEach((er,ir)=>{const Kr=ir<Yt.length-1?", ":"",Qt=er.indexOf(" - "),dr=Qt>-1?er.slice(0,Qt):er,Jr=Qt>-1?er.slice(Qt):"",Ts=I.getTextWidth(dr),bn=I.getTextWidth(Jr+Kr);Br+Ts+bn>Nr&&(Br=_r,qr+=3.2),I.setFont("helvetica","bold"),I.text(dr,Br,qr),Br+=Ts,I.setFont("helvetica","normal"),I.text(Jr+Kr,Br,qr),Br+=bn})}else I.setFont("helvetica","normal"),$t.forEach((Yt,_r)=>{I.text(Yt,C+At[0]+ut,Ye(ke,_r))});ke+=Ht,it+=1});xt(Bt),br.forEach(jt=>{const[Pt,Et]=jt,Lt=I.splitTextToSize(Pt?.[0]||"",At[0]-ut*2),$t=I.splitTextToSize(Pt?.[1]||"-",At[1]-ut*2),Kt=I.splitTextToSize(Et?.[0]||"",At[2]-ut*2),Ht=I.splitTextToSize(Et?.[1]||"",At[3]-ut*2),Yt=Math.max(Lt.length||1,$t.length||1,Kt.length||1,Ht.length||1),_r=Math.max(vr,Yt*3.2+1.2);Re(_r+2),it%2===0&&(I.setFillColor(245,245,245),I.rect(C,ot(ke),M,_r,"F")),I.setDrawColor(ht),I.rect(C,ot(ke),M,_r,"S");let Nr=C;for(let Br=0;Br<3;Br++)Nr+=At[Br],I.line(Nr,ot(ke),Nr,ot(ke)+_r);I.setFont("helvetica","bold"),Lt.forEach((Br,qr)=>I.text(Br,C+ut,Ye(ke,qr))),Kt.forEach((Br,qr)=>I.text(Br,C+At[0]+At[1]+ut,Ye(ke,qr))),I.setFont("helvetica","normal"),$t.forEach((Br,qr)=>I.text(Br,C+At[0]+ut,Ye(ke,qr))),Ht.forEach((Br,qr)=>I.text(Br,C+At[0]+At[1]+At[2]+ut,Ye(ke,qr))),ke+=_r,it+=1}),xt(ur)},ct=Bt=>{const br=[32,75,32,51],ur=5.8,At=nt,vr=le(3),ut=ot=>ot-3,rt=(ot,Ye=0)=>ut(ot)+vr+2.5+Ye*3.2;Re(ur+4),I.setFont("helvetica","normal"),I.setFontSize(8.5),Bt.forEach((ot,Ye)=>{const[it,xt]=ot,jt=I.splitTextToSize(it?.[0]||"",br[0]-At*2),Pt=I.splitTextToSize(it?.[1]||"-",br[1]-At*2),Et=I.splitTextToSize(xt?.[0]||"",br[2]-At*2),Lt=I.splitTextToSize(xt?.[1]||"",br[3]-At*2),$t=Math.max(jt.length||1,Pt.length||1,Et.length||1,Lt.length||1),Kt=Math.max(ur,$t*3.2+1.2);Re(Kt+2),Ye%2===0&&(I.setFillColor(245,245,245),I.rect(C,ut(ke),M,Kt,"F")),I.setDrawColor(ht),I.rect(C,ut(ke),M,Kt,"S");let Ht=C;for(let Yt=0;Yt<3;Yt++)Ht+=br[Yt],I.line(Ht,ut(ke),Ht,ut(ke)+Kt);I.setFont("helvetica","bold"),jt.forEach((Yt,_r)=>I.text(Yt,C+At,rt(ke,_r))),Et.forEach((Yt,_r)=>I.text(Yt,C+br[0]+br[1]+At,rt(ke,_r))),I.setFont("helvetica","normal"),Pt.forEach((Yt,_r)=>I.text(Yt,C+br[0]+At,rt(ke,_r))),Lt.forEach((Yt,_r)=>I.text(Yt,C+br[0]+br[1]+br[2]+At,rt(ke,_r))),ke+=Kt})},pt=(Bt,br)=>{const ur=[95,55,M-150],At=5.8,vr=nt;Re(At+6),I.setFillColor(re),I.setDrawColor(ht),I.setLineWidth(.2),I.rect(C,ke-3.2,M,At,"FD"),I.setFont("helvetica","bold"),I.setFontSize(8.5),I.text("Total Amount In Words",C+nt,ke+.8),I.text("Details",C+ur[0]+nt,ke+.8),I.text("Amount",C+ur[0]+ur[1]+nt,ke+.8),I.line(C+ur[0],ke-3.2,C+ur[0],ke-3.2+At),I.line(C+ur[0]+ur[1],ke-3.2,C+ur[0]+ur[1],ke-3.2+At),ke+=At,I.setFont("helvetica","normal"),I.setFontSize(8.5);const ut=br.map(it=>{const xt=I.splitTextToSize(it.detail,ur[1]-vr*2),jt=I.splitTextToSize(it.value,ur[2]-vr*2),Pt=Math.max(xt.length||1,jt.length||1),Et=Math.max(At,Pt*3.2+1.2);return{detailLines:xt,valueLines:jt,rowHeight:Et}}),rt=ut.reduce((it,xt)=>it+xt.rowHeight,0);Re(rt+2),I.setDrawColor(ht),I.rect(C,ke-3.2,ur[0],rt,"S");const ot=I.splitTextToSize(Bt,ur[0]-vr*3);I.setFont("helvetica","bold"),ot.forEach((it,xt)=>{I.text(it,C+vr,ke+.1+at+xt*3.2)});let Ye=ke;ut.forEach((it,xt)=>{xt%2===0&&(I.setFillColor(245,245,245),I.rect(C+ur[0],Ye-3.2,ur[1]+ur[2],it.rowHeight,"F")),I.setDrawColor(ht),I.rect(C+ur[0],Ye-3.2,ur[1]+ur[2],it.rowHeight,"S"),I.line(C+ur[0]+ur[1],Ye-3.2,C+ur[0]+ur[1],Ye-3.2+it.rowHeight),(br[xt]?.detail||"").trim().toLowerCase()==="grand total"?I.setFont("helvetica","bold"):I.setFont("helvetica","normal"),it.detailLines.forEach((jt,Pt)=>{I.text(jt,C+ur[0]+vr,Ye+.1+at+Pt*3.2)}),(br[xt]?.detail||"").trim().toLowerCase()==="grand total"?I.setFont("helvetica","bold"):I.setFont("helvetica","normal"),it.valueLines.forEach((jt,Pt)=>{I.text(jt,C+ur[0]+ur[1]+vr,Ye+.1+at+Pt*3.2)}),Ye+=it.rowHeight}),ke=Ye},Tt=c.invoiceType||"PROFORMA INVOICE",St=Tt==="TAX INVOICE"?"T.I. No":"P.I No",yn=Tt==="TAX INVOICE"?"TI":"PI",Cr=new Date,yr=Cr.getMonth()>=3?`${Cr.getFullYear()}-${String(Cr.getFullYear()+1).slice(-2)}`:`${Cr.getFullYear()-1}-${String(Cr.getFullYear()).slice(-2)}`,pr=String(A?.id||0).padStart(3,"0"),Ir=`RNS/${yr}/RNS-${yn}-${pr}`,Rt=[["GSTIN",c.clientGstin||""]],wr=[];c.orderReferenceType==="po"?Rt.push(["P.O. No.",c.purchaseOrderNo||"-"]):Rt.push(["W.O. No.",c.workOrderNo||"-"]),c.vehicleNo.trim()&&wr.push(`Vehicle No. - ${c.vehicleNo.trim()}`),c.showDispatchLrNo&&wr.push(`L.R. No. - ${c.dispatchLrNo||"-"}`),c.showDispatchPo&&wr.push(`D.C No. - ${c.dispatchPoNo||"-"}`),c.showDispatchGatePass&&wr.push(`Gate Pass - ${c.dispatchGatePass||"-"}`);const sr=wr.length?wr.join(",    "):"-",mr=[];for(let Bt=0;Bt<Rt.length;Bt+=2)mr.push([Rt[Bt],Rt[Bt+1]]);Fe(Ve),I.setFontSize(16),I.setFont("helvetica","bold"),I.setTextColor("#da2032"),I.text(Tt,j/2,ke,{align:"center"}),ke+=10,I.setFont("helvetica","normal"),I.setTextColor(0,0,0),I.setFontSize(9),I.text(`CIN: ${D?.cin||""}`,C,ke),I.text(`Company GSTIN: ${D?.companyGstin||"07AAPCR3026H1ZA"}`,j/2-20,ke),I.text(`${St}: ${Ir}`,j-C-50,ke),ke+=5,I.text(`Email: ${D?.email||"sales@reviranexgen.com"}`,j/2-20,ke),I.text(`Date: ${new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}`,j-C-50,ke),ke+=8,$e("Client Details",11),ze([["Organisation Name",c.organisationName],["Registered Address",c.registeredAddress],["Consignee Address",c.consigneeAddress]],mr,[["Dispatch Details",sr]]),ke+=Ge;const cn=["Sr.No.","Description of Goods","HSN Code","Qty.","Unit","Rate","%age","Basic Amount (INR)"],fr=[12,55,20,13,13,20,14,43],Vt=p.filter(Bt=>Bt.description.trim()).map(Bt=>[String(Bt.serialNo),Bt.description,Bt.hsnCode,String(Bt.quantity),Bt.unit||"LS",He(Number(Bt.ratePerUnit)||0),`${Number(Bt.percentage)||0}%`,He(Number(Bt.amount)||0)]);Re(15),I.setFillColor(re),I.setDrawColor(ht),I.setLineWidth(.2),I.rect(C,ke-3,M,5.8,"FD"),I.setFont("helvetica","bold"),I.setFontSize(8);let hr=C;cn.forEach((Bt,br)=>{I.line(hr,ke-3,hr,ke+2.8),I.text(Bt,hr+nt,ke+.8),hr+=fr[br]}),I.line(hr,ke-3,hr,ke+2.8),ke+=5.8,I.setFont("helvetica","normal"),Vt.forEach((Bt,br)=>{const ur=Bt.map((rt,ot)=>I.splitTextToSize(rt,fr[ot]-nt*2)),At=Math.max(...ur.map(rt=>rt.length)),vr=Math.max(5.8,At*3.2+1.2);Re(vr+2),br%2===0&&(I.setFillColor(245,245,245),I.rect(C,ke-3,M,vr,"F")),I.setDrawColor(ht),I.rect(C,ke-3,M,vr,"S");let ut=C;ur.forEach((rt,ot)=>{I.line(ut,ke-3,ut,ke-3+vr),ot===0?I.setFont("helvetica","bold"):I.setFont("helvetica","normal"),rt.forEach((Ye,it)=>{I.text(Ye,ut+nt,ke+.1+at+it*3.2)}),ut+=fr[ot]}),I.line(ut,ke-3,ut,ke-3+vr),ke+=vr}),ke+=Ge;const Jn=[{detail:"Total Amount (INR)",value:tt(W.totalAmount)},{detail:"Total Amount before Tax",value:tt(W.totalAmount)},{detail:"(1) Add: CGST",value:tt(W.cgstAmount)},{detail:"(2) Add: SGST",value:tt(W.sgstAmount)},{detail:"(3) Add: IGST",value:tt(W.igstAmount)},{detail:"Total GST",value:tt(W.totalTax)},{detail:"Grand Total",value:tt(W.grandTotal)}];pt(Q(W.grandTotal),Jn),ke+=Ge,$e("Bank Details",11),ct([[["Account Name",D?.entityName||"Revira NexGen Structures Pvt. Ltd"],["Account Number","73361900002657"]],[["Address",D?.headOfficeAddress||"28, E2 Block, Shivram Park Nangloi Delhi - 110041"],["IFSC Code","YESB0000733"]]]),ke+=Ge,Re(20),I.text(`For, ${D?.entityName||"Revira NexGen Structures Pvt. Ltd"}`,j-C-60,ke),ke+=18,I.text("Authorised Signatory",j-C-50,ke);const Rn=new Date,ii=`${String(Rn.getDate()).padStart(2,"0")}${String(Rn.getMonth()+1).padStart(2,"0")}${Rn.getFullYear()}`,us=(D?.entityName||"RNS").split(" ").map(Bt=>Bt[0]).join(""),Tn=`${Tt==="TAX INVOICE"?"TAX_INVOICE":"PROFORMA_INVOICE"}_${ii}_${us}_${c.revision}.pdf`;I.save(Tn),a({title:"PDF exported",description:`Invoice saved as ${Tn}`})}catch(I){console.error("PDF export error:",I),a({title:"Export failed",description:"Failed to export invoice PDF. Please try again.",variant:"destructive"})}};return!A||!y||!w?i.jsx(ks,{user:w,children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):i.jsxs(ks,{user:w,children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>n("/revira/projects"),"data-testid":"button-back",children:i.jsx(sf,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:A.projectName}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500",children:[i.jsx(eu,{className:"h-4 w-4"}),A.location]})]})]}),i.jsxs(Be,{className:"bg-[#d92134] hover:bg-[#b51c2c]","data-testid":"button-new-invoice",children:[i.jsx(xa,{className:"w-4 h-4 mr-2"}),"New Invoice"]})]}),i.jsxs("div",{className:"bg-[#d92134] rounded-xl p-4 mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-90",onClick:()=>u(!0),"data-testid":"button-versions-count",children:[i.jsx("span",{className:"text-white font-medium",children:"Versions"}),i.jsx("div",{className:"flex items-center justify-center px-3 h-8 bg-white text-[#d92134] rounded font-bold",children:S?.revision||c.revision||"R-001"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:()=>u(!0),"data-testid":"button-view-versions",children:i.jsx(Om,{className:"h-4 w-4"})}),S&&i.jsx(Be,{variant:"outline",size:"icon",onClick:()=>F.mutate(),disabled:F.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-duplicate",children:i.jsx(ih,{className:"w-4 h-4"})}),i.jsxs(Be,{onClick:me,className:"bg-[#22c55e] hover:bg-[#16a34a] text-white","data-testid":"button-export-pdf",children:[i.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),i.jsxs(Be,{variant:"outline",onClick:Y,disabled:fe.isPending||U.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-save-invoice",children:[i.jsx(af,{className:"w-4 h-4 mr-2"}),fe.isPending||U.isPending?"Saving...":"Save Changes"]}),S&&_&&_.length>1&&i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 hover:text-red-200",onClick:async()=>{confirm(`Are you sure you want to delete this invoice (${S.revision})?`)&&X.mutate(S.id)},"data-testid":"button-delete-invoice",children:i.jsx(mn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsxs(Xn,{className:"text-lg text-slate-700 flex items-center gap-2",children:[i.jsx(xa,{className:"w-5 h-5"}),"INVOICE DETAILS"]})}),i.jsxs(Pr,{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Invoice Type"}),i.jsxs(Pl,{value:c.invoiceType,onValueChange:I=>f({...c,invoiceType:I}),children:[i.jsx(Ko,{"data-testid":"select-invoice-type",children:i.jsx(kl,{})}),i.jsxs(Qo,{children:[i.jsx(sa,{value:"PROFORMA INVOICE",children:"PROFORMA INVOICE"}),i.jsx(sa,{value:"TAX INVOICE",children:"TAX INVOICE"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Invoice No."}),i.jsx(et,{value:c.invoiceNumber,onChange:I=>f({...c,invoiceNumber:I.target.value}),"data-testid":"input-invoice-number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Date"}),i.jsx(et,{value:new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),disabled:!0})]})]})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsx(Xn,{className:"text-lg text-slate-700",children:"CLIENT DETAILS"})}),i.jsxs(Pr,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Organisation Name"}),i.jsx(et,{value:c.organisationName,onChange:I=>f({...c,organisationName:I.target.value}),"data-testid":"input-organisation-name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Client GSTIN"}),i.jsx(et,{value:c.clientGstin,onChange:I=>f({...c,clientGstin:I.target.value}),"data-testid":"input-client-gstin"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Registered Address"}),i.jsx(et,{value:c.registeredAddress,onChange:I=>f({...c,registeredAddress:I.target.value}),"data-testid":"input-registered-address"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Consignee Address"}),i.jsx(ss,{value:c.consigneeAddress,onChange:I=>f({...c,consigneeAddress:I.target.value}),rows:2,"data-testid":"input-consignee-address"})]}),i.jsxs("div",{className:"space-y-3 border rounded-md p-3",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Order Reference Selection"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Reference Type"}),i.jsxs(Pl,{value:c.orderReferenceType,onValueChange:I=>f({...c,orderReferenceType:I}),children:[i.jsx(Ko,{"data-testid":"select-order-reference-type",children:i.jsx(kl,{})}),i.jsxs(Qo,{children:[i.jsx(sa,{value:"wo",children:"W.O. No."}),i.jsx(sa,{value:"po",children:"P.O. No."})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:c.orderReferenceType==="po"?"P.O. No.":"W.O. No."}),i.jsx(et,{value:c.orderReferenceType==="po"?c.purchaseOrderNo:c.workOrderNo,onChange:I=>f({...c,...c.orderReferenceType==="po"?{purchaseOrderNo:I.target.value}:{workOrderNo:I.target.value}}),"data-testid":c.orderReferenceType==="po"?"input-po-number":"input-work-order"})]})]})]}),i.jsxs("div",{className:"space-y-3 border rounded-md p-3",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Dispatch Details"}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Vehicle No."}),i.jsx(et,{value:c.vehicleNo,onChange:I=>f({...c,vehicleNo:I.target.value}),"data-testid":"input-vehicle-no"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(th,{checked:c.showDispatchLrNo,onCheckedChange:I=>f({...c,showDispatchLrNo:I===!0}),"data-testid":"checkbox-dispatch-lr"}),"L.R. No."]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(th,{checked:c.showDispatchPo,onCheckedChange:I=>f({...c,showDispatchPo:I===!0}),"data-testid":"checkbox-dispatch-po"}),"D.C No."]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx(th,{checked:c.showDispatchGatePass,onCheckedChange:I=>f({...c,showDispatchGatePass:I===!0}),"data-testid":"checkbox-dispatch-gate-pass"}),"Gate Pass"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.showDispatchLrNo&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"L.R. No."}),i.jsx(et,{value:c.dispatchLrNo,onChange:I=>f({...c,dispatchLrNo:I.target.value}),"data-testid":"input-dispatch-lr"})]}),c.showDispatchPo&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"D.C No."}),i.jsx(et,{value:c.dispatchPoNo,onChange:I=>f({...c,dispatchPoNo:I.target.value}),"data-testid":"input-dispatch-po"})]}),c.showDispatchGatePass&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Gate Pass"}),i.jsx(et,{value:c.dispatchGatePass,onChange:I=>f({...c,dispatchGatePass:I.target.value}),"data-testid":"input-dispatch-gate-pass"})]})]})]})]})]}),i.jsxs(Ar,{children:[i.jsxs(Yn,{className:"bg-slate-100 flex flex-row items-center justify-between",children:[i.jsx(Xn,{className:"text-lg text-slate-700",children:"INVOICE ITEMS"}),i.jsxs(Be,{size:"sm",onClick:we,"data-testid":"button-add-item",children:[i.jsx(ki,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),i.jsx(Pr,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-16",children:"Sr."}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600",children:"Description"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-24",children:"HSN Code"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-20",children:"Qty"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-20",children:"Unit"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-24",children:"Rate"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-28",children:"Amount"}),i.jsx("th",{className:"p-3 w-12"})]})}),i.jsx("tbody",{children:p.map(I=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"p-3",children:i.jsx(et,{value:I.serialNo,onChange:j=>xe(I.id,"serialNo",parseInt(j.target.value)||1),className:"w-14 text-center","data-testid":`input-serial-${I.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(ss,{value:I.description,onChange:j=>xe(I.id,"description",j.target.value),rows:2,placeholder:"Description","data-testid":`input-description-${I.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:I.hsnCode,onChange:j=>xe(I.id,"hsnCode",j.target.value),"data-testid":`input-hsn-${I.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{type:"number",value:I.quantity,onChange:j=>xe(I.id,"quantity",parseFloat(j.target.value)||0),"data-testid":`input-qty-${I.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:I.unit,onChange:j=>xe(I.id,"unit",j.target.value),"data-testid":`input-unit-${I.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{type:"number",value:I.ratePerUnit,onChange:j=>xe(I.id,"ratePerUnit",parseFloat(j.target.value)||0),"data-testid":`input-rate-${I.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{type:"number",value:I.amount,onChange:j=>xe(I.id,"amount",parseFloat(j.target.value)||0),"data-testid":`input-amount-${I.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>ye(I.id),disabled:p.length===1,className:"text-red-500 hover:text-red-700","data-testid":`button-remove-item-${I.id}`,children:i.jsx(of,{className:"w-4 h-4"})})})]},I.id))})]})})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsx(Xn,{className:"text-lg text-slate-700",children:"TAX & TOTALS"})}),i.jsx(Pr,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Tax Type"}),i.jsxs(Pl,{value:c.appliedTaxType,onValueChange:I=>f({...c,appliedTaxType:I}),children:[i.jsx(Ko,{"data-testid":"select-tax-type",children:i.jsx(kl,{})}),i.jsxs(Qo,{children:[i.jsx(sa,{value:"igst",children:"IGST (Interstate)"}),i.jsx(sa,{value:"cgst_sgst",children:"CGST + SGST (Intrastate)"})]})]})]}),c.appliedTaxType==="cgst_sgst"?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"CGST Rate (%)"}),i.jsx(et,{type:"number",value:c.cgstRate,onChange:I=>f({...c,cgstRate:I.target.value}),"data-testid":"input-cgst-rate"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"SGST Rate (%)"}),i.jsx(et,{type:"number",value:c.sgstRate,onChange:I=>f({...c,sgstRate:I.target.value}),"data-testid":"input-sgst-rate"})]})]}):i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"IGST Rate (%)"}),i.jsx(et,{type:"number",value:c.igstRate,onChange:I=>f({...c,igstRate:I.target.value}),"data-testid":"input-igst-rate"})]})]}),i.jsxs("div",{className:"space-y-3 bg-slate-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Total Amount"}),i.jsx("span",{className:"font-medium",children:se(W.totalAmount)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-600",children:"Amount before Tax"}),i.jsx("span",{className:"font-medium",children:se(W.totalAmount)})]}),c.appliedTaxType==="cgst_sgst"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"CGST"}),i.jsx("span",{children:se(W.cgstAmount)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"SGST"}),i.jsx("span",{children:se(W.sgstAmount)})]})]}):i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"IGST"}),i.jsx("span",{children:se(W.igstAmount)})]}),i.jsxs("div",{className:"flex justify-between border-t pt-2",children:[i.jsx("span",{className:"text-slate-600",children:"Total Tax"}),i.jsx("span",{className:"font-medium",children:se(W.totalTax)})]}),i.jsxs("div",{className:"flex justify-between border-t pt-2 text-lg",children:[i.jsx("span",{className:"font-bold text-slate-700",children:"Grand Total"}),i.jsx("span",{className:"font-bold text-blue-600",children:se(W.grandTotal)})]}),i.jsx("div",{className:"text-sm text-slate-500 mt-2",children:Q(W.grandTotal)})]})]})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsx(Xn,{className:"text-lg text-slate-700",children:"BANK DETAILS"})}),i.jsx(Pr,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Account Name:"}),i.jsx("span",{className:"ml-2 font-medium",children:D?.entityName||"Revira NexGen Structures Pvt. Ltd"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Account Number:"}),i.jsx("span",{className:"ml-2 font-medium",children:"073361900002657"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"Bank Address:"}),i.jsx("span",{className:"ml-2 font-medium",children:D?.headOfficeAddress||"28 E2 Block, Shivram Park, Nangloi, Delhi 41"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-500",children:"IFSC Code:"}),i.jsx("span",{className:"ml-2 font-medium",children:"YESB0000733"})]})]})})]})]})]}),i.jsx(Fa,{open:o,onOpenChange:u,children:i.jsxs(ya,{className:"max-w-md",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Invoice Versions"})}),i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:_?.map(I=>i.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${I.id===S?.id?"bg-red-50 border-red-200":"hover:bg-slate-50"}`,onClick:()=>{n(`/revira/projects/${e}/invoice/${I.id}`),u(!1)},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-center px-3 h-7 bg-[#d92134] text-white rounded font-bold text-sm mb-1 w-fit",children:I.revision}),i.jsx("p",{className:"text-sm text-slate-600",children:new Date(I.createdAt).toLocaleDateString()})]}),_&&_.length>1&&i.jsx(Be,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:j=>{j.stopPropagation(),confirm(`Are you sure you want to delete version ${I.revision}?`)&&X.mutate(I.id)},"data-testid":`button-delete-version-${I.id}`,children:i.jsx(mn,{className:"w-4 h-4"})})]})},I.id))})]})})]})}function C5(){const t=Qu(),e=t.id,r=t.gatePassId,[,n]=Ma(),{toast:a}=Ba(),[o,u]=L.useState(!1),[c,f]=L.useState({gatePassNumber:"",revision:"R-001",gatePassType:"GATE PASS",issueNo:"001",issueDate:"",revNo:"00",revDate:"",consigneeName:"Company Name",consigneeAddressText:"PLOT NO. D3, MIDC Umred, Girad Mohpa Road, Belgaon Umred Nagpur, Maharashtra-441203",modeOfTransport:"By Road",vehicleNumber:"MH 40 CX 2839",transportVehicle:"By Road - MH 40 CX 2839",contactNo:"7972800638",contactPerson:"SAILESH",remarkText:"",storeKeeperSignature:"",qcEnggSignature:"",storeInchargeSignature:"",plantHeadSignature:"",organisationName:"",registeredAddress:"",consigneeAddress:"",clientGstin:"",workOrderNo:"NIL",orderReferenceType:"wo",purchaseOrderNo:"",dispatchDetails:"-",vehicleNo:"",showDispatchLrNo:!1,showDispatchPo:!1,showDispatchGatePass:!1,dispatchLrNo:"",dispatchPoNo:"",dispatchGatePass:"",appliedTaxType:"igst",cgstRate:"9",sgstRate:"9",igstRate:"18"}),p=j=>{const x=j.split(/\s+/).map(C=>C.trim()).filter(Boolean);return x.length?x.map(C=>C[0]).join("").toUpperCase():"PROJECT"},m=j=>{const x=String(j.getDate()).padStart(2,"0"),C=String(j.getMonth()+1).padStart(2,"0"),M=String(j.getFullYear()).slice(-2);return`${x}-${C}-${M}`},[w,A]=L.useState([{id:1,serialNo:1,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"20",quantity:1,asslyPartSl:"5/8",approxValue:"-",remarks:""},{id:2,serialNo:2,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"30",quantity:1,asslyPartSl:"6/8",approxValue:"-",remarks:""},{id:3,serialNo:3,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"-",quantity:1,asslyPartSl:"7/8",approxValue:"-",remarks:""},{id:4,serialNo:4,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"10",quantity:1,asslyPartSl:"8/7",approxValue:"-",remarks:""},{id:5,serialNo:5,partMark:"PRA-BS2-B168",materialDescription:"BEAM",materialSize:"-",quantity:1,asslyPartSl:"1/1",approxValue:"-",remarks:""}]),{data:y}=Ca(),{data:D}=Rr({queryKey:["/revira/api/projects",e],queryFn:async()=>{const j=await fetch(`/revira/api/projects/${e}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch project");return j.json()},enabled:!!e}),{data:S}=Rr({queryKey:["/revira/api/clients",D?.clientId],queryFn:async()=>{const j=await fetch(`/revira/api/clients/${D?.clientId}`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch client");return j.json()},enabled:!!D?.clientId}),{data:E}=Rr({queryKey:["/revira/api/branding"],enabled:!!y}),{data:_}=Rr({queryKey:["/revira/api/gate-passes",r],queryFn:async()=>{if(r){const x=await fetch(`/revira/api/gate-passes/${r}`,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch gate pass");return x.json()}const j=await fetch(`/revira/api/projects/${e}/gate-pass`,{credentials:"include"});if(!j.ok){if(j.status===404)return null;throw new Error("Failed to fetch gate pass")}return j.json()},enabled:!!e}),{data:O}=Rr({queryKey:["/revira/api/gate-passes",_?.id,"items"],queryFn:async()=>{const j=await fetch(`/revira/api/gate-passes/${_?.id}/items`,{credentials:"include"});if(!j.ok)throw new Error("Failed to fetch items");return j.json()},enabled:!!_?.id}),{data:T}=Rr({queryKey:["/revira/api/projects",e,"gate-pass-versions"],queryFn:async()=>{const j=await fetch(`/revira/api/projects/${e}/gate-pass-versions`,{credentials:"include"});return j.ok?j.json():[]},enabled:!!e}),z=j=>{if(!j)return{};try{const x=JSON.parse(j);return x&&typeof x=="object"?x:{}}catch{return{}}};L.useCallback(()=>c.orderReferenceType==="po"?c.purchaseOrderNo||"-":c.workOrderNo||"-",[c.orderReferenceType,c.workOrderNo,c.purchaseOrderNo]),L.useCallback(()=>{const j=[];return c.vehicleNo.trim()&&j.push(`Vehicle No.: ${c.vehicleNo.trim()}`),c.showDispatchLrNo&&j.push(`L.R. No.: ${c.dispatchLrNo||"-"}`),c.showDispatchPo&&j.push(`P.O.: ${c.dispatchPoNo||"-"}`),c.showDispatchGatePass&&j.push(`Gate Pass: ${c.dispatchGatePass||"-"}`),j.length?j.join(" | "):"-"},[c.vehicleNo,c.showDispatchLrNo,c.dispatchLrNo,c.showDispatchPo,c.dispatchPoNo,c.showDispatchGatePass,c.dispatchGatePass]);const ee=L.useCallback(()=>{const j={gatePassType:c.gatePassType,issueNo:c.issueNo,issueDate:c.issueDate,revNo:c.revNo,revDate:c.revDate,consigneeName:c.consigneeName,consigneeAddressText:c.consigneeAddressText,modeOfTransport:c.modeOfTransport,vehicleNumber:c.vehicleNumber,transportVehicle:c.transportVehicle,contactNo:c.contactNo,contactPerson:c.contactPerson,remarkText:c.remarkText,storeKeeperSignature:c.storeKeeperSignature,qcEnggSignature:c.qcEnggSignature,storeInchargeSignature:c.storeInchargeSignature,plantHeadSignature:c.plantHeadSignature,orderReferenceType:c.orderReferenceType,showWorkOrderNo:c.orderReferenceType==="wo",showPurchaseOrderNo:c.orderReferenceType==="po",purchaseOrderNo:c.purchaseOrderNo,vehicleNo:c.vehicleNo,showDispatchLrNo:c.showDispatchLrNo,showDispatchPo:c.showDispatchPo,showDispatchGatePass:c.showDispatchGatePass,dispatchLrNo:c.dispatchLrNo,dispatchPoNo:c.dispatchPoNo,dispatchGatePass:c.dispatchGatePass};return JSON.stringify(j)},[c]);L.useEffect(()=>{if(D&&S&&!_){const j=new Date,x=p(D.projectName),C=m(j);f(M=>({...M,gatePassNumber:`RNS/${x}/${C}/RNS-GT-002`,issueDate:j.toISOString().split("T")[0],revDate:j.toISOString().split("T")[0],consigneeName:"Company Name",consigneeAddressText:"PLOT NO. D3, MIDC Umred, Girad Mohpa Road, Belgaon Umred Nagpur, Maharashtra-441203",modeOfTransport:"By Road",vehicleNumber:"MH 40 CX 2839",transportVehicle:"By Road - MH 40 CX 2839",contactNo:"7972800638",contactPerson:"SAILESH",organisationName:S.name,registeredAddress:S.location,consigneeAddress:`${S.name}
${S.location}`,clientGstin:S.gstNo||""}))}},[D,S,_]),L.useEffect(()=>{if(_){const j=z(_.contentSections),x=le=>(le||"").replace(/^W\.O\.\s*No\.\s*:\s*/i,"").replace(/^P\.O\.\s*No\.\s*:\s*/i,"").trim(),C=j.orderReferenceType||(j.showPurchaseOrderNo?"po":"wo"),M=j.vehicleNo!==void 0||j.showDispatchLrNo!==void 0||j.showDispatchPo!==void 0||j.showDispatchGatePass!==void 0||j.dispatchLrNo!==void 0||j.dispatchPoNo!==void 0||j.dispatchGatePass!==void 0,H=j.transportVehicle||_.dispatchDetails||"",ie=H.includes("-")?H.split("-").map(le=>le.trim()):[];f({gatePassNumber:_.gatePassNumber,revision:_.revision,gatePassType:j.gatePassType||"GATE PASS",issueNo:j.issueNo||"001",issueDate:j.issueDate||"",revNo:j.revNo||"00",revDate:j.revDate||"",consigneeName:j.consigneeName||_.organisationName||"",consigneeAddressText:j.consigneeAddressText||_.registeredAddress||"",modeOfTransport:j.modeOfTransport||ie[0]||"By Road",vehicleNumber:j.vehicleNumber||ie[1]||"",transportVehicle:j.transportVehicle||j.vehicleNo||_.dispatchDetails||"",contactNo:j.contactNo||"",contactPerson:j.contactPerson||"",remarkText:j.remarkText||"",storeKeeperSignature:j.storeKeeperSignature||"",qcEnggSignature:j.qcEnggSignature||"",storeInchargeSignature:j.storeInchargeSignature||"",plantHeadSignature:j.plantHeadSignature||"",organisationName:_.organisationName,registeredAddress:_.registeredAddress,consigneeAddress:_.consigneeAddress,clientGstin:_.clientGstin||"",workOrderNo:x(_.workOrderNo)||"NIL",orderReferenceType:C,purchaseOrderNo:j.purchaseOrderNo||(C==="po"?x(_.workOrderNo):""),dispatchDetails:_.dispatchDetails||"-",vehicleNo:j.vehicleNo||(!M&&_.dispatchDetails&&_.dispatchDetails!=="-"?_.dispatchDetails:""),showDispatchLrNo:j.showDispatchLrNo??!1,showDispatchPo:j.showDispatchPo??!1,showDispatchGatePass:j.showDispatchGatePass??!1,dispatchLrNo:j.dispatchLrNo||"",dispatchPoNo:j.dispatchPoNo||"",dispatchGatePass:j.dispatchGatePass||"",appliedTaxType:_.appliedTaxType||"igst",cgstRate:_.cgstRate||"9",sgstRate:_.sgstRate||"9",igstRate:_.igstRate||"18"})}},[_]),L.useEffect(()=>{O&&O.length>0&&A(O.map((j,x)=>({id:j.id,serialNo:j.serialNo>0?j.serialNo:x+1,partMark:j.hsnCode||"",materialDescription:j.description||"",materialSize:j.ratePerUnit&&j.ratePerUnit!=="0"?j.ratePerUnit:"-",quantity:Number(j.quantity)||0,asslyPartSl:j.unit||"",approxValue:j.amount&&j.amount!=="0"?j.amount:"-",remarks:j.remarks||""})))},[O]);const W=L.useCallback(()=>{const j=w.reduce((le,ve)=>{const je=Number(String(ve.approxValue).replace(/,/g,""));return le+(Number.isFinite(je)?je:0)},0);let x=0,C=0,M=0;c.appliedTaxType==="cgst_sgst"?(x=j*(Number(c.cgstRate)/100),C=j*(Number(c.sgstRate)/100)):M=j*(Number(c.igstRate)/100);const H=x+C+M,ie=j+H;return{totalAmount:j,cgstAmount:x,sgstAmount:C,igstAmount:M,totalTax:H,grandTotal:ie}},[w,c.appliedTaxType,c.cgstRate,c.sgstRate,c.igstRate])(),te=(j,x="0")=>{const C=Number(String(j??"").replace(/,/g,"").trim());return Number.isFinite(C)?String(C):x},Q=(j,x)=>{const C=E?.[x]||"";f(M=>M[j]?{...M,[j]:""}:C?{...M,[j]:C}:(a({title:"No branding signature",description:"Upload this signature image in Branding page first.",variant:"destructive"}),M))},fe=L.useCallback(()=>w.slice(0,5).filter(j=>j.partMark.trim()||j.materialDescription.trim()),[w]),U=kn({mutationFn:async()=>{const j=fe(),C=await(await Mr("POST","/revira/api/gate-passes",{projectId:Number(e),gatePassNumber:c.gatePassNumber,revision:c.revision,organisationName:c.consigneeName||"Company Name",registeredAddress:c.consigneeAddressText||"-",consigneeAddress:`${c.consigneeName||"Company Name"}
${c.consigneeAddressText||"-"}`.trim(),clientGstin:c.clientGstin,workOrderNo:c.issueNo||"-",dispatchDetails:`${c.modeOfTransport||"By Road"} - ${c.vehicleNumber||"-"}`,appliedTaxType:c.appliedTaxType,cgstRate:c.cgstRate,sgstRate:c.sgstRate,igstRate:c.igstRate,contentSections:ee(),totalAmount:String(W.totalAmount),totalTax:String(W.totalTax),grandTotal:String(W.grandTotal)})).json();for(let M=0;M<j.length;M++){const H=j[M];await Mr("POST",`/revira/api/gate-passes/${C.id}/items`,{serialNo:H.serialNo>0?H.serialNo:M+1,description:H.materialDescription,hsnCode:H.partMark,quantity:te(H.quantity),unit:H.asslyPartSl,ratePerUnit:te(H.materialSize,"0"),percentage:"0",amount:te(H.approxValue,"0"),remarks:H.remarks})}return C},onSuccess:j=>{Ur.invalidateQueries({queryKey:["/revira/api/gate-passes"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"gate-pass-versions"]}),n(`/revira/projects/${e}/gate-pass/${j.id}`),a({title:"Gate Pass saved",description:"The gate pass has been created successfully."})},onError:j=>{a({title:"Error",description:j.message||"Failed to create gate pass",variant:"destructive"})}}),F=kn({mutationFn:async()=>{const j=fe();await Mr("PUT",`/revira/api/gate-passes/${_?.id}`,{gatePassNumber:c.gatePassNumber||"RNS/PROJECT/00-00-00/RNS-GT-002",revision:c.revision,organisationName:c.consigneeName||"Company Name",registeredAddress:c.consigneeAddressText||"-",consigneeAddress:`${c.consigneeName||"Company Name"}
${c.consigneeAddressText||"-"}`.trim(),clientGstin:c.clientGstin,workOrderNo:c.issueNo||"-",dispatchDetails:`${c.modeOfTransport||"By Road"} - ${c.vehicleNumber||"-"}`,appliedTaxType:c.appliedTaxType,cgstRate:c.cgstRate,sgstRate:c.sgstRate,igstRate:c.igstRate,contentSections:ee(),totalAmount:String(W.totalAmount),totalTax:String(W.totalTax),grandTotal:String(W.grandTotal)});let x=O||[];if(!x.length){const C=await fetch(`/revira/api/gate-passes/${_?.id}/items`,{credentials:"include"});C.ok&&(x=await C.json())}for(const C of x)await Mr("DELETE",`/revira/api/gate-pass-items/${C.id}`);for(let C=0;C<j.length;C++){const M=j[C];await Mr("POST",`/revira/api/gate-passes/${_?.id}/items`,{serialNo:M.serialNo>0?M.serialNo:C+1,description:M.materialDescription,hsnCode:M.partMark,quantity:te(M.quantity),unit:M.asslyPartSl,ratePerUnit:te(M.materialSize,"0"),percentage:"0",amount:te(M.approxValue,"0"),remarks:M.remarks})}},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/gate-passes"]}),Ur.invalidateQueries({queryKey:["/revira/api/gate-passes",_?.id,"items"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"gate-pass-versions"]}),a({title:"Gate Pass updated",description:"The gate pass has been updated successfully."})},onError:j=>{a({title:"Error",description:j.message||"Failed to update gate pass",variant:"destructive"})}}),X=kn({mutationFn:async()=>(await Mr("POST",`/revira/api/gate-passes/${_?.id}/duplicate`,{})).json(),onSuccess:j=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"gate-pass-versions"]}),n(`/revira/projects/${e}/gate-pass/${j.id}`),a({title:"Gate Pass duplicated",description:`Created new version: ${j.revision}`})},onError:j=>{a({title:"Error",description:j.message||"Failed to duplicate gate pass",variant:"destructive"})}}),Y=kn({mutationFn:async j=>{await Mr("DELETE",`/revira/api/gate-passes/${j}`,void 0)},onSuccess:()=>{if(Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"gate-pass-versions"]}),a({title:"Gate Pass deleted",description:"The gate pass version has been deleted."}),u(!1),T&&T.length>1){const j=T.filter(x=>x.id!==_?.id);j.length>0?n(`/revira/projects/${e}/gate-pass/${j[0].id}`):n(`/revira/projects/${e}/gate-pass`)}else n(`/revira/projects/${e}/gate-pass`)},onError:j=>{a({title:"Error",description:j.message||"Failed to delete gate pass",variant:"destructive"})}}),we=()=>{_?F.mutate():U.mutate()},ye=()=>{const j=Math.max(...w.map(x=>x.id),0)+1;A([...w,{id:j,serialNo:w.length+1,partMark:"",materialDescription:"",materialSize:"-",quantity:0,asslyPartSl:"",approxValue:"-",remarks:""}])},xe=j=>{if(w.length>1){const x=w.filter(C=>C.id!==j);A(x.map((C,M)=>({...C,serialNo:M+1})))}},se=(j,x,C)=>{A(M=>M.map(H=>H.id===j?{...H,[x]:C}:H))},me=()=>w.reduce((j,x)=>{const C=Number(String(x.approxValue||"").replace(/,/g,"").trim());return j+(Number.isFinite(C)?C:0)},0),I=async()=>{try{const j=new nr({orientation:"portrait",unit:"mm",format:"a4"}),x=210,C=297,M=15,H=x-M*2,ie=35,le=30,ve=ut=>ut*.2646,je=ve(80),Te=ve(50),Ge=ve(80),at=ve(10),nt=ve(3),ht=ve(3),re="#eeb7b7",ke="#fff5f5";let Ve=ie+10,He=1;const tt=ut=>ut.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}),yt=ut=>tt(ut),_t=ut=>new Promise((rt,ot)=>{const Ye=new Image;Ye.crossOrigin="anonymous",Ye.onload=()=>{const it=document.createElement("canvas");it.width=Ye.width,it.height=Ye.height,it.getContext("2d")?.drawImage(Ye,0,0),rt(it.toDataURL("image/png"))},Ye.onerror=ot,Ye.src=ut});let oe=null,Ne=null,Fe=null;try{E?.headerUrl&&(oe=await _t(E.headerUrl)),E?.footerUrl&&(Ne=await _t(E.footerUrl)),E?.stampUrl&&(Fe=await _t(E.stampUrl))}catch(ut){console.warn("Failed to load branding images:",ut)}const Re=ut=>{oe&&j.addImage(oe,"PNG",0,0,x,ie),Ne&&j.addImage(Ne,"PNG",0,C-le,x,le),Fe&&j.addImage(Fe,"PNG",x-Te-je,C-Ge-je,je,je),j.setFontSize(8),j.setTextColor(128,128,128),j.text(`Page ${ut}`,x/2,C-8,{align:"center"})},$e=ut=>Ve+ut>C-le-10?(j.addPage(),He++,Re(He),Ve=ie+10,!0):!1,ze=(ut,rt=12)=>{Ve+=4,$e(12),j.setFillColor("#d92134"),j.rect(M,Ve-3.5,4,5,"F"),j.setFont("helvetica","bold"),j.setFontSize(rt),j.setTextColor("#1e3a5f"),j.text(ut,M+7,Ve),Ve+=5.5},ct=(ut,rt,ot=[])=>{const Ye=[38,57,38,57],it=5.8,xt=ht,jt=ve(3),Pt=Kt=>Kt-3,Et=(Kt,Ht=0)=>Pt(Kt)+jt+2.5+Ht*3.2;$e(it+4),j.setFont("helvetica","normal"),j.setFontSize(8.5);let Lt=0;const $t=Kt=>Kt.forEach(([Ht,Yt])=>{const _r=j.splitTextToSize(Ht,Ye[0]-xt*2),Nr=j.splitTextToSize(Yt||"-",Ye[1]+Ye[2]+Ye[3]-xt*2),Br=Math.max(_r.length||1,Nr.length||1),qr=Math.max(it,Br*3.2+1.2);if($e(qr+2),Lt%2===0&&(j.setFillColor(245,245,245),j.rect(M,Pt(Ve),H,qr,"F")),j.setDrawColor(re),j.rect(M,Pt(Ve),H,qr,"S"),j.line(M+Ye[0],Pt(Ve),M+Ye[0],Pt(Ve)+qr),j.setFont("helvetica","bold"),_r.forEach((er,ir)=>{j.text(er,M+xt,Et(Ve,ir))}),Ht==="Dispatch Details"&&Yt){const er=Yt.split(",").map(Jr=>Jr.trim()).filter(Boolean),ir=M+Ye[0]+xt,Kr=M+Ye[0]+Ye[1]+Ye[2]+Ye[3]-xt;let Qt=ir,dr=Et(Ve,0);er.forEach((Jr,Ts)=>{const bn=Ts<er.length-1?", ":"",ai=Jr.indexOf(" - "),Ei=ai>-1?Jr.slice(0,ai):Jr,Yr=ai>-1?Jr.slice(ai):"",En=j.getTextWidth(Ei),gn=j.getTextWidth(Yr+bn);Qt+En+gn>Kr&&(Qt=ir,dr+=3.2),j.setFont("helvetica","bold"),j.text(Ei,Qt,dr),Qt+=En,j.setFont("helvetica","normal"),j.text(Yr+bn,Qt,dr),Qt+=gn})}else j.setFont("helvetica","normal"),Nr.forEach((er,ir)=>{j.text(er,M+Ye[0]+xt,Et(Ve,ir))});Ve+=qr,Lt+=1});$t(ut),rt.forEach(Kt=>{const[Ht,Yt]=Kt,_r=j.splitTextToSize(Ht?.[0]||"",Ye[0]-xt*2),Nr=j.splitTextToSize(Ht?.[1]||"-",Ye[1]-xt*2),Br=j.splitTextToSize(Yt?.[0]||"",Ye[2]-xt*2),qr=j.splitTextToSize(Yt?.[1]||"",Ye[3]-xt*2),er=Math.max(_r.length||1,Nr.length||1,Br.length||1,qr.length||1),ir=Math.max(it,er*3.2+1.2);$e(ir+2),Lt%2===0&&(j.setFillColor(245,245,245),j.rect(M,Pt(Ve),H,ir,"F")),j.setDrawColor(re),j.rect(M,Pt(Ve),H,ir,"S");let Kr=M;for(let Qt=0;Qt<3;Qt++)Kr+=Ye[Qt],j.line(Kr,Pt(Ve),Kr,Pt(Ve)+ir);j.setFont("helvetica","bold"),_r.forEach((Qt,dr)=>j.text(Qt,M+xt,Et(Ve,dr))),Br.forEach((Qt,dr)=>j.text(Qt,M+Ye[0]+Ye[1]+xt,Et(Ve,dr))),j.setFont("helvetica","normal"),Nr.forEach((Qt,dr)=>j.text(Qt,M+Ye[0]+xt,Et(Ve,dr))),qr.forEach((Qt,dr)=>j.text(Qt,M+Ye[0]+Ye[1]+Ye[2]+xt,Et(Ve,dr))),Ve+=ir,Lt+=1}),$t(ot)},pt=ut=>{const rt=[32,75,32,51],ot=5.8,Ye=ht,it=ve(3),xt=Pt=>Pt-3,jt=(Pt,Et=0)=>xt(Pt)+it+2.5+Et*3.2;$e(ot+4),j.setFont("helvetica","normal"),j.setFontSize(8.5),ut.forEach((Pt,Et)=>{const[Lt,$t]=Pt,Kt=j.splitTextToSize(Lt?.[0]||"",rt[0]-Ye*2),Ht=j.splitTextToSize(Lt?.[1]||"-",rt[1]-Ye*2),Yt=j.splitTextToSize($t?.[0]||"",rt[2]-Ye*2),_r=j.splitTextToSize($t?.[1]||"",rt[3]-Ye*2),Nr=Math.max(Kt.length||1,Ht.length||1,Yt.length||1,_r.length||1),Br=Math.max(ot,Nr*3.2+1.2);$e(Br+2),Et%2===0&&(j.setFillColor(245,245,245),j.rect(M,xt(Ve),H,Br,"F")),j.setDrawColor(re),j.rect(M,xt(Ve),H,Br,"S");let qr=M;for(let er=0;er<3;er++)qr+=rt[er],j.line(qr,xt(Ve),qr,xt(Ve)+Br);j.setFont("helvetica","bold"),Kt.forEach((er,ir)=>j.text(er,M+Ye,jt(Ve,ir))),Yt.forEach((er,ir)=>j.text(er,M+rt[0]+rt[1]+Ye,jt(Ve,ir))),j.setFont("helvetica","normal"),Ht.forEach((er,ir)=>j.text(er,M+rt[0]+Ye,jt(Ve,ir))),_r.forEach((er,ir)=>j.text(er,M+rt[0]+rt[1]+rt[2]+Ye,jt(Ve,ir))),Ve+=Br})},Tt=(ut,rt)=>{const ot=[95,55,H-150],Ye=5.8,it=ht;$e(Ye+6),j.setFillColor(ke),j.setDrawColor(re),j.setLineWidth(.2),j.rect(M,Ve-3.2,H,Ye,"FD"),j.setFont("helvetica","bold"),j.setFontSize(8.5),j.text("Total Amount In Words",M+ht,Ve+.8),j.text("Details",M+ot[0]+ht,Ve+.8),j.text("Amount",M+ot[0]+ot[1]+ht,Ve+.8),j.line(M+ot[0],Ve-3.2,M+ot[0],Ve-3.2+Ye),j.line(M+ot[0]+ot[1],Ve-3.2,M+ot[0]+ot[1],Ve-3.2+Ye),Ve+=Ye,j.setFont("helvetica","normal"),j.setFontSize(8.5);const xt=rt.map(Lt=>{const $t=j.splitTextToSize(Lt.detail,ot[1]-it*2),Kt=j.splitTextToSize(Lt.value,ot[2]-it*2),Ht=Math.max($t.length||1,Kt.length||1),Yt=Math.max(Ye,Ht*3.2+1.2);return{detailLines:$t,valueLines:Kt,rowHeight:Yt}}),jt=xt.reduce((Lt,$t)=>Lt+$t.rowHeight,0);$e(jt+2),j.setDrawColor(re),j.rect(M,Ve-3.2,ot[0],jt,"S");const Pt=j.splitTextToSize(ut,ot[0]-it*3);j.setFont("helvetica","bold"),Pt.forEach((Lt,$t)=>{j.text(Lt,M+it,Ve+.1+nt+$t*3.2)});let Et=Ve;xt.forEach((Lt,$t)=>{$t%2===0&&(j.setFillColor(245,245,245),j.rect(M+ot[0],Et-3.2,ot[1]+ot[2],Lt.rowHeight,"F")),j.setDrawColor(re),j.rect(M+ot[0],Et-3.2,ot[1]+ot[2],Lt.rowHeight,"S"),j.line(M+ot[0]+ot[1],Et-3.2,M+ot[0]+ot[1],Et-3.2+Lt.rowHeight),(rt[$t]?.detail||"").trim().toLowerCase()==="grand total"?j.setFont("helvetica","bold"):j.setFont("helvetica","normal"),Lt.detailLines.forEach((Kt,Ht)=>{j.text(Kt,M+ot[0]+it,Et+.1+nt+Ht*3.2)}),(rt[$t]?.detail||"").trim().toLowerCase()==="grand total"?j.setFont("helvetica","bold"):j.setFont("helvetica","normal"),Lt.valueLines.forEach((Kt,Ht)=>{j.text(Kt,M+ot[0]+ot[1]+it,Et+.1+nt+Ht*3.2)}),Et+=Lt.rowHeight}),Ve=Et},St="NON-RETURNABLE GATE PASS",yn=c.issueDate?new Date(c.issueDate).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB"),Cr=c.revDate?new Date(c.revDate).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB");Re(He),j.setFontSize(16),j.setFont("helvetica","bold"),j.setTextColor("#da2032"),j.text(St,x/2,Ve,{align:"center"}),Ve+=8,ze("Gate Pass Details",11),ct([["Doc. No",c.gatePassNumber||"RNS/PROJECT/00-00-00/RNS-GT-002"],["Date",yn||"-"],["CONSIGNEE NAME",c.consigneeName||"Company Name"],["CONSIGNEE ADDRESS",c.consigneeAddressText||"PLOT NO. D3, MIDC Umred, Girad Mohpa Road, Belgaon Umred Nagpur, Maharashtra-441203"],["Mode of transport",c.modeOfTransport||"By Road"],["Vehicle No.",c.vehicleNumber||"MH 40 CX 2839"],["Contact No.",c.contactNo||"7972800638"],["Contact person",c.contactPerson||"SAILESH"]],[]),Ve+=at;const yr=["SR. NO.","PARTMARK","MATERIAL DISCRIPTION","MATERIAL SIZE","QUANTITY","ASSLY PART SL","APPROX. VALUE"],pr=[14,25,40,29,20,24,28],Ir=w.filter(ut=>ut.partMark.trim()||ut.materialDescription.trim()).map(ut=>[ut.serialNo?String(ut.serialNo):"",ut.partMark,ut.materialDescription,ut.materialSize,String(ut.quantity),ut.asslyPartSl,ut.approxValue]);$e(15),j.setFillColor(ke),j.setDrawColor(re),j.setLineWidth(.2),j.rect(M,Ve-3,H,5.8,"FD"),j.setFont("helvetica","bold"),j.setFontSize(8);let Rt=M;yr.forEach((ut,rt)=>{j.line(Rt,Ve-3,Rt,Ve+2.8),j.text(ut,Rt+ht,Ve+.8),Rt+=pr[rt]}),j.line(Rt,Ve-3,Rt,Ve+2.8),Ve+=5.8,j.setFont("helvetica","normal"),Ir.forEach((ut,rt)=>{const ot=ut.map((jt,Pt)=>j.splitTextToSize(jt,pr[Pt]-ht*2)),Ye=Math.max(...ot.map(jt=>jt.length)),it=Math.max(5.8,Ye*3.2+1.2);$e(it+2),rt%2===0&&(j.setFillColor(245,245,245),j.rect(M,Ve-3,H,it,"F")),j.setDrawColor(re),j.rect(M,Ve-3,H,it,"S");let xt=M;ot.forEach((jt,Pt)=>{j.line(xt,Ve-3,xt,Ve-3+it),Pt===0?j.setFont("helvetica","bold"):j.setFont("helvetica","normal"),jt.forEach((Et,Lt)=>{j.text(Et,xt+ht,Ve+.1+nt+Lt*3.2)}),xt+=pr[Pt]}),j.line(xt,Ve-3,xt,Ve-3+it),Ve+=it});const wr=w.reduce((ut,rt)=>ut+(Number(rt.quantity)||0),0),sr=me(),cn=["","","TOTAL","",String(wr),"",sr.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})].map((ut,rt)=>j.splitTextToSize(ut,pr[rt]-ht*2)),fr=Math.max(...cn.map(ut=>ut.length)),Vt=Math.max(5.8,fr*3.2+1.2);$e(Vt+2),j.setFillColor(245,245,245),j.rect(M,Ve-3,H,Vt,"F"),j.setDrawColor(re),j.rect(M,Ve-3,H,Vt,"S");let hr=M;cn.forEach((ut,rt)=>{j.line(hr,Ve-3,hr,Ve-3+Vt),j.setFont("helvetica",rt===2||rt===4||rt===5||rt===6?"bold":"normal"),ut.forEach((ot,Ye)=>{j.text(ot,hr+ht,Ve+.1+nt+Ye*3.2)}),hr+=pr[rt]}),j.line(hr,Ve-3,hr,Ve-3+Vt),Ve+=Vt,Ve+=at,ze("Remark",11);const Jn=18;$e(Jn+5),j.setDrawColor(re),j.rect(M,Ve-3,H,Jn,"S"),j.setFont("helvetica","normal"),j.setFontSize(9),j.splitTextToSize(c.remarkText||"-",H-2*ht).forEach((ut,rt)=>{j.text(ut,M+ht,Ve+.1+nt+rt*3.2)}),Ve+=Jn+at,ze("Signature",11);const ii=[{label:"Store Keeper",data:c.storeKeeperSignature},{label:"Qc Engg.",data:c.qcEnggSignature},{label:"Store Incharge",data:c.storeInchargeSignature},{label:"Plant Head",data:c.plantHeadSignature}],us=3,Gt=22,Tn=(H-us*3)/4;$e(Gt+12),ii.forEach((ut,rt)=>{const ot=M+rt*(Tn+us);if(j.rect(ot,Ve-3,Tn,Gt,"S"),ut.data)try{const Ye=j.getImageProperties(ut.data),it=Ye.width||1,xt=Ye.height||1,jt=Tn-2,Pt=Gt-7,Et=it/xt,Lt=jt/Pt;let $t=jt,Kt=Pt;Et>Lt?Kt=jt/Et:$t=Pt*Et;const Ht=ot+1+(jt-$t)/2,Yt=Ve-2.2+(Pt-Kt)/2;j.addImage(ut.data,"PNG",Ht,Yt,$t,Kt)}catch{}j.setFont("helvetica","bold"),j.setFontSize(8),j.text(ut.label,ot+Tn/2,Ve+Gt-1.2,{align:"center"})}),Ve+=Gt;const Bt=new Date,br=`${String(Bt.getDate()).padStart(2,"0")}${String(Bt.getMonth()+1).padStart(2,"0")}${Bt.getFullYear()}`,ur=(E?.entityName||"RNS").split(" ").map(ut=>ut[0]).join(""),vr=`GATE_PASS_${br}_${ur}_${c.revision}.pdf`;j.save(vr),a({title:"PDF exported",description:`Gate Pass saved as ${vr}`})}catch(j){console.error("PDF export error:",j),a({title:"Export failed",description:"Failed to export gate pass PDF. Please try again.",variant:"destructive"})}};return!D||!S||!y?i.jsx(ks,{user:y,children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):i.jsxs(ks,{user:y,children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>n("/revira/projects"),"data-testid":"button-back",children:i.jsx(sf,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:D.projectName}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500",children:[i.jsx(eu,{className:"h-4 w-4"}),D.location]})]})]}),i.jsxs(Be,{className:"bg-[#d92134] hover:bg-[#b51c2c]",onClick:()=>n(`/revira/projects/${e}/gate-pass`),"data-testid":"button-new-gate-pass",children:[i.jsx(xa,{className:"w-4 h-4 mr-2"}),"New Gate Pass"]})]}),i.jsxs("div",{className:"bg-[#d92134] rounded-xl p-4 mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-90",onClick:()=>u(!0),"data-testid":"button-versions-count",children:[i.jsx("span",{className:"text-white font-medium",children:"Versions"}),i.jsx("div",{className:"flex items-center justify-center px-3 h-8 bg-white text-[#d92134] rounded font-bold",children:_?.revision||c.revision||"R-001"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:()=>u(!0),"data-testid":"button-view-versions",children:i.jsx(Om,{className:"h-4 w-4"})}),_&&i.jsx(Be,{variant:"outline",size:"icon",onClick:()=>X.mutate(),disabled:X.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-duplicate-gate-pass",children:i.jsx(ih,{className:"w-4 h-4"})}),i.jsxs(Be,{onClick:I,className:"bg-[#22c55e] hover:bg-[#16a34a] text-white","data-testid":"button-export-pdf",children:[i.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),i.jsxs(Be,{variant:"outline",onClick:we,disabled:U.isPending||F.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-save-gate-pass",children:[i.jsx(af,{className:"w-4 h-4 mr-2"}),U.isPending||F.isPending?"Saving...":"Save Changes"]}),_&&T&&T.length>1&&i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 hover:text-red-200",onClick:async()=>{confirm(`Are you sure you want to delete this gate pass (${_.revision})?`)&&Y.mutate(_.id)},"data-testid":"button-delete-gate-pass",children:i.jsx(mn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsxs(Xn,{className:"text-lg text-slate-700 flex items-center gap-2",children:[i.jsx(xa,{className:"w-5 h-5"}),"GATE PASS DETAILS"]})}),i.jsxs(Pr,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Doc. No"}),i.jsx(et,{value:c.gatePassNumber,onChange:j=>f({...c,gatePassNumber:j.target.value}),"data-testid":"input-doc-no"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Date"}),i.jsx(et,{type:"date",value:c.issueDate,onChange:j=>f({...c,issueDate:j.target.value}),"data-testid":"input-date"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"CONSIGNEE NAME"}),i.jsx(et,{value:c.consigneeName,onChange:j=>f({...c,consigneeName:j.target.value}),"data-testid":"input-consignee-name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"CONSIGNEE ADDRESS"}),i.jsx(ss,{value:c.consigneeAddressText,onChange:j=>f({...c,consigneeAddressText:j.target.value}),rows:3,"data-testid":"input-consignee-address"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Mode of transport"}),i.jsx(et,{value:c.modeOfTransport,onChange:j=>f({...c,modeOfTransport:j.target.value}),"data-testid":"input-mode-of-transport"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Vehicle No."}),i.jsx(et,{value:c.vehicleNumber,onChange:j=>f({...c,vehicleNumber:j.target.value}),"data-testid":"input-vehicle-number"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Contact No."}),i.jsx(et,{value:c.contactNo,onChange:j=>f({...c,contactNo:j.target.value}),"data-testid":"input-contact-no"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Contact Person"}),i.jsx(et,{value:c.contactPerson,onChange:j=>f({...c,contactPerson:j.target.value}),"data-testid":"input-contact-person"})]})]})]})]}),i.jsxs(Ar,{children:[i.jsxs(Yn,{className:"bg-slate-100 flex flex-row items-center justify-between",children:[i.jsx(Xn,{className:"text-lg text-slate-700",children:"GATE PASS ITEMS"}),i.jsxs(Be,{size:"sm",onClick:ye,"data-testid":"button-add-item",children:[i.jsx(ki,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),i.jsx(Pr,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-16",children:"SR. NO."}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-44",children:"PARTMARK"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-48",children:"MATERIAL DISCRIPTION"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-24",children:"MATERIAL SIZE"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-20",children:"QUANTITY"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-28",children:"ASSLY PART SL"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-24",children:"APPROX. VALUE"}),i.jsx("th",{className:"p-3 w-12"})]})}),i.jsxs("tbody",{children:[w.map(j=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"p-3",children:i.jsx(et,{value:j.serialNo===0?"":j.serialNo,onChange:x=>se(j.id,"serialNo",parseInt(x.target.value)||0),className:"w-14 text-center","data-testid":`input-serial-${j.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:j.partMark,onChange:x=>se(j.id,"partMark",x.target.value),"data-testid":`input-partmark-${j.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:j.materialDescription,onChange:x=>se(j.id,"materialDescription",x.target.value),"data-testid":`input-material-description-${j.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:j.materialSize,onChange:x=>se(j.id,"materialSize",x.target.value),"data-testid":`input-material-size-${j.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{type:"number",value:j.quantity,onChange:x=>se(j.id,"quantity",parseFloat(x.target.value)||0),"data-testid":`input-qty-${j.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:j.asslyPartSl,onChange:x=>se(j.id,"asslyPartSl",x.target.value),"data-testid":`input-assly-part-sl-${j.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:j.approxValue,onChange:x=>se(j.id,"approxValue",x.target.value),"data-testid":`input-approx-value-${j.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>xe(j.id),disabled:w.length===1,className:"text-red-500 hover:text-red-700","data-testid":`button-remove-item-${j.id}`,children:i.jsx(of,{className:"w-4 h-4"})})})]},j.id)),i.jsxs("tr",{className:"border-t bg-slate-50",children:[i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3 font-semibold",children:"TOTAL"}),i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3 font-semibold",children:w.reduce((j,x)=>j+(Number(x.quantity)||0),0)}),i.jsx("td",{className:"p-3 font-semibold"}),i.jsx("td",{className:"p-3 font-semibold",children:me().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"p-3"})]})]})]})})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsx(Xn,{className:"text-lg text-slate-700",children:"REMARK"})}),i.jsx(Pr,{className:"p-6",children:i.jsx(ss,{value:c.remarkText,onChange:j=>f({...c,remarkText:j.target.value}),rows:4,placeholder:"Add remark...","data-testid":"input-gate-pass-remark"})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsx(Xn,{className:"text-lg text-slate-700",children:"SIGNATURE"})}),i.jsx(Pr,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.storeKeeperSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>Q("storeKeeperSignature","storeKeeperSignUrl"),"data-testid":"signature-store-keeper",children:c.storeKeeperSignature?i.jsx("img",{src:c.storeKeeperSignature,alt:"Store Keeper Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Store Keeper"}),i.jsx("span",{className:"text-xs text-slate-500",children:c.storeKeeperSignature?"Selected":"Not selected"})]})]}),i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.qcEnggSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>Q("qcEnggSignature","qcEnggSignUrl"),"data-testid":"signature-qc-engg",children:c.qcEnggSignature?i.jsx("img",{src:c.qcEnggSignature,alt:"Qc Engg. Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Qc Engg."}),i.jsx("span",{className:"text-xs text-slate-500",children:c.qcEnggSignature?"Selected":"Not selected"})]})]}),i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.storeInchargeSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>Q("storeInchargeSignature","storeInchargeSignUrl"),"data-testid":"signature-store-incharge",children:c.storeInchargeSignature?i.jsx("img",{src:c.storeInchargeSignature,alt:"Store Incharge Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Store Incharge"}),i.jsx("span",{className:"text-xs text-slate-500",children:c.storeInchargeSignature?"Selected":"Not selected"})]})]}),i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.plantHeadSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>Q("plantHeadSignature","plantHeadSignUrl"),"data-testid":"signature-plant-head",children:c.plantHeadSignature?i.jsx("img",{src:c.plantHeadSignature,alt:"Plant Head Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Plant Head"}),i.jsx("span",{className:"text-xs text-slate-500",children:c.plantHeadSignature?"Selected":"Not selected"})]})]})]})})]})]})]}),i.jsx(Fa,{open:o,onOpenChange:u,children:i.jsxs(ya,{className:"max-w-md",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Gate Pass Versions"})}),i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:T?.map(j=>i.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${j.id===_?.id?"bg-red-50 border-red-200":"hover:bg-slate-50"}`,onClick:()=>{n(`/revira/projects/${e}/gate-pass/${j.id}`),u(!1)},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-center px-3 h-7 bg-[#d92134] text-white rounded font-bold text-sm mb-1 w-fit",children:j.revision}),i.jsx("p",{className:"text-sm text-slate-600",children:new Date(j.createdAt).toLocaleDateString()})]}),T&&T.length>1&&i.jsx(Be,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:x=>{x.stopPropagation(),confirm(`Are you sure you want to delete version ${j.revision}?`)&&Y.mutate(j.id)},"data-testid":`button-delete-version-${j.id}`,children:i.jsx(mn,{className:"w-4 h-4"})})]})},j.id))})]})})]})}function _5(){const t=Qu(),e=t.id,r=t.deliveryChallanId,[,n]=Ma(),{toast:a}=Ba(),[o,u]=L.useState(!1),[c,f]=L.useState({gatePassNumber:"",revision:"R-001",gatePassType:"Delivery Challan",issueNo:"001",issueDate:"",revNo:"00",revDate:"",consigneeName:"Company Name",consigneeAddressText:"PLOT NO. D3, MIDC Umred, Girad Mohpa Road, Belgaon Umred Nagpur, Maharashtra-441203",modeOfTransport:"By Road",vehicleNumber:"MH 40 CX 2839",transportVehicle:"By Road - MH 40 CX 2839",contactNo:"7972800638",contactPerson:"SAILESH",remarkText:"",storeKeeperSignature:"",qcEnggSignature:"",storeInchargeSignature:"",plantHeadSignature:"",organisationName:"",registeredAddress:"",consigneeAddress:"",clientGstin:"",workOrderNo:"NIL",orderReferenceType:"wo",purchaseOrderNo:"",dispatchDetails:"-",vehicleNo:"",showDispatchLrNo:!1,showDispatchPo:!1,showDispatchGatePass:!1,dispatchLrNo:"",dispatchPoNo:"",dispatchGatePass:"",appliedTaxType:"igst",cgstRate:"9",sgstRate:"9",igstRate:"18"}),p=x=>{const C=x.split(/\s+/).map(M=>M.trim()).filter(Boolean);return C.length?C.map(M=>M[0]).join("").toUpperCase():"PROJECT"},m=x=>{const C=String(x.getDate()).padStart(2,"0"),M=String(x.getMonth()+1).padStart(2,"0"),H=String(x.getFullYear()).slice(-2);return`${C}-${M}-${H}`},[w,A]=L.useState([{id:1,serialNo:1,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"20",quantity:1,asslyPartSl:"5/8",approxValue:"-",remarks:""},{id:2,serialNo:2,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"30",quantity:1,asslyPartSl:"6/8",approxValue:"-",remarks:""},{id:3,serialNo:3,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"-",quantity:1,asslyPartSl:"7/8",approxValue:"-",remarks:""},{id:4,serialNo:4,partMark:"PRA-BS2-193",materialDescription:"BEAM",materialSize:"10",quantity:1,asslyPartSl:"8/7",approxValue:"-",remarks:""},{id:5,serialNo:5,partMark:"PRA-BS2-B168",materialDescription:"BEAM",materialSize:"-",quantity:1,asslyPartSl:"1/1",approxValue:"-",remarks:""}]),{data:y}=Ca(),{data:D}=Rr({queryKey:["/revira/api/projects",e],queryFn:async()=>{const x=await fetch(`/revira/api/projects/${e}`,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch project");return x.json()},enabled:!!e}),{data:S}=Rr({queryKey:["/revira/api/clients",D?.clientId],queryFn:async()=>{const x=await fetch(`/revira/api/clients/${D?.clientId}`,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch client");return x.json()},enabled:!!D?.clientId}),{data:E}=Rr({queryKey:["/revira/api/branding"],enabled:!!y}),{data:_}=Rr({queryKey:["/revira/api/delivery-challans",r],queryFn:async()=>{if(r){const C=await fetch(`/revira/api/delivery-challans/${r}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch Delivery Challan");return C.json()}const x=await fetch(`/revira/api/projects/${e}/delivery-challan`,{credentials:"include"});if(!x.ok){if(x.status===404)return null;throw new Error("Failed to fetch Delivery Challan")}return x.json()},enabled:!!e}),{data:O}=Rr({queryKey:["/revira/api/delivery-challans",_?.id,"items"],queryFn:async()=>{const x=await fetch(`/revira/api/delivery-challans/${_?.id}/items`,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch items");return x.json()},enabled:!!_?.id}),{data:T}=Rr({queryKey:["/revira/api/projects",e,"delivery-challan-versions"],queryFn:async()=>{const x=await fetch(`/revira/api/projects/${e}/delivery-challan-versions`,{credentials:"include"});return x.ok?x.json():[]},enabled:!!e}),z=x=>{if(!x)return{};try{const C=JSON.parse(x);return C&&typeof C=="object"?C:{}}catch{return{}}};L.useCallback(()=>c.orderReferenceType==="po"?c.purchaseOrderNo||"-":c.workOrderNo||"-",[c.orderReferenceType,c.workOrderNo,c.purchaseOrderNo]),L.useCallback(()=>{const x=[];return c.vehicleNo.trim()&&x.push(`Vehicle No.: ${c.vehicleNo.trim()}`),c.showDispatchLrNo&&x.push(`L.R. No.: ${c.dispatchLrNo||"-"}`),c.showDispatchPo&&x.push(`P.O.: ${c.dispatchPoNo||"-"}`),c.showDispatchGatePass&&x.push(`Delivery Challan: ${c.dispatchGatePass||"-"}`),x.length?x.join(" | "):"-"},[c.vehicleNo,c.showDispatchLrNo,c.dispatchLrNo,c.showDispatchPo,c.dispatchPoNo,c.showDispatchGatePass,c.dispatchGatePass]);const ee=L.useCallback(()=>{const x={gatePassType:c.gatePassType,issueNo:c.issueNo,issueDate:c.issueDate,revNo:c.revNo,revDate:c.revDate,consigneeName:c.consigneeName,consigneeAddressText:c.consigneeAddressText,modeOfTransport:c.modeOfTransport,vehicleNumber:c.vehicleNumber,transportVehicle:c.transportVehicle,contactNo:c.contactNo,contactPerson:c.contactPerson,remarkText:c.remarkText,storeKeeperSignature:c.storeKeeperSignature,qcEnggSignature:c.qcEnggSignature,storeInchargeSignature:c.storeInchargeSignature,plantHeadSignature:c.plantHeadSignature,orderReferenceType:c.orderReferenceType,showWorkOrderNo:c.orderReferenceType==="wo",showPurchaseOrderNo:c.orderReferenceType==="po",purchaseOrderNo:c.purchaseOrderNo,vehicleNo:c.vehicleNo,showDispatchLrNo:c.showDispatchLrNo,showDispatchPo:c.showDispatchPo,showDispatchGatePass:c.showDispatchGatePass,dispatchLrNo:c.dispatchLrNo,dispatchPoNo:c.dispatchPoNo,dispatchGatePass:c.dispatchGatePass};return JSON.stringify(x)},[c]);L.useEffect(()=>{if(D&&S&&!_){const x=new Date,C=p(D.projectName),M=m(x);f(H=>({...H,gatePassNumber:`RNS/${C}/${M}/RNS-DC-002`,issueDate:x.toISOString().split("T")[0],revDate:x.toISOString().split("T")[0],consigneeName:"Company Name",consigneeAddressText:"PLOT NO. D3, MIDC Umred, Girad Mohpa Road, Belgaon Umred Nagpur, Maharashtra-441203",modeOfTransport:"By Road",vehicleNumber:"MH 40 CX 2839",transportVehicle:"By Road - MH 40 CX 2839",contactNo:"7972800638",contactPerson:"SAILESH",organisationName:S.name,registeredAddress:S.location,consigneeAddress:`${S.name}
${S.location}`,clientGstin:S.gstNo||""}))}},[D,S,_]),L.useEffect(()=>{if(_){const x=z(_.contentSections),C=ve=>(ve||"").replace(/^W\.O\.\s*No\.\s*:\s*/i,"").replace(/^P\.O\.\s*No\.\s*:\s*/i,"").trim(),M=x.orderReferenceType||(x.showPurchaseOrderNo?"po":"wo"),H=x.vehicleNo!==void 0||x.showDispatchLrNo!==void 0||x.showDispatchPo!==void 0||x.showDispatchGatePass!==void 0||x.dispatchLrNo!==void 0||x.dispatchPoNo!==void 0||x.dispatchGatePass!==void 0,ie=x.transportVehicle||_.dispatchDetails||"",le=ie.includes("-")?ie.split("-").map(ve=>ve.trim()):[];f({gatePassNumber:_.deliveryChallanNumber,revision:_.revision,gatePassType:x.gatePassType||"Delivery Challan",issueNo:x.issueNo||"001",issueDate:x.issueDate||"",revNo:x.revNo||"00",revDate:x.revDate||"",consigneeName:x.consigneeName||_.organisationName||"",consigneeAddressText:x.consigneeAddressText||_.registeredAddress||"",modeOfTransport:x.modeOfTransport||le[0]||"By Road",vehicleNumber:x.vehicleNumber||le[1]||"",transportVehicle:x.transportVehicle||x.vehicleNo||_.dispatchDetails||"",contactNo:x.contactNo||"",contactPerson:x.contactPerson||"",remarkText:x.remarkText||"",storeKeeperSignature:x.storeKeeperSignature||"",qcEnggSignature:x.qcEnggSignature||"",storeInchargeSignature:x.storeInchargeSignature||"",plantHeadSignature:x.plantHeadSignature||"",organisationName:_.organisationName,registeredAddress:_.registeredAddress,consigneeAddress:_.consigneeAddress,clientGstin:_.clientGstin||"",workOrderNo:C(_.workOrderNo)||"NIL",orderReferenceType:M,purchaseOrderNo:x.purchaseOrderNo||(M==="po"?C(_.workOrderNo):""),dispatchDetails:_.dispatchDetails||"-",vehicleNo:x.vehicleNo||(!H&&_.dispatchDetails&&_.dispatchDetails!=="-"?_.dispatchDetails:""),showDispatchLrNo:x.showDispatchLrNo??!1,showDispatchPo:x.showDispatchPo??!1,showDispatchGatePass:x.showDispatchGatePass??!1,dispatchLrNo:x.dispatchLrNo||"",dispatchPoNo:x.dispatchPoNo||"",dispatchGatePass:x.dispatchGatePass||"",appliedTaxType:_.appliedTaxType||"igst",cgstRate:_.cgstRate||"9",sgstRate:_.sgstRate||"9",igstRate:_.igstRate||"18"})}},[_]),L.useEffect(()=>{O&&O.length>0&&A(O.map((x,C)=>({id:x.id,serialNo:x.serialNo>0?x.serialNo:C+1,partMark:x.hsnCode||"",materialDescription:x.description||"",materialSize:x.ratePerUnit&&x.ratePerUnit!=="0"?x.ratePerUnit:"-",quantity:Number(x.quantity)||0,asslyPartSl:x.unit||"",approxValue:x.amount&&x.amount!=="0"?x.amount:"-",remarks:x.remarks||""})))},[O]);const W=L.useCallback(()=>{const x=w.reduce((ve,je)=>{const Te=Number(String(je.approxValue).replace(/,/g,""));return ve+(Number.isFinite(Te)?Te:0)},0);let C=0,M=0,H=0;c.appliedTaxType==="cgst_sgst"?(C=x*(Number(c.cgstRate)/100),M=x*(Number(c.sgstRate)/100)):H=x*(Number(c.igstRate)/100);const ie=C+M+H,le=x+ie;return{totalAmount:x,cgstAmount:C,sgstAmount:M,igstAmount:H,totalTax:ie,grandTotal:le}},[w,c.appliedTaxType,c.cgstRate,c.sgstRate,c.igstRate])(),te=(x,C="0")=>{const M=Number(String(x??"").replace(/,/g,"").trim());return Number.isFinite(M)?String(M):C},Q=(x,C)=>{const M=x.materialDescription.trim()||x.partMark.trim()||"ITEM",H=String(x.materialSize??"").replace(/,/g,"").trim(),ie=/^-?\d+(\.\d+)?$/.test(H);return{serialNo:x.serialNo>0?x.serialNo:C+1,description:M,hsnCode:x.partMark.trim()||void 0,quantity:te(x.quantity),unit:x.asslyPartSl.trim()||"NOS",ratePerUnit:ie?te(H,"0"):"0",percentage:"0",amount:te(x.approxValue,"0"),remarks:x.remarks}},fe=(x,C)=>{const M=E?.[C]||"";f(H=>H[x]?{...H,[x]:""}:M?{...H,[x]:M}:(a({title:"No branding signature",description:"Upload this signature image in Branding page first.",variant:"destructive"}),H))},U=L.useCallback(()=>{const x=C=>{const M=String(C??"").trim();return M!==""&&M!=="-"};return w.slice(0,5).filter(C=>x(C.materialDescription)||x(C.materialSize)||x(C.partMark)||x(C.asslyPartSl)||x(C.approxValue)||Number(C.quantity)>0)},[w]),F=kn({mutationFn:async()=>{const x=U(),M=await(await Mr("POST","/revira/api/delivery-challans",{projectId:Number(e),deliveryChallanNumber:c.gatePassNumber,revision:c.revision,organisationName:c.consigneeName||"Company Name",registeredAddress:c.consigneeAddressText||"-",consigneeAddress:`${c.consigneeName||"Company Name"}
${c.consigneeAddressText||"-"}`.trim(),clientGstin:c.clientGstin,workOrderNo:c.issueNo||"-",dispatchDetails:`${c.modeOfTransport||"By Road"} - ${c.vehicleNumber||"-"}`,appliedTaxType:c.appliedTaxType,cgstRate:c.cgstRate,sgstRate:c.sgstRate,igstRate:c.igstRate,contentSections:ee(),totalAmount:String(W.totalAmount),totalTax:String(W.totalTax),grandTotal:String(W.grandTotal)})).json();for(let H=0;H<x.length;H++){const ie=x[H];await Mr("POST",`/revira/api/delivery-challans/${M.id}/items`,Q(ie,H))}return M},onSuccess:x=>{Ur.invalidateQueries({queryKey:["/revira/api/delivery-challans"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"delivery-challan-versions"]}),n(`/revira/projects/${e}/delivery-challan/${x.id}`),a({title:"Delivery Challan saved",description:"The delivery challan has been created successfully."})},onError:x=>{a({title:"Error",description:x.message||"Failed to create delivery challan",variant:"destructive"})}}),X=kn({mutationFn:async()=>{const x=U();await Mr("PUT",`/revira/api/delivery-challans/${_?.id}`,{deliveryChallanNumber:c.gatePassNumber||"RNS/PROJECT/00-00-00/RNS-DC-002",revision:c.revision,organisationName:c.consigneeName||"Company Name",registeredAddress:c.consigneeAddressText||"-",consigneeAddress:`${c.consigneeName||"Company Name"}
${c.consigneeAddressText||"-"}`.trim(),clientGstin:c.clientGstin,workOrderNo:c.issueNo||"-",dispatchDetails:`${c.modeOfTransport||"By Road"} - ${c.vehicleNumber||"-"}`,appliedTaxType:c.appliedTaxType,cgstRate:c.cgstRate,sgstRate:c.sgstRate,igstRate:c.igstRate,contentSections:ee(),totalAmount:String(W.totalAmount),totalTax:String(W.totalTax),grandTotal:String(W.grandTotal)});let C=O||[];if(!C.length){const M=await fetch(`/revira/api/delivery-challans/${_?.id}/items`,{credentials:"include"});M.ok&&(C=await M.json())}for(const M of C)await Mr("DELETE",`/revira/api/delivery-challan-items/${M.id}`);for(let M=0;M<x.length;M++){const H=x[M];await Mr("POST",`/revira/api/delivery-challans/${_?.id}/items`,Q(H,M))}},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/delivery-challans"]}),Ur.invalidateQueries({queryKey:["/revira/api/delivery-challans",_?.id,"items"]}),Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"delivery-challan-versions"]}),a({title:"Delivery Challan updated",description:"The delivery challan has been updated successfully."})},onError:x=>{a({title:"Error",description:x.message||"Failed to update delivery challan",variant:"destructive"})}}),Y=kn({mutationFn:async()=>(await Mr("POST",`/revira/api/delivery-challans/${_?.id}/duplicate`,{})).json(),onSuccess:x=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"delivery-challan-versions"]}),n(`/revira/projects/${e}/delivery-challan/${x.id}`),a({title:"Delivery Challan duplicated",description:`Created new version: ${x.revision}`})},onError:x=>{a({title:"Error",description:x.message||"Failed to duplicate delivery challan",variant:"destructive"})}}),we=kn({mutationFn:async x=>{await Mr("DELETE",`/revira/api/delivery-challans/${x}`,void 0)},onSuccess:()=>{if(Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"delivery-challan-versions"]}),a({title:"Delivery Challan deleted",description:"The delivery challan version has been deleted."}),u(!1),T&&T.length>1){const x=T.filter(C=>C.id!==_?.id);x.length>0?n(`/revira/projects/${e}/delivery-challan/${x[0].id}`):n(`/revira/projects/${e}/delivery-challan`)}else n(`/revira/projects/${e}/delivery-challan`)},onError:x=>{a({title:"Error",description:x.message||"Failed to delete delivery challan",variant:"destructive"})}}),ye=()=>{_?X.mutate():F.mutate()},xe=()=>{const x=Math.max(...w.map(C=>C.id),0)+1;A([...w,{id:x,serialNo:w.length+1,partMark:"",materialDescription:"",materialSize:"-",quantity:0,asslyPartSl:"",approxValue:"-",remarks:""}])},se=x=>{if(w.length>1){const C=w.filter(M=>M.id!==x);A(C.map((M,H)=>({...M,serialNo:H+1})))}},me=(x,C,M)=>{A(H=>H.map(ie=>ie.id===x?{...ie,[C]:M}:ie))},I=()=>w.reduce((x,C)=>{const M=Number(String(C.approxValue||"").replace(/,/g,"").trim());return x+(Number.isFinite(M)?M:0)},0),j=async()=>{try{const x=new nr({orientation:"portrait",unit:"mm",format:"a4"}),C=210,M=297,H=15,ie=C-H*2,le=35,ve=30,je=rt=>rt*.2646,Te=je(80),Ge=je(50),at=je(80),nt=je(10),ht=je(3),re=je(3),ke="#eeb7b7",Ve="#fff5f5";let He=le+10,tt=1;const yt=rt=>rt.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}),_t=rt=>yt(rt),oe=rt=>new Promise((ot,Ye)=>{const it=new Image;it.crossOrigin="anonymous",it.onload=()=>{const xt=document.createElement("canvas");xt.width=it.width,xt.height=it.height,xt.getContext("2d")?.drawImage(it,0,0),ot(xt.toDataURL("image/png"))},it.onerror=Ye,it.src=rt});let Ne=null,Fe=null,Re=null;try{E?.headerUrl&&(Ne=await oe(E.headerUrl)),E?.footerUrl&&(Fe=await oe(E.footerUrl)),E?.stampUrl&&(Re=await oe(E.stampUrl))}catch(rt){console.warn("Failed to load branding images:",rt)}const $e=rt=>{Ne&&x.addImage(Ne,"PNG",0,0,C,le),Fe&&x.addImage(Fe,"PNG",0,M-ve,C,ve),Re&&x.addImage(Re,"PNG",C-Ge-Te,M-at-Te,Te,Te),x.setFontSize(8),x.setTextColor(128,128,128),x.text(`Page ${rt}`,C/2,M-8,{align:"center"})},ze=rt=>He+rt>M-ve-10?(x.addPage(),tt++,$e(tt),He=le+10,!0):!1,ct=(rt,ot=12)=>{He+=4,ze(12),x.setFillColor("#d92134"),x.rect(H,He-3.5,4,5,"F"),x.setFont("helvetica","bold"),x.setFontSize(ot),x.setTextColor("#1e3a5f"),x.text(rt,H+7,He),He+=5.5},pt=(rt,ot,Ye=[])=>{const it=[38,57,38,57],xt=5.8,jt=re,Pt=je(3),Et=Ht=>Ht-3,Lt=(Ht,Yt=0)=>Et(Ht)+Pt+2.5+Yt*3.2;ze(xt+4),x.setFont("helvetica","normal"),x.setFontSize(8.5);let $t=0;const Kt=Ht=>Ht.forEach(([Yt,_r])=>{const Nr=x.splitTextToSize(Yt,it[0]-jt*2),Br=x.splitTextToSize(_r||"-",it[1]+it[2]+it[3]-jt*2),qr=Math.max(Nr.length||1,Br.length||1),er=Math.max(xt,qr*3.2+1.2);if(ze(er+2),$t%2===0&&(x.setFillColor(245,245,245),x.rect(H,Et(He),ie,er,"F")),x.setDrawColor(ke),x.rect(H,Et(He),ie,er,"S"),x.line(H+it[0],Et(He),H+it[0],Et(He)+er),x.setFont("helvetica","bold"),Nr.forEach((ir,Kr)=>{x.text(ir,H+jt,Lt(He,Kr))}),Yt==="Dispatch Details"&&_r){const ir=_r.split(",").map(Ts=>Ts.trim()).filter(Boolean),Kr=H+it[0]+jt,Qt=H+it[0]+it[1]+it[2]+it[3]-jt;let dr=Kr,Jr=Lt(He,0);ir.forEach((Ts,bn)=>{const ai=bn<ir.length-1?", ":"",Ei=Ts.indexOf(" - "),Yr=Ei>-1?Ts.slice(0,Ei):Ts,En=Ei>-1?Ts.slice(Ei):"",gn=x.getTextWidth(Yr),oi=x.getTextWidth(En+ai);dr+gn+oi>Qt&&(dr=Kr,Jr+=3.2),x.setFont("helvetica","bold"),x.text(Yr,dr,Jr),dr+=gn,x.setFont("helvetica","normal"),x.text(En+ai,dr,Jr),dr+=oi})}else x.setFont("helvetica","normal"),Br.forEach((ir,Kr)=>{x.text(ir,H+it[0]+jt,Lt(He,Kr))});He+=er,$t+=1});Kt(rt),ot.forEach(Ht=>{const[Yt,_r]=Ht,Nr=x.splitTextToSize(Yt?.[0]||"",it[0]-jt*2),Br=x.splitTextToSize(Yt?.[1]||"-",it[1]-jt*2),qr=x.splitTextToSize(_r?.[0]||"",it[2]-jt*2),er=x.splitTextToSize(_r?.[1]||"",it[3]-jt*2),ir=Math.max(Nr.length||1,Br.length||1,qr.length||1,er.length||1),Kr=Math.max(xt,ir*3.2+1.2);ze(Kr+2),$t%2===0&&(x.setFillColor(245,245,245),x.rect(H,Et(He),ie,Kr,"F")),x.setDrawColor(ke),x.rect(H,Et(He),ie,Kr,"S");let Qt=H;for(let dr=0;dr<3;dr++)Qt+=it[dr],x.line(Qt,Et(He),Qt,Et(He)+Kr);x.setFont("helvetica","bold"),Nr.forEach((dr,Jr)=>x.text(dr,H+jt,Lt(He,Jr))),qr.forEach((dr,Jr)=>x.text(dr,H+it[0]+it[1]+jt,Lt(He,Jr))),x.setFont("helvetica","normal"),Br.forEach((dr,Jr)=>x.text(dr,H+it[0]+jt,Lt(He,Jr))),er.forEach((dr,Jr)=>x.text(dr,H+it[0]+it[1]+it[2]+jt,Lt(He,Jr))),He+=Kr,$t+=1}),Kt(Ye)},Tt=rt=>{const ot=[32,75,32,51],Ye=5.8,it=re,xt=je(3),jt=Et=>Et-3,Pt=(Et,Lt=0)=>jt(Et)+xt+2.5+Lt*3.2;ze(Ye+4),x.setFont("helvetica","normal"),x.setFontSize(8.5),rt.forEach((Et,Lt)=>{const[$t,Kt]=Et,Ht=x.splitTextToSize($t?.[0]||"",ot[0]-it*2),Yt=x.splitTextToSize($t?.[1]||"-",ot[1]-it*2),_r=x.splitTextToSize(Kt?.[0]||"",ot[2]-it*2),Nr=x.splitTextToSize(Kt?.[1]||"",ot[3]-it*2),Br=Math.max(Ht.length||1,Yt.length||1,_r.length||1,Nr.length||1),qr=Math.max(Ye,Br*3.2+1.2);ze(qr+2),Lt%2===0&&(x.setFillColor(245,245,245),x.rect(H,jt(He),ie,qr,"F")),x.setDrawColor(ke),x.rect(H,jt(He),ie,qr,"S");let er=H;for(let ir=0;ir<3;ir++)er+=ot[ir],x.line(er,jt(He),er,jt(He)+qr);x.setFont("helvetica","bold"),Ht.forEach((ir,Kr)=>x.text(ir,H+it,Pt(He,Kr))),_r.forEach((ir,Kr)=>x.text(ir,H+ot[0]+ot[1]+it,Pt(He,Kr))),x.setFont("helvetica","normal"),Yt.forEach((ir,Kr)=>x.text(ir,H+ot[0]+it,Pt(He,Kr))),Nr.forEach((ir,Kr)=>x.text(ir,H+ot[0]+ot[1]+ot[2]+it,Pt(He,Kr))),He+=qr})},St=(rt,ot)=>{const Ye=[95,55,ie-150],it=5.8,xt=re;ze(it+6),x.setFillColor(Ve),x.setDrawColor(ke),x.setLineWidth(.2),x.rect(H,He-3.2,ie,it,"FD"),x.setFont("helvetica","bold"),x.setFontSize(8.5),x.text("Total Amount In Words",H+re,He+.8),x.text("Details",H+Ye[0]+re,He+.8),x.text("Amount",H+Ye[0]+Ye[1]+re,He+.8),x.line(H+Ye[0],He-3.2,H+Ye[0],He-3.2+it),x.line(H+Ye[0]+Ye[1],He-3.2,H+Ye[0]+Ye[1],He-3.2+it),He+=it,x.setFont("helvetica","normal"),x.setFontSize(8.5);const jt=ot.map($t=>{const Kt=x.splitTextToSize($t.detail,Ye[1]-xt*2),Ht=x.splitTextToSize($t.value,Ye[2]-xt*2),Yt=Math.max(Kt.length||1,Ht.length||1),_r=Math.max(it,Yt*3.2+1.2);return{detailLines:Kt,valueLines:Ht,rowHeight:_r}}),Pt=jt.reduce(($t,Kt)=>$t+Kt.rowHeight,0);ze(Pt+2),x.setDrawColor(ke),x.rect(H,He-3.2,Ye[0],Pt,"S");const Et=x.splitTextToSize(rt,Ye[0]-xt*3);x.setFont("helvetica","bold"),Et.forEach(($t,Kt)=>{x.text($t,H+xt,He+.1+ht+Kt*3.2)});let Lt=He;jt.forEach(($t,Kt)=>{Kt%2===0&&(x.setFillColor(245,245,245),x.rect(H+Ye[0],Lt-3.2,Ye[1]+Ye[2],$t.rowHeight,"F")),x.setDrawColor(ke),x.rect(H+Ye[0],Lt-3.2,Ye[1]+Ye[2],$t.rowHeight,"S"),x.line(H+Ye[0]+Ye[1],Lt-3.2,H+Ye[0]+Ye[1],Lt-3.2+$t.rowHeight),(ot[Kt]?.detail||"").trim().toLowerCase()==="grand total"?x.setFont("helvetica","bold"):x.setFont("helvetica","normal"),$t.detailLines.forEach((Ht,Yt)=>{x.text(Ht,H+Ye[0]+xt,Lt+.1+ht+Yt*3.2)}),(ot[Kt]?.detail||"").trim().toLowerCase()==="grand total"?x.setFont("helvetica","bold"):x.setFont("helvetica","normal"),$t.valueLines.forEach((Ht,Yt)=>{x.text(Ht,H+Ye[0]+Ye[1]+xt,Lt+.1+ht+Yt*3.2)}),Lt+=$t.rowHeight}),He=Lt},yn="DELIVERY CHALLAN",Cr=c.issueDate?new Date(c.issueDate).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB"),yr=c.revDate?new Date(c.revDate).toLocaleDateString("en-GB"):new Date().toLocaleDateString("en-GB");$e(tt),x.setFontSize(16),x.setFont("helvetica","bold"),x.setTextColor("#da2032"),x.text(yn,C/2,He,{align:"center"}),He+=8,ct("Delivery Challan Details",11),pt([["Doc. No",c.gatePassNumber||"RNS/PROJECT/00-00-00/RNS-DC-002"],["Date",Cr||"-"],["CONSIGNEE NAME",c.consigneeName||"Company Name"],["CONSIGNEE ADDRESS",c.consigneeAddressText||"PLOT NO. D3, MIDC Umred, Girad Mohpa Road, Belgaon Umred Nagpur, Maharashtra-441203"],["Mode of transport",c.modeOfTransport||"By Road"],["Vehicle No.",c.vehicleNumber||"MH 40 CX 2839"],["Contact No.",c.contactNo||"7972800638"],["Contact person",c.contactPerson||"SAILESH"]],[]),He+=nt;const pr=["SR. NO.","MATERIAL DISCRIPTION","MATERIAL SIZE","ITEM CODE","UNIT","QUANTITY","APPROX. VALUE"],Ir=[14,40,29,25,24,20,28],Rt=w.filter(rt=>rt.partMark.trim()||rt.materialDescription.trim()).map(rt=>[rt.serialNo?String(rt.serialNo):"",rt.materialDescription,rt.materialSize,rt.partMark,rt.asslyPartSl,String(rt.quantity),rt.approxValue]);ze(15),x.setFillColor(Ve),x.setDrawColor(ke),x.setLineWidth(.2),x.rect(H,He-3,ie,5.8,"FD"),x.setFont("helvetica","bold"),x.setFontSize(8);let wr=H;pr.forEach((rt,ot)=>{x.line(wr,He-3,wr,He+2.8),x.text(rt,wr+re,He+.8),wr+=Ir[ot]}),x.line(wr,He-3,wr,He+2.8),He+=5.8,x.setFont("helvetica","normal"),Rt.forEach((rt,ot)=>{const Ye=rt.map((Pt,Et)=>x.splitTextToSize(Pt,Ir[Et]-re*2)),it=Math.max(...Ye.map(Pt=>Pt.length)),xt=Math.max(5.8,it*3.2+1.2);ze(xt+2),ot%2===0&&(x.setFillColor(245,245,245),x.rect(H,He-3,ie,xt,"F")),x.setDrawColor(ke),x.rect(H,He-3,ie,xt,"S");let jt=H;Ye.forEach((Pt,Et)=>{x.line(jt,He-3,jt,He-3+xt),Et===0?x.setFont("helvetica","bold"):x.setFont("helvetica","normal"),Pt.forEach((Lt,$t)=>{x.text(Lt,jt+re,He+.1+ht+$t*3.2)}),jt+=Ir[Et]}),x.line(jt,He-3,jt,He-3+xt),He+=xt});const sr=w.reduce((rt,ot)=>rt+(Number(ot.quantity)||0),0),mr=I(),fr=["","","TOTAL","",String(sr),"",mr.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})].map((rt,ot)=>x.splitTextToSize(rt,Ir[ot]-re*2)),Vt=Math.max(...fr.map(rt=>rt.length)),hr=Math.max(5.8,Vt*3.2+1.2);ze(hr+2),x.setFillColor(245,245,245),x.rect(H,He-3,ie,hr,"F"),x.setDrawColor(ke),x.rect(H,He-3,ie,hr,"S");let Jn=H;fr.forEach((rt,ot)=>{x.line(Jn,He-3,Jn,He-3+hr),x.setFont("helvetica",ot===2||ot===4||ot===5||ot===6?"bold":"normal"),rt.forEach((Ye,it)=>{x.text(Ye,Jn+re,He+.1+ht+it*3.2)}),Jn+=Ir[ot]}),x.line(Jn,He-3,Jn,He-3+hr),He+=hr,He+=nt,ct("Remark",11);const Rn=18;ze(Rn+5),x.setDrawColor(ke),x.rect(H,He-3,ie,Rn,"S"),x.setFont("helvetica","normal"),x.setFontSize(9),x.splitTextToSize(c.remarkText||"-",ie-2*re).forEach((rt,ot)=>{x.text(rt,H+re,He+.1+ht+ot*3.2)}),He+=Rn+nt,ct("Signature",11);const us=[{label:"Store Keeper",data:c.storeKeeperSignature},{label:"Qc Engg.",data:c.qcEnggSignature},{label:"Store Incharge",data:c.storeInchargeSignature},{label:"Plant Head",data:c.plantHeadSignature}],Gt=3,Tn=22,Bt=(ie-Gt*3)/4;ze(Tn+12),us.forEach((rt,ot)=>{const Ye=H+ot*(Bt+Gt);if(x.rect(Ye,He-3,Bt,Tn,"S"),rt.data)try{const it=x.getImageProperties(rt.data),xt=it.width||1,jt=it.height||1,Pt=Bt-2,Et=Tn-7,Lt=xt/jt,$t=Pt/Et;let Kt=Pt,Ht=Et;Lt>$t?Ht=Pt/Lt:Kt=Et*Lt;const Yt=Ye+1+(Pt-Kt)/2,_r=He-2.2+(Et-Ht)/2;x.addImage(rt.data,"PNG",Yt,_r,Kt,Ht)}catch{}x.setFont("helvetica","bold"),x.setFontSize(8),x.text(rt.label,Ye+Bt/2,He+Tn-1.2,{align:"center"})}),He+=Tn;const br=new Date,ur=`${String(br.getDate()).padStart(2,"0")}${String(br.getMonth()+1).padStart(2,"0")}${br.getFullYear()}`,At=(E?.entityName||"RNS").split(" ").map(rt=>rt[0]).join(""),ut=`GATE_PASS_${ur}_${At}_${c.revision}.pdf`;x.save(ut),a({title:"PDF exported",description:`Delivery Challan saved as ${ut}`})}catch(x){console.error("PDF export error:",x),a({title:"Export failed",description:"Failed to export delivery challan PDF. Please try again.",variant:"destructive"})}};return!D||!S||!y?i.jsx(ks,{user:y,children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):i.jsxs(ks,{user:y,children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>n("/revira/projects"),"data-testid":"button-back",children:i.jsx(sf,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:D.projectName}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-500",children:[i.jsx(eu,{className:"h-4 w-4"}),D.location]})]})]}),i.jsxs(Be,{className:"bg-[#d92134] hover:bg-[#b51c2c]",onClick:()=>n(`/revira/projects/${e}/delivery-challan`),"data-testid":"button-new-delivery-challan",children:[i.jsx(xa,{className:"w-4 h-4 mr-2"}),"New Delivery Challan"]})]}),i.jsxs("div",{className:"bg-[#d92134] rounded-xl p-4 mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:opacity-90",onClick:()=>u(!0),"data-testid":"button-versions-count",children:[i.jsx("span",{className:"text-white font-medium",children:"Versions"}),i.jsx("div",{className:"flex items-center justify-center px-3 h-8 bg-white text-[#d92134] rounded font-bold",children:_?.revision||c.revision||"R-001"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:()=>u(!0),"data-testid":"button-view-versions",children:i.jsx(Om,{className:"h-4 w-4"})}),_&&i.jsx(Be,{variant:"outline",size:"icon",onClick:()=>Y.mutate(),disabled:Y.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-duplicate-delivery-challan",children:i.jsx(ih,{className:"w-4 h-4"})}),i.jsxs(Be,{onClick:j,className:"bg-[#22c55e] hover:bg-[#16a34a] text-white","data-testid":"button-export-pdf",children:[i.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),i.jsxs(Be,{variant:"outline",onClick:ye,disabled:F.isPending||X.isPending,className:"bg-white/10 border-white/20 text-white hover:bg-white/20","data-testid":"button-save-delivery-challan",children:[i.jsx(af,{className:"w-4 h-4 mr-2"}),F.isPending||X.isPending?"Saving...":"Save Changes"]}),_&&T&&T.length>1&&i.jsx(Be,{variant:"outline",size:"icon",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 hover:text-red-200",onClick:async()=>{confirm(`Are you sure you want to delete this Delivery Challan (${_.revision})?`)&&we.mutate(_.id)},"data-testid":"button-delete-delivery-challan",children:i.jsx(mn,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsxs(Xn,{className:"text-lg text-slate-700 flex items-center gap-2",children:[i.jsx(xa,{className:"w-5 h-5"}),"Delivery Challan DETAILS"]})}),i.jsxs(Pr,{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Doc. No"}),i.jsx(et,{value:c.gatePassNumber,onChange:x=>f({...c,gatePassNumber:x.target.value}),"data-testid":"input-doc-no"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Date"}),i.jsx(et,{type:"date",value:c.issueDate,onChange:x=>f({...c,issueDate:x.target.value}),"data-testid":"input-date"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"CONSIGNEE NAME"}),i.jsx(et,{value:c.consigneeName,onChange:x=>f({...c,consigneeName:x.target.value}),"data-testid":"input-consignee-name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"CONSIGNEE ADDRESS"}),i.jsx(ss,{value:c.consigneeAddressText,onChange:x=>f({...c,consigneeAddressText:x.target.value}),rows:3,"data-testid":"input-consignee-address"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Mode of transport"}),i.jsx(et,{value:c.modeOfTransport,onChange:x=>f({...c,modeOfTransport:x.target.value}),"data-testid":"input-mode-of-transport"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Vehicle No."}),i.jsx(et,{value:c.vehicleNumber,onChange:x=>f({...c,vehicleNumber:x.target.value}),"data-testid":"input-vehicle-number"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Contact No."}),i.jsx(et,{value:c.contactNo,onChange:x=>f({...c,contactNo:x.target.value}),"data-testid":"input-contact-no"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Contact Person"}),i.jsx(et,{value:c.contactPerson,onChange:x=>f({...c,contactPerson:x.target.value}),"data-testid":"input-contact-person"})]})]})]})]}),i.jsxs(Ar,{children:[i.jsxs(Yn,{className:"bg-slate-100 flex flex-row items-center justify-between",children:[i.jsx(Xn,{className:"text-lg text-slate-700",children:"Delivery Challan ITEMS"}),i.jsxs(Be,{size:"sm",onClick:xe,"data-testid":"button-add-item",children:[i.jsx(ki,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}),i.jsx(Pr,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-16",children:"SR. NO."}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-48",children:"MATERIAL DISCRIPTION"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-24",children:"MATERIAL SIZE"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-44",children:"ITEM CODE"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-28",children:"UNIT"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-20",children:"QUANTITY"}),i.jsx("th",{className:"p-3 text-left text-sm font-medium text-slate-600 w-24",children:"APPROX. VALUE"}),i.jsx("th",{className:"p-3 w-12"})]})}),i.jsxs("tbody",{children:[w.map(x=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"p-3",children:i.jsx(et,{value:x.serialNo===0?"":x.serialNo,onChange:C=>me(x.id,"serialNo",parseInt(C.target.value)||0),className:"w-14 text-center","data-testid":`input-serial-${x.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:x.materialDescription,onChange:C=>me(x.id,"materialDescription",C.target.value),"data-testid":`input-material-description-${x.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:x.materialSize,onChange:C=>me(x.id,"materialSize",C.target.value),"data-testid":`input-material-size-${x.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:x.partMark,onChange:C=>me(x.id,"partMark",C.target.value),"data-testid":`input-partmark-${x.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:x.asslyPartSl,onChange:C=>me(x.id,"asslyPartSl",C.target.value),"data-testid":`input-assly-part-sl-${x.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{type:"number",value:x.quantity,onChange:C=>me(x.id,"quantity",parseFloat(C.target.value)||0),"data-testid":`input-qty-${x.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(et,{value:x.approxValue,onChange:C=>me(x.id,"approxValue",C.target.value),"data-testid":`input-approx-value-${x.id}`})}),i.jsx("td",{className:"p-3",children:i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>se(x.id),disabled:w.length===1,className:"text-red-500 hover:text-red-700","data-testid":`button-remove-item-${x.id}`,children:i.jsx(of,{className:"w-4 h-4"})})})]},x.id)),i.jsxs("tr",{className:"border-t bg-slate-50",children:[i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3 font-semibold",children:"TOTAL"}),i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3 font-semibold",children:w.reduce((x,C)=>x+(Number(C.quantity)||0),0)}),i.jsx("td",{className:"p-3 font-semibold",children:I().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"p-3"})]})]})]})})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsx(Xn,{className:"text-lg text-slate-700",children:"REMARK"})}),i.jsx(Pr,{className:"p-6",children:i.jsx(ss,{value:c.remarkText,onChange:x=>f({...c,remarkText:x.target.value}),rows:4,placeholder:"Add remark...","data-testid":"input-gate-pass-remark"})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{className:"bg-slate-100",children:i.jsx(Xn,{className:"text-lg text-slate-700",children:"SIGNATURE"})}),i.jsx(Pr,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.storeKeeperSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>fe("storeKeeperSignature","storeKeeperSignUrl"),"data-testid":"signature-store-keeper",children:c.storeKeeperSignature?i.jsx("img",{src:c.storeKeeperSignature,alt:"Store Keeper Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Store Keeper"}),i.jsx("span",{className:"text-xs text-slate-500",children:c.storeKeeperSignature?"Selected":"Not selected"})]})]}),i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.qcEnggSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>fe("qcEnggSignature","qcEnggSignUrl"),"data-testid":"signature-qc-engg",children:c.qcEnggSignature?i.jsx("img",{src:c.qcEnggSignature,alt:"Qc Engg. Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Qc Engg."}),i.jsx("span",{className:"text-xs text-slate-500",children:c.qcEnggSignature?"Selected":"Not selected"})]})]}),i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.storeInchargeSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>fe("storeInchargeSignature","storeInchargeSignUrl"),"data-testid":"signature-store-incharge",children:c.storeInchargeSignature?i.jsx("img",{src:c.storeInchargeSignature,alt:"Store Incharge Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Store Incharge"}),i.jsx("span",{className:"text-xs text-slate-500",children:c.storeInchargeSignature?"Selected":"Not selected"})]})]}),i.jsxs("div",{className:"border rounded-md p-2",children:[i.jsx("button",{type:"button",className:`w-full h-20 border rounded bg-white overflow-hidden ${c.plantHeadSignature?"ring-2 ring-[#d92134]":""}`,onClick:()=>fe("plantHeadSignature","plantHeadSignUrl"),"data-testid":"signature-plant-head",children:c.plantHeadSignature?i.jsx("img",{src:c.plantHeadSignature,alt:"Plant Head Signature",className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400",children:"Click to select"})}),i.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Plant Head"}),i.jsx("span",{className:"text-xs text-slate-500",children:c.plantHeadSignature?"Selected":"Not selected"})]})]})]})})]})]})]}),i.jsx(Fa,{open:o,onOpenChange:u,children:i.jsxs(ya,{className:"max-w-md",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Delivery Challan Versions"})}),i.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:T?.map(x=>i.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${x.id===_?.id?"bg-red-50 border-red-200":"hover:bg-slate-50"}`,onClick:()=>{n(`/revira/projects/${e}/delivery-challan/${x.id}`),u(!1)},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-center px-3 h-7 bg-[#d92134] text-white rounded font-bold text-sm mb-1 w-fit",children:x.revision}),i.jsx("p",{className:"text-sm text-slate-600",children:new Date(x.createdAt).toLocaleDateString()})]}),T&&T.length>1&&i.jsx(Be,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:C=>{C.stopPropagation(),confirm(`Are you sure you want to delete version ${x.revision}?`)&&we.mutate(x.id)},"data-testid":`button-delete-version-${x.id}`,children:i.jsx(mn,{className:"w-4 h-4"})})]})},x.id))})]})})]})}const D1=[{value:"cash",label:"Cash"},{value:"cheque",label:"Cheque"},{value:"neft",label:"NEFT"},{value:"imps",label:"IMPS"},{value:"upi",label:"UPI"},{value:"bank_transfer",label:"Bank Transfer"}],A5=t=>D1.find(e=>e.value===t)?.label||t;function e7(){const{id:t}=Qu(),e=Number(t),[,r]=Ma(),{data:n}=Ca(),{toast:a}=Ba(),[o,u]=L.useState(""),[c,f]=L.useState(!1),[p,m]=L.useState(!1),[w,A]=L.useState(null),[y,D]=L.useState(null),[S,E]=L.useState(null),[_,O]=L.useState({entryDate:new Date().toISOString().split("T")[0],category:"",description:"",amount:"",paymentMode:"cash",reference:"",attachmentUrl:""}),[T,z]=L.useState({entryDate:new Date().toISOString().split("T")[0],amount:"",receivedAgainst:"",paymentMode:"neft",remarks:"",reference:"",chequeNumber:"",bankName:"",chequeDate:"",attachmentUrl:""}),ee=(C,M)=>{if(C.size>5*1024*1024){a({title:"File too large",description:"Please upload a file smaller than 5MB.",variant:"destructive"});return}const H=new FileReader;H.onloadend=()=>{M(typeof H.result=="string"?H.result:"")},H.readAsDataURL(C)},ae=C=>{const M=C.target.files?.[0];M&&ee(M,H=>O(ie=>({...ie,attachmentUrl:H})))},W=C=>{const M=C.target.files?.[0];M&&ee(M,H=>z(ie=>({...ie,attachmentUrl:H})))},te=C=>C?C.startsWith("data:")?"Open Attachment":C:"-",Q=async(C,M)=>{if(!(C.headers.get("content-type")||"").includes("application/json"))throw new Error(M);return C.json()},{data:fe,isLoading:U}=Rr({queryKey:["/revira/api/projects",e],queryFn:async()=>{const C=await fetch(`/revira/api/projects/${e}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch project");return C.json()},enabled:Number.isFinite(e)&&e>0}),{data:F}=Rr({queryKey:["/revira/api/clients",fe?.clientId],queryFn:async()=>{const C=await fetch(`/revira/api/clients/${fe?.clientId}`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch client");return C.json()},enabled:!!fe?.clientId}),{data:X}=Rr({queryKey:["/revira/api/projects",e,"ledger","budget"],queryFn:async()=>{const C=await fetch(`/revira/api/projects/${e}/ledger/budget`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch budget");return Q(C,"Ledger budget API is unavailable. Please restart backend.")},enabled:Number.isFinite(e)&&e>0}),{data:Y=[],isLoading:we}=Rr({queryKey:["/revira/api/projects",e,"ledger","entries"],queryFn:async()=>{const C=await fetch(`/revira/api/projects/${e}/ledger/entries`,{credentials:"include"});if(!C.ok)throw new Error("Failed to fetch ledger entries");return Q(C,"Ledger entries API is unavailable. Please restart backend.")},enabled:Number.isFinite(e)&&e>0}),ye=kn({mutationFn:async()=>{const C=Number(String(o).replace(/,/g,"").trim()),M=Number.isFinite(C)?C:0,H=await Mr("PUT",`/revira/api/projects/${e}/ledger/budget`,{projectValue:String(M)});return Q(H,"Ledger budget API is unavailable. Please restart backend.")},onSuccess:C=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"ledger","budget"]}),u(String(Number(C?.projectValue||0))),a({title:"Budget saved",description:"Project budget updated successfully."})},onError:C=>{a({title:"Error",description:C.message||"Failed to save budget",variant:"destructive"})}}),xe=kn({mutationFn:async({id:C,payload:M})=>{if(C){const ie=await Mr("PUT",`/revira/api/ledger-entries/${C}`,M);await Q(ie,"Ledger update API is unavailable. Please restart backend.");return}const H=await Mr("POST",`/revira/api/projects/${e}/ledger/entries`,M);await Q(H,"Ledger create API is unavailable. Please restart backend.")},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"ledger","entries"]}),f(!1),m(!1),A(null),D(null),a({title:"Entry saved",description:"Ledger entry saved in database."})},onError:C=>{a({title:"Error",description:C.message||"Failed to add entry",variant:"destructive"})}}),se=kn({mutationFn:async C=>{await Mr("DELETE",`/revira/api/ledger-entries/${C}`)},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/projects",e,"ledger","entries"]}),E(null),a({title:"Entry deleted",description:"Ledger entry deleted successfully."})},onError:C=>{a({title:"Error",description:C.message||"Failed to delete entry",variant:"destructive"})}});L.useEffect(()=>{X&&X.projectValue!==void 0&&X.projectValue!==null&&u(String(Number(X.projectValue)))},[X?.projectValue]);const me=L.useMemo(()=>{const C=Y.filter(ie=>ie.entryType==="expense").reduce((ie,le)=>ie+(Number(le.amount)||0),0),M=Y.filter(ie=>ie.entryType==="receipt").reduce((ie,le)=>ie+(Number(le.amount)||0),0),H=Number(X?.projectValue||0);return{totalBudget:H,totalExpenses:C,totalReceived:M,balanceAmount:M-C,remainingBudget:H-C}},[Y,X]),I=L.useMemo(()=>{const C=[...Y].sort((ie,le)=>{const ve=new Date(ie.entryDate).getTime(),je=new Date(le.entryDate).getTime();return ve!==je?ve-je:ie.id-le.id});let M=0;const H={};return C.forEach(ie=>{const le=Number(ie.amount)||0;M+=ie.entryType==="expense"?-le:le,H[ie.id]=M}),[...Y].sort((ie,le)=>{const ve=new Date(ie.entryDate).getTime(),je=new Date(le.entryDate).getTime();return ve!==je?je-ve:le.id-ie.id}).map(ie=>({...ie,runningBalance:H[ie.id]||0}))},[Y]),j=()=>{if(!_.entryDate||!_.category||!_.description||!_.amount){a({title:"Missing fields",description:"Fill date, category, description and amount.",variant:"destructive"});return}xe.mutate({id:w||void 0,payload:{entryDate:_.entryDate,entryType:"expense",category:_.category,description:_.description,amount:_.amount,paymentMode:_.paymentMode,remarks:"",reference:_.reference,attachmentUrl:_.attachmentUrl}}),O({entryDate:new Date().toISOString().split("T")[0],category:"",description:"",amount:"",paymentMode:"cash",reference:"",attachmentUrl:""})},x=()=>{if(!T.entryDate||!T.amount){a({title:"Missing fields",description:"Fill received date and amount.",variant:"destructive"});return}xe.mutate({id:y||void 0,payload:{entryDate:T.entryDate,entryType:"receipt",category:"Client Receipt",description:"Payment received from client",amount:T.amount,paymentMode:T.paymentMode,remarks:T.remarks,reference:T.reference,receivedAgainst:T.receivedAgainst,chequeNumber:T.paymentMode==="cheque"?T.chequeNumber:"",bankName:T.paymentMode==="cheque"?T.bankName:"",chequeDate:T.paymentMode==="cheque"?T.chequeDate:"",utrNumber:"",attachmentUrl:T.attachmentUrl}}),z({entryDate:new Date().toISOString().split("T")[0],amount:"",receivedAgainst:"",paymentMode:"neft",remarks:"",reference:"",chequeNumber:"",bankName:"",chequeDate:"",attachmentUrl:""})};return U?i.jsx(ks,{user:n,children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):fe?i.jsx(ks,{user:n,children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 md:space-y-6 px-1 sm:px-0",children:[i.jsx("div",{className:"flex items-start sm:items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>r("/revira/projects"),children:i.jsx(sf,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:"Project Ledger"}),i.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 break-words",children:[fe.projectName," ",F?`- ${F.name}`:""]})]})]})}),i.jsxs(Ar,{className:"border-[#eeb7b7]",children:[i.jsx(Yn,{className:"bg-slate-50",children:i.jsx(Xn,{className:"text-[#d92134]",children:"Budget Initialization"})}),i.jsx(Pr,{className:"pt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-slate-500",children:"Project Cost / Project Value"}),i.jsx(et,{type:"number",value:o,onChange:C=>u(C.target.value),placeholder:X?.projectValue||"0.00","data-testid":"input-ledger-budget"})]}),i.jsx(Be,{className:"w-full md:w-auto",onClick:()=>ye.mutate(),disabled:ye.isPending,"data-testid":"button-save-ledger-budget",children:ye.isPending?"Saving...":"Save Budget"}),i.jsxs("div",{className:"text-sm text-slate-600 md:text-right",children:["Current Budget: ",i.jsxs("span",{className:"font-semibold",children:["Rs. ",Number(X?.projectValue||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-3",children:[i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Total Budget"}),i.jsxs("p",{className:"text-lg font-bold",children:["Rs. ",me.totalBudget.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Total Expenses"}),i.jsxs("p",{className:"text-lg font-bold text-red-600",children:["Rs. ",me.totalExpenses.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Total Received"}),i.jsxs("p",{className:"text-lg font-bold text-green-600",children:["Rs. ",me.totalReceived.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Balance (Received - Expenses)"}),i.jsxs("p",{className:`text-lg font-bold ${me.balanceAmount>=0?"text-green-600":"text-red-600"}`,children:["Rs. ",me.balanceAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Remaining Budget"}),i.jsxs("p",{className:`text-lg font-bold ${me.remainingBudget>=0?"text-green-600":"text-red-600"}`,children:["Rs. ",me.remainingBudget.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{children:i.jsx(Xn,{className:"text-base",children:"Add Ledger Entries"})}),i.jsxs(Pr,{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(Fa,{open:c,onOpenChange:f,children:[i.jsx(jh,{asChild:!0,children:i.jsxs(Be,{className:"w-full sm:w-auto","data-testid":"button-open-expense-dialog",onClick:()=>{A(null),O({entryDate:new Date().toISOString().split("T")[0],category:"",description:"",amount:"",paymentMode:"cash",reference:"",attachmentUrl:""})},children:[i.jsx(c_,{className:"w-4 h-4 mr-2"})," Add Expense"]})}),i.jsxs(ya,{className:"sm:max-w-2xl max-h-[85vh] overflow-y-auto",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Add Expense"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx(et,{type:"date",value:_.entryDate,onChange:C=>O({..._,entryDate:C.target.value})}),i.jsx(et,{placeholder:"Expense category/type",value:_.category,onChange:C=>O({..._,category:C.target.value})})]}),i.jsx(ss,{placeholder:"Description / remarks",value:_.description,onChange:C=>O({..._,description:C.target.value})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx(et,{type:"number",placeholder:"Amount",value:_.amount,onChange:C=>O({..._,amount:C.target.value})}),i.jsxs(Pl,{value:_.paymentMode,onValueChange:C=>O({..._,paymentMode:C}),children:[i.jsx(Ko,{children:i.jsx(kl,{placeholder:"Mode of payment"})}),i.jsx(Qo,{children:D1.map(C=>i.jsx(sa,{value:C.value,children:C.label},C.value))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx(et,{placeholder:"Reference / bill no.",value:_.reference,onChange:C=>O({..._,reference:C.target.value})}),i.jsx(et,{type:"file",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:ae})]}),_.attachmentUrl?i.jsx("p",{className:"text-xs text-slate-500",children:"Attachment selected"}):null,i.jsx(Be,{onClick:j,disabled:xe.isPending,className:"w-full","data-testid":"button-add-expense",children:xe.isPending?"Saving...":w?"Update Expense":"Save Expense"})]})]})]}),i.jsxs(Fa,{open:p,onOpenChange:m,children:[i.jsx(jh,{asChild:!0,children:i.jsxs(Be,{variant:"outline",className:"w-full sm:w-auto","data-testid":"button-open-receipt-dialog",onClick:()=>{D(null),z({entryDate:new Date().toISOString().split("T")[0],amount:"",receivedAgainst:"",paymentMode:"neft",remarks:"",reference:"",chequeNumber:"",bankName:"",chequeDate:"",attachmentUrl:""})},children:[i.jsx(u_,{className:"w-4 h-4 mr-2"})," Add Client Receipt"]})}),i.jsxs(ya,{className:"sm:max-w-2xl max-h-[85vh] overflow-y-auto",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Add Client Receipt"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx(et,{type:"date",value:T.entryDate,onChange:C=>z({...T,entryDate:C.target.value})}),i.jsx(et,{type:"number",placeholder:"Amount received",value:T.amount,onChange:C=>z({...T,amount:C.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx(et,{placeholder:"Received against (milestone/invoice/term)",value:T.receivedAgainst,onChange:C=>z({...T,receivedAgainst:C.target.value})}),i.jsxs(Pl,{value:T.paymentMode,onValueChange:C=>z({...T,paymentMode:C}),children:[i.jsx(Ko,{children:i.jsx(kl,{placeholder:"Mode of receipt"})}),i.jsx(Qo,{children:D1.map(C=>i.jsx(sa,{value:C.value,children:C.label},C.value))})]})]}),T.paymentMode==="cheque"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsx(et,{placeholder:"Cheque number",value:T.chequeNumber,onChange:C=>z({...T,chequeNumber:C.target.value})}),i.jsx(et,{placeholder:"Bank name",value:T.bankName,onChange:C=>z({...T,bankName:C.target.value})}),i.jsx(et,{type:"date",value:T.chequeDate,onChange:C=>z({...T,chequeDate:C.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx(et,{placeholder:"Reference details",value:T.reference,onChange:C=>z({...T,reference:C.target.value})}),i.jsx(et,{type:"file",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",onChange:W})]}),T.attachmentUrl?i.jsx("p",{className:"text-xs text-slate-500",children:"Attachment selected"}):null,i.jsx(ss,{placeholder:"Remarks",value:T.remarks,onChange:C=>z({...T,remarks:C.target.value})}),i.jsx(Be,{onClick:x,disabled:xe.isPending,className:"w-full","data-testid":"button-add-receipt",children:xe.isPending?"Saving...":y?"Update Receipt":"Save Receipt"})]})]})]})]})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{children:i.jsxs(Xn,{className:"text-base flex items-center gap-2",children:[i.jsx(sm,{className:"w-4 h-4"})," Ledger View"]})}),i.jsxs(Pr,{className:"p-0",children:[i.jsx("div",{className:"md:hidden p-3 space-y-3",children:we?i.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}):I.length===0?i.jsx("div",{className:"text-sm text-slate-500",children:"No ledger entries yet."}):I.map(C=>{const M=Number(C.amount)||0;return i.jsxs("div",{className:"border rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("div",{className:"text-xs text-slate-500",children:C.entryDate}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`text-xs font-semibold ${C.entryType==="expense"?"text-red-600":"text-green-600"}`,children:C.entryType==="expense"?"Expense":"Receipt"}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{C.entryType==="expense"?(A(C.id),O({entryDate:C.entryDate,category:C.category,description:C.description,amount:String(Number(C.amount)||0),paymentMode:C.paymentMode,reference:C.reference||"",attachmentUrl:C.attachmentUrl||""}),f(!0)):(D(C.id),z({entryDate:C.entryDate,amount:String(Number(C.amount)||0),receivedAgainst:C.receivedAgainst||"",paymentMode:C.paymentMode,remarks:C.remarks||"",reference:C.reference||"",chequeNumber:C.chequeNumber||"",bankName:C.bankName||"",chequeDate:C.chequeDate||"",attachmentUrl:C.attachmentUrl||""}),m(!0))},children:i.jsx(qu,{className:"w-3 h-3"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-6 w-6 text-red-600",onClick:()=>E(C),disabled:se.isPending,children:i.jsx(mn,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"text-sm font-medium text-slate-800",children:C.category}),i.jsx("div",{className:"text-xs text-slate-500",children:C.description}),i.jsxs("div",{className:"text-xs text-slate-600",children:["Mode: ",A5(C.paymentMode)]}),C.receivedAgainst?i.jsxs("div",{className:"text-xs text-slate-600",children:["Against: ",C.receivedAgainst]}):null,i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-slate-500",children:"Amount"}),i.jsxs("span",{className:C.entryType==="expense"?"text-red-600 font-semibold":"text-green-600 font-semibold",children:["Rs. ",M.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-slate-500",children:"Running Balance"}),i.jsxs("span",{className:C.runningBalance>=0?"text-green-700 font-semibold":"text-red-700 font-semibold",children:["Rs. ",C.runningBalance.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(C.remarks||C.reference||C.utrNumber||C.chequeNumber||C.attachmentUrl)&&i.jsxs("div",{className:"pt-1 border-t text-xs text-slate-600 space-y-1",children:[C.remarks?i.jsxs("div",{children:["Remarks: ",C.remarks]}):null,C.reference?i.jsxs("div",{children:["Ref: ",C.reference]}):null,C.utrNumber?i.jsxs("div",{children:["UTR: ",C.utrNumber]}):null,C.chequeNumber?i.jsxs("div",{children:["Cheque: ",C.chequeNumber]}):null,C.attachmentUrl?i.jsxs("div",{children:["Attach:"," ",i.jsx("a",{className:"text-blue-600 underline",href:C.attachmentUrl,target:"_blank",rel:"noreferrer",children:te(C.attachmentUrl)})]}):null]})]},C.id)})}),i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left",children:"Date"}),i.jsx("th",{className:"p-3 text-left",children:"Type"}),i.jsx("th",{className:"p-3 text-left",children:"Category / Particulars"}),i.jsx("th",{className:"p-3 text-left",children:"Payment Mode"}),i.jsx("th",{className:"p-3 text-right",children:"Debit"}),i.jsx("th",{className:"p-3 text-right",children:"Credit"}),i.jsx("th",{className:"p-3 text-left",children:"Remarks"}),i.jsx("th",{className:"p-3 text-left",children:"Reference / Attachment"}),i.jsx("th",{className:"p-3 text-right",children:"Running Balance"}),i.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{children:we?i.jsx("tr",{children:i.jsx("td",{className:"p-4 text-slate-500",colSpan:10,children:"Loading..."})}):I.length===0?i.jsx("tr",{children:i.jsx("td",{className:"p-4 text-slate-500",colSpan:10,children:"No ledger entries yet."})}):I.map(C=>{const M=Number(C.amount)||0;return i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"p-3",children:C.entryDate}),i.jsx("td",{className:`p-3 font-semibold ${C.entryType==="expense"?"text-red-600":"text-green-600"}`,children:C.entryType==="expense"?"Expense":"Receipt"}),i.jsxs("td",{className:"p-3",children:[i.jsx("div",{className:"font-medium",children:C.category}),i.jsx("div",{className:"text-xs text-slate-500",children:C.description}),C.receivedAgainst?i.jsxs("div",{className:"text-xs text-slate-500",children:["Against: ",C.receivedAgainst]}):null]}),i.jsx("td",{className:"p-3",children:A5(C.paymentMode)}),i.jsx("td",{className:"p-3 text-right text-red-600",children:C.entryType==="expense"?M.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}):"-"}),i.jsx("td",{className:"p-3 text-right text-green-600",children:C.entryType==="receipt"?M.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}):"-"}),i.jsx("td",{className:"p-3",children:C.remarks||"-"}),i.jsxs("td",{className:"p-3",children:[i.jsx("div",{children:C.reference||"-"}),C.utrNumber?i.jsxs("div",{className:"text-xs text-slate-500",children:["UTR: ",C.utrNumber]}):null,C.chequeNumber?i.jsxs("div",{className:"text-xs text-slate-500",children:["Cheque: ",C.chequeNumber]}):null,C.attachmentUrl?i.jsxs("div",{className:"text-xs text-slate-500",children:["Attach:"," ",i.jsx("a",{className:"text-blue-600 underline",href:C.attachmentUrl,target:"_blank",rel:"noreferrer",children:te(C.attachmentUrl)})]}):null]}),i.jsx("td",{className:`p-3 text-right font-semibold ${C.runningBalance>=0?"text-green-700":"text-red-700"}`,children:C.runningBalance.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(Be,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{C.entryType==="expense"?(A(C.id),O({entryDate:C.entryDate,category:C.category,description:C.description,amount:String(Number(C.amount)||0),paymentMode:C.paymentMode,reference:C.reference||"",attachmentUrl:C.attachmentUrl||""}),f(!0)):(D(C.id),z({entryDate:C.entryDate,amount:String(Number(C.amount)||0),receivedAgainst:C.receivedAgainst||"",paymentMode:C.paymentMode,remarks:C.remarks||"",reference:C.reference||"",chequeNumber:C.chequeNumber||"",bankName:C.bankName||"",chequeDate:C.chequeDate||"",attachmentUrl:C.attachmentUrl||""}),m(!0))},children:i.jsx(qu,{className:"w-3.5 h-3.5"})}),i.jsx(Be,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-600",onClick:()=>E(C),disabled:se.isPending,children:i.jsx(mn,{className:"w-3.5 h-3.5"})})]})})]},C.id)})})]})}),i.jsxs("div",{className:"border-t bg-slate-50 p-3 text-sm flex flex-wrap gap-4",children:[i.jsxs("span",{className:"font-semibold flex items-center gap-1",children:[i.jsx(f_,{className:"w-4 h-4"})," Total Budget: Rs. ",me.totalBudget.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i.jsxs("span",{className:"font-semibold text-red-600",children:["Total Expenses: Rs. ",me.totalExpenses.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i.jsxs("span",{className:"font-semibold text-green-600",children:["Total Received: Rs. ",me.totalReceived.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),i.jsxs("span",{className:`font-semibold ${me.balanceAmount>=0?"text-green-700":"text-red-700"}`,children:[i.jsx(i_,{className:"w-4 h-4 inline mr-1"})," Balance: Rs. ",me.balanceAmount.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),i.jsx(Fa,{open:!!S,onOpenChange:C=>!C&&E(null),children:i.jsxs(ya,{className:"sm:max-w-md",children:[i.jsxs(wa,{children:[i.jsx(ba,{children:"Delete Ledger Entry?"}),i.jsx(ef,{children:S?`Are you sure you want to delete this ${S.entryType} entry dated ${S.entryDate}? This action cannot be undone.`:"This action cannot be undone."})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Be,{type:"button",variant:"outline",autoFocus:!0,onClick:()=>E(null),disabled:se.isPending,"data-testid":"button-cancel-delete-ledger-entry",children:"Cancel"}),i.jsx(Be,{type:"button",variant:"destructive",onClick:()=>S&&se.mutate(S.id),disabled:se.isPending,"data-testid":"button-confirm-delete-ledger-entry",children:se.isPending?"Deleting...":"Delete"})]})]})})]})}):i.jsx(ks,{user:n,children:i.jsxs("div",{className:"text-center py-16",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Project not found"}),i.jsx(Be,{onClick:()=>r("/projects"),className:"mt-4",children:"Back to Projects"})]})})}const t7=[{value:"cash",label:"Cash"},{value:"cheque",label:"Cheque"},{value:"neft",label:"NEFT"},{value:"imps",label:"IMPS"},{value:"upi",label:"UPI"},{value:"bank_transfer",label:"Bank Transfer"}],Mp=t=>Number(t||0)||0;function r7(){const{id:t}=Qu(),e=Number(t),[,r]=Ma(),{data:n}=Ca(),{toast:a}=Ba(),[o,u]=L.useState(!1),[c,f]=L.useState({projectId:"",entryDate:new Date().toISOString().split("T")[0],amount:"",paymentMode:"neft",reference:"",remarks:"",receivedAgainst:""}),{data:p,isLoading:m}=Rr({queryKey:["/revira/api/clients",e],queryFn:async()=>{const W=await fetch(`/revira/api/clients/${e}`,{credentials:"include"});if(!W.ok)throw new Error("Failed to load client");return W.json()},enabled:Number.isFinite(e)&&e>0}),{data:w=[],isLoading:A}=Rr({queryKey:["/revira/api/client-ledger/projects",e],queryFn:async()=>{const W=await fetch("/revira/api/projects",{credentials:"include"});if(!W.ok)throw new Error("Failed to load projects");return(await W.json()).filter(Q=>Q.clientId===e)},enabled:Number.isFinite(e)&&e>0}),{data:y=[],isLoading:D}=Rr({queryKey:["/revira/api/client-ledger/invoices",e],queryFn:async()=>{const W=await fetch("/revira/api/invoices",{credentials:"include"});if(!W.ok)throw new Error("Failed to load invoices");const te=await W.json(),Q=new Set(w.map(fe=>fe.id));return te.filter(fe=>Q.has(fe.projectId))},enabled:w.length>0}),{data:S=[],isLoading:E}=Rr({queryKey:["/revira/api/client-ledger/receipts",e,w.map(W=>W.id).join(",")],queryFn:async()=>(await Promise.all(w.map(async te=>{const Q=await fetch(`/revira/api/projects/${te.id}/ledger/entries`,{credentials:"include"});return Q.ok?(await Q.json()).filter(U=>U.entryType==="receipt"):[]}))).flat(),enabled:w.length>0}),_=kn({mutationFn:async()=>{if(!c.projectId)throw new Error("Select a project");if(!c.entryDate||!c.amount)throw new Error("Date and amount are required");const W={entryDate:c.entryDate,entryType:"receipt",category:"Client Receipt",description:"Amount received from client",amount:c.amount,paymentMode:c.paymentMode,remarks:c.remarks,reference:c.reference,receivedAgainst:c.receivedAgainst,chequeNumber:"",bankName:"",chequeDate:"",utrNumber:"",attachmentUrl:""};await Mr("POST",`/revira/api/projects/${c.projectId}/ledger/entries`,W)},onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/client-ledger/receipts",e]}),u(!1),f({projectId:"",entryDate:new Date().toISOString().split("T")[0],amount:"",paymentMode:"neft",reference:"",remarks:"",receivedAgainst:""}),a({title:"Saved",description:"Received amount has been added."})},onError:W=>{a({title:"Error",description:W.message||"Failed to save",variant:"destructive"})}}),O=L.useMemo(()=>{const W=new Map;return w.forEach(te=>W.set(te.id,te)),W},[w]),T=L.useMemo(()=>w.map(W=>{const te=y.filter(fe=>fe.projectId===W.id).reduce((fe,U)=>fe+Mp(U.grandTotal),0),Q=S.filter(fe=>fe.projectId===W.id).reduce((fe,U)=>fe+Mp(U.amount),0);return{projectId:W.id,projectName:W.projectName,debit:te,credit:Q,balance:te-Q}}),[w,y,S]),z=L.useMemo(()=>{const W=T.reduce((Q,fe)=>Q+fe.debit,0),te=T.reduce((Q,fe)=>Q+fe.credit,0);return{debit:W,credit:te,balance:W-te}},[T]),ee=L.useMemo(()=>{const W=y.map(Q=>({date:new Date(Q.createdAt),dateText:new Date(Q.createdAt).toLocaleDateString("en-GB"),particulars:`Invoice ${Q.invoiceNumber} - ${O.get(Q.projectId)?.projectName||"Project"}`,vchType:"Sales",vchNo:Q.invoiceNumber||String(Q.id),debit:Mp(Q.grandTotal),credit:0})),te=S.map(Q=>({date:new Date(Q.entryDate),dateText:new Date(Q.entryDate).toLocaleDateString("en-GB"),particulars:`Receipt - ${O.get(Q.projectId)?.projectName||"Project"}`,vchType:"Receipt",vchNo:Q.reference||String(Q.id),debit:0,credit:Mp(Q.amount)}));return[...W,...te].sort((Q,fe)=>Q.date.getTime()-fe.date.getTime())},[y,S,O]),ae=()=>{const W=new nr({orientation:"portrait",unit:"mm",format:"a4"}),te=12,fe=210-te*2;let U=15;W.setFont("helvetica","bold"),W.setFontSize(14),W.text(`Client Ledger - ${p?.name||"Client"}`,te,U),U+=7,W.setFont("helvetica","normal"),W.setFontSize(10),W.text(`Date: ${new Date().toLocaleDateString("en-GB")}`,te,U),U+=7;const F=[{key:"date",label:"Date",width:24},{key:"part",label:"Particulars",width:68},{key:"type",label:"Vch Type",width:24},{key:"no",label:"Vch No.",width:26},{key:"debit",label:"Debit",width:24},{key:"credit",label:"Credit",width:24}],X=()=>{W.setFont("helvetica","bold"),W.setFontSize(9);let ye=te;F.forEach(xe=>{W.text(xe.label,ye+1,U),ye+=xe.width}),U+=2,W.line(te,U,te+fe,U),U+=4};X(),W.setFont("helvetica","normal"),W.setFontSize(9),ee.forEach(ye=>{U>276&&(W.addPage(),U=15,X(),W.setFont("helvetica","normal"));let xe=te;[ye.dateText,ye.particulars,ye.vchType,ye.vchNo,ye.debit>0?ye.debit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}):"",ye.credit>0?ye.credit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}):""].forEach((me,I)=>{const j=F[I],x=j.key==="debit"||j.key==="credit";W.text(String(me),x?xe+j.width-1:xe+1,U,{align:x?"right":"left"}),xe+=j.width}),U+=5}),U+=2,W.line(te+fe-48,U,te+fe,U),U+=5,W.setFont("helvetica","bold"),W.text(`Total Debit: ${z.debit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,te+fe-2,U,{align:"right"}),U+=5,W.text(`Total Credit: ${z.credit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,te+fe-2,U,{align:"right"}),U+=5;const Y=z.balance>=0?"Closing Balance (Dr)":"Closing Balance (Cr)";W.text(`${Y}: ${Math.abs(z.balance).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,te+fe-2,U,{align:"right"});const we=`ClientLedger_${p?.name?.replace(/\s+/g,"_")||"Client"}_${new Date().toISOString().slice(0,10)}.pdf`;W.save(we)};return m||A?i.jsx(ks,{user:n,children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):p?i.jsx(ks,{user:n,children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Be,{variant:"ghost",size:"icon",onClick:()=>r("/revira/clients"),children:i.jsx(sf,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[i.jsx(sm,{className:"h-6 w-6 text-[#d92134]"}),"Client Ledger"]}),i.jsx("p",{className:"text-sm text-slate-500",children:p.name})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Fa,{open:o,onOpenChange:u,children:[i.jsx(jh,{asChild:!0,children:i.jsxs(Be,{className:"bg-[#d92134] hover:bg-[#b91c2c]","data-testid":"button-add-client-receipt",children:[i.jsx(ki,{className:"h-4 w-4 mr-2"}),"Add Received Amount"]})}),i.jsxs(ya,{className:"sm:max-w-xl",children:[i.jsx(wa,{children:i.jsx(ba,{children:"Add Received Amount"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pl,{value:c.projectId,onValueChange:W=>f(te=>({...te,projectId:W})),children:[i.jsx(Ko,{children:i.jsx(kl,{placeholder:"Select project"})}),i.jsx(Qo,{children:w.map(W=>i.jsx(sa,{value:String(W.id),children:W.projectName},W.id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(et,{type:"date",value:c.entryDate,onChange:W=>f(te=>({...te,entryDate:W.target.value}))}),i.jsx(et,{type:"number",placeholder:"Amount",value:c.amount,onChange:W=>f(te=>({...te,amount:W.target.value}))})]}),i.jsxs(Pl,{value:c.paymentMode,onValueChange:W=>f(te=>({...te,paymentMode:W})),children:[i.jsx(Ko,{children:i.jsx(kl,{placeholder:"Payment mode"})}),i.jsx(Qo,{children:t7.map(W=>i.jsx(sa,{value:W.value,children:W.label},W.value))})]}),i.jsx(et,{placeholder:"Received against",value:c.receivedAgainst,onChange:W=>f(te=>({...te,receivedAgainst:W.target.value}))}),i.jsx(et,{placeholder:"Reference / voucher no.",value:c.reference,onChange:W=>f(te=>({...te,reference:W.target.value}))}),i.jsx(ss,{placeholder:"Remarks",value:c.remarks,onChange:W=>f(te=>({...te,remarks:W.target.value}))}),i.jsx(Be,{onClick:()=>_.mutate(),className:"w-full",disabled:_.isPending,children:_.isPending?"Saving...":"Save Receipt"})]})]})]}),i.jsxs(Be,{variant:"outline",onClick:ae,"data-testid":"button-export-client-ledger-pdf",children:[i.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Total Debit (Invoices)"}),i.jsxs("p",{className:"text-xl font-bold text-red-600",children:["Rs. ",z.debit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Total Credit (Received)"}),i.jsxs("p",{className:"text-xl font-bold text-green-600",children:["Rs. ",z.credit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),i.jsx(Ar,{children:i.jsxs(Pr,{className:"p-4",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Closing Balance"}),i.jsxs("p",{className:`text-xl font-bold ${z.balance>=0?"text-red-700":"text-green-700"}`,children:["Rs. ",Math.abs(z.balance).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})," ",z.balance>=0?"Dr":"Cr"]})]})})]}),i.jsxs(Ar,{children:[i.jsx(Yn,{children:i.jsx(Xn,{children:"Project-wise Ledger Summary"})}),i.jsx(Pr,{className:"p-0 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left",children:"Project"}),i.jsx("th",{className:"p-3 text-right",children:"Debit (Invoice)"}),i.jsx("th",{className:"p-3 text-right",children:"Credit (Received)"}),i.jsx("th",{className:"p-3 text-right",children:"Balance"})]})}),i.jsx("tbody",{children:D||E?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-slate-500",children:"Loading..."})}):T.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-slate-500",children:"No projects found for this client."})}):T.map(W=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"p-3",children:W.projectName}),i.jsx("td",{className:"p-3 text-right text-red-600",children:W.debit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsx("td",{className:"p-3 text-right text-green-600",children:W.credit.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}),i.jsxs("td",{className:`p-3 text-right font-semibold ${W.balance>=0?"text-red-700":"text-green-700"}`,children:[Math.abs(W.balance).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})," ",W.balance>=0?"Dr":"Cr"]})]},W.projectId))})]})})]})]})}):i.jsx(ks,{user:n,children:i.jsxs("div",{className:"text-center py-16",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Client not found"}),i.jsx(Be,{onClick:()=>r("/revira/clients"),className:"mt-4",children:"Back to Clients"})]})})}const n7=lE.extend({logoUrl:B.string().min(1,"Logo URL is required").max(5e5,"Logo data too large"),headerUrl:B.string().min(1,"Header URL is required").max(5e5,"Header data too large"),footerUrl:B.string().min(1,"Footer URL is required").max(5e5,"Footer data too large"),stampUrl:B.string().min(1,"Stamp URL is required").max(5e5,"Stamp data too large"),storeKeeperSignUrl:B.string().max(5e5,"Store Keeper signature data too large"),qcEnggSignUrl:B.string().max(5e5,"Qc Engg. signature data too large"),storeInchargeSignUrl:B.string().max(5e5,"Store Incharge signature data too large"),plantHeadSignUrl:B.string().max(5e5,"Plant Head signature data too large"),primaryColor:B.string().min(4,"Primary color is required").regex(/^#[0-9A-Fa-f]{6}$/,"Must be a valid hex color"),secondaryColor:B.string().min(4,"Secondary color is required").regex(/^#[0-9A-Fa-f]{6}$/,"Must be a valid hex color"),email:B.string().email("Valid email is required")});function s7(){const{toast:t}=Ba(),{data:e}=Ca(),r=L.useRef(null),n=df({resolver:ff(n7),defaultValues:{logoUrl:"https://reviranexgen.com/assets/logo-with-name.png",headerUrl:"https://reviranexgen.com/assets/header.jpg",footerUrl:"https://reviranexgen.com/assets/footer.jpg",stampUrl:"https://reviranexgen.com/assets/stamp.png",storeKeeperSignUrl:"",qcEnggSignUrl:"",storeInchargeSignUrl:"",plantHeadSignUrl:"",primaryColor:"#da2032",secondaryColor:"#2f3591",entityName:"Revira NexGen Structure Pvt. Ltd.",cin:"U16222DL2025PTC459465",companyGstin:"07AAPCR3026H1ZA",website:"www.reviranexgen.com",email:"info@reviranexgen.com",headOfficeAddress:"28, E2 Block, Shivram Park Nangloi Delhi - 110041",workshopAddress:"Flat No. 302, 3rd Floor Rajat Residency, Subharambha Society Near Toll Naka, Dabha, Nagpur 440023"}}),{data:a,isLoading:o}=Rr({queryKey:["/revira/api/branding"]});L.useEffect(()=>{a&&n.reset({logoUrl:a.logoUrl,headerUrl:a.headerUrl,footerUrl:a.footerUrl,stampUrl:a.stampUrl,storeKeeperSignUrl:a.storeKeeperSignUrl||"",qcEnggSignUrl:a.qcEnggSignUrl||"",storeInchargeSignUrl:a.storeInchargeSignUrl||"",plantHeadSignUrl:a.plantHeadSignUrl||"",primaryColor:a.primaryColor,secondaryColor:a.secondaryColor,entityName:a.entityName,cin:a.cin,companyGstin:a.companyGstin,website:a.website,email:a.email,headOfficeAddress:a.headOfficeAddress,workshopAddress:a.workshopAddress})},[a,n]);const u=kn({mutationFn:async T=>(await Mr("PUT","/revira/api/branding",T)).json(),onSuccess:T=>{n.reset({logoUrl:T.logoUrl,headerUrl:T.headerUrl,footerUrl:T.footerUrl,stampUrl:T.stampUrl,storeKeeperSignUrl:T.storeKeeperSignUrl||"",qcEnggSignUrl:T.qcEnggSignUrl||"",storeInchargeSignUrl:T.storeInchargeSignUrl||"",plantHeadSignUrl:T.plantHeadSignUrl||"",primaryColor:T.primaryColor,secondaryColor:T.secondaryColor,entityName:T.entityName,cin:T.cin,companyGstin:T.companyGstin,website:T.website,email:T.email,headOfficeAddress:T.headOfficeAddress,workshopAddress:T.workshopAddress}),Ur.invalidateQueries({queryKey:["/revira/api/branding"]}),t({title:"Branding updated",description:"Your branding settings have been saved successfully."})},onError:T=>{t({title:"Error",description:T.message||"Failed to update branding",variant:"destructive"})}}),c=T=>{u.mutate(T)};if(o)return i.jsx(ks,{user:e,children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});const f=n.watch("logoUrl"),p=n.watch("headerUrl"),m=n.watch("footerUrl"),w=n.watch("stampUrl"),A=n.watch("storeKeeperSignUrl"),y=n.watch("qcEnggSignUrl"),D=n.watch("storeInchargeSignUrl"),S=n.watch("plantHeadSignUrl"),E=n.watch("primaryColor"),_=n.watch("secondaryColor"),O=T=>z=>{const ee=z.target.files?.[0];if(ee){if(ee.size>500*1024){t({title:"File too large",description:"Please upload an image smaller than 500KB",variant:"destructive"});return}const ae=new FileReader;ae.onloadend=()=>{const W=ae.result;n.setValue(T,W,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0})},ae.readAsDataURL(ee)}};return i.jsx(ks,{user:e,children:i.jsx(hf,{...n,children:i.jsxs("form",{onSubmit:n.handleSubmit(c),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-primary to-primary/80 text-white shadow-lg",children:i.jsx(t1,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Branding"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Manage your company branding and identity"})]})]}),i.jsxs(Be,{type:"submit",disabled:u.isPending,className:"bg-gradient-to-r from-primary to-primary/90","data-testid":"button-save-branding",children:[i.jsx(af,{className:"w-4 h-4 mr-2"}),u.isPending?"Saving...":"Save Changes"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ar,{children:[i.jsxs(Yn,{children:[i.jsxs(Xn,{className:"flex items-center gap-2",children:[i.jsx(px,{className:"w-5 h-5"}),"Company Logo"]}),i.jsx(Kc,{children:"Upload or provide a URL for your company logo (max 500KB)"})]}),i.jsx(Pr,{className:"space-y-4",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-full max-w-xs h-32 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:f?i.jsx("img",{src:f,alt:"Company Logo",className:"max-h-full max-w-full object-contain p-2","data-testid":"img-logo-preview"}):i.jsxs("div",{className:"text-slate-400 text-center",children:[i.jsx(px,{className:"w-8 h-8 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:"No logo uploaded"})]})}),i.jsxs("div",{className:"w-full space-y-3",children:[i.jsx(on,{control:n.control,name:"logoUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Logo URL"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"https://example.com/logo.png","data-testid":"input-logo-url"})}),i.jsx(sn,{})]})}),i.jsx("div",{className:"text-center text-sm text-slate-500",children:"or"}),i.jsx("input",{type:"file",ref:r,onChange:O("logoUrl"),accept:"image/*",className:"hidden","data-testid":"input-logo-file"}),i.jsxs(Be,{type:"button",variant:"outline",className:"w-full",onClick:()=>r.current?.click(),"data-testid":"button-upload-logo",children:[i.jsx(zc,{className:"w-4 h-4 mr-2"}),"Upload Image"]})]})]})})]}),i.jsxs(Ar,{children:[i.jsxs(Yn,{children:[i.jsxs(Xn,{className:"flex items-center gap-2",children:[i.jsx(t1,{className:"w-5 h-5"}),"Brand Colors"]}),i.jsx(Kc,{children:"Set your primary and secondary brand colors"})]}),i.jsx(Pr,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(on,{control:n.control,name:"primaryColor",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Primary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:T.value,onChange:T.onChange,className:"w-12 h-10 rounded border cursor-pointer","data-testid":"input-primary-color"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"#da2032",className:"flex-1","data-testid":"input-primary-color-text"})})]}),i.jsx("div",{className:"h-8 rounded-md shadow-inner",style:{backgroundColor:E}}),i.jsx(sn,{})]})}),i.jsx(on,{control:n.control,name:"secondaryColor",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Secondary Color"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"color",value:T.value,onChange:T.onChange,className:"w-12 h-10 rounded border cursor-pointer","data-testid":"input-secondary-color"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"#2f3591",className:"flex-1","data-testid":"input-secondary-color-text"})})]}),i.jsx("div",{className:"h-8 rounded-md shadow-inner",style:{backgroundColor:_}}),i.jsx(sn,{})]})})]})})]}),i.jsxs(Ar,{className:"lg:col-span-2",children:[i.jsxs(Yn,{children:[i.jsxs(Xn,{className:"flex items-center gap-2",children:[i.jsx(Uc,{className:"w-5 h-5"}),"Document Assets"]}),i.jsx(Kc,{children:"Header, footer, and stamp images for documents (max 500KB each)"})]}),i.jsx(Pr,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-24 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:p?i.jsx("img",{src:p,alt:"Header",className:"max-h-full max-w-full object-contain","data-testid":"img-header-preview"}):i.jsxs("div",{className:"text-slate-400 text-center text-sm",children:[i.jsx(Uc,{className:"w-6 h-6 mx-auto mb-1"}),"No header"]})}),i.jsx(on,{control:n.control,name:"headerUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Header Image"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"https://example.com/header.jpg","data-testid":"input-header-url"})}),i.jsx(sn,{})]})}),i.jsx("input",{type:"file",id:"header-file",onChange:O("headerUrl"),accept:"image/*",className:"hidden","data-testid":"input-header-file"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>document.getElementById("header-file")?.click(),"data-testid":"button-upload-header",children:[i.jsx(zc,{className:"w-3 h-3 mr-2"}),"Upload Header"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-24 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:m?i.jsx("img",{src:m,alt:"Footer",className:"max-h-full max-w-full object-contain","data-testid":"img-footer-preview"}):i.jsxs("div",{className:"text-slate-400 text-center text-sm",children:[i.jsx(Uc,{className:"w-6 h-6 mx-auto mb-1"}),"No footer"]})}),i.jsx(on,{control:n.control,name:"footerUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Footer Image"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"https://example.com/footer.jpg","data-testid":"input-footer-url"})}),i.jsx(sn,{})]})}),i.jsx("input",{type:"file",id:"footer-file",onChange:O("footerUrl"),accept:"image/*",className:"hidden","data-testid":"input-footer-file"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>document.getElementById("footer-file")?.click(),"data-testid":"button-upload-footer",children:[i.jsx(zc,{className:"w-3 h-3 mr-2"}),"Upload Footer"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-24 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:w?i.jsx("img",{src:w,alt:"Stamp & Signature",className:"max-h-full max-w-full object-contain","data-testid":"img-stamp-preview"}):i.jsxs("div",{className:"text-slate-400 text-center text-sm",children:[i.jsx(l_,{className:"w-6 h-6 mx-auto mb-1"}),"No stamp"]})}),i.jsx(on,{control:n.control,name:"stampUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Company Stamp & Signature"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"https://example.com/stamp.png","data-testid":"input-stamp-url"})}),i.jsx(sn,{})]})}),i.jsx("input",{type:"file",id:"stamp-file",onChange:O("stampUrl"),accept:"image/*",className:"hidden","data-testid":"input-stamp-file"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>document.getElementById("stamp-file")?.click(),"data-testid":"button-upload-stamp",children:[i.jsx(zc,{className:"w-3 h-3 mr-2"}),"Upload Stamp"]})]})]})})]}),i.jsxs(Ar,{className:"lg:col-span-2",children:[i.jsxs(Yn,{children:[i.jsxs(Xn,{className:"flex items-center gap-2",children:[i.jsx(Uc,{className:"w-5 h-5"}),"Signatures"]}),i.jsx(Kc,{children:"Upload signature images for Gate Pass roles (max 500KB each)"})]}),i.jsx(Pr,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-24 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:A?i.jsx("img",{src:A,alt:"Store Keeper Signature",className:"max-h-full max-w-full object-contain","data-testid":"img-store-keeper-sign-preview"}):i.jsxs("div",{className:"text-slate-400 text-center text-sm",children:[i.jsx(Uc,{className:"w-6 h-6 mx-auto mb-1"}),"No signature"]})}),i.jsx(on,{control:n.control,name:"storeKeeperSignUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Store Keeper"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"Signature URL","data-testid":"input-store-keeper-sign-url"})}),i.jsx(sn,{})]})}),i.jsx("input",{type:"file",id:"store-keeper-sign-file",onChange:O("storeKeeperSignUrl"),accept:"image/*",className:"hidden","data-testid":"input-store-keeper-sign-file"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>document.getElementById("store-keeper-sign-file")?.click(),"data-testid":"button-upload-store-keeper-sign",children:[i.jsx(zc,{className:"w-3 h-3 mr-2"}),"Upload"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-24 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:y?i.jsx("img",{src:y,alt:"Qc Engg. Signature",className:"max-h-full max-w-full object-contain","data-testid":"img-qc-engg-sign-preview"}):i.jsxs("div",{className:"text-slate-400 text-center text-sm",children:[i.jsx(Uc,{className:"w-6 h-6 mx-auto mb-1"}),"No signature"]})}),i.jsx(on,{control:n.control,name:"qcEnggSignUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Qc Engg."}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"Signature URL","data-testid":"input-qc-engg-sign-url"})}),i.jsx(sn,{})]})}),i.jsx("input",{type:"file",id:"qc-engg-sign-file",onChange:O("qcEnggSignUrl"),accept:"image/*",className:"hidden","data-testid":"input-qc-engg-sign-file"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>document.getElementById("qc-engg-sign-file")?.click(),"data-testid":"button-upload-qc-engg-sign",children:[i.jsx(zc,{className:"w-3 h-3 mr-2"}),"Upload"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-24 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:D?i.jsx("img",{src:D,alt:"Store Incharge Signature",className:"max-h-full max-w-full object-contain","data-testid":"img-store-incharge-sign-preview"}):i.jsxs("div",{className:"text-slate-400 text-center text-sm",children:[i.jsx(Uc,{className:"w-6 h-6 mx-auto mb-1"}),"No signature"]})}),i.jsx(on,{control:n.control,name:"storeInchargeSignUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Store Incharge"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"Signature URL","data-testid":"input-store-incharge-sign-url"})}),i.jsx(sn,{})]})}),i.jsx("input",{type:"file",id:"store-incharge-sign-file",onChange:O("storeInchargeSignUrl"),accept:"image/*",className:"hidden","data-testid":"input-store-incharge-sign-file"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>document.getElementById("store-incharge-sign-file")?.click(),"data-testid":"button-upload-store-incharge-sign",children:[i.jsx(zc,{className:"w-3 h-3 mr-2"}),"Upload"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full h-24 border-2 border-dashed border-slate-200 rounded-lg flex items-center justify-center bg-slate-50 overflow-hidden",children:S?i.jsx("img",{src:S,alt:"Plant Head Signature",className:"max-h-full max-w-full object-contain","data-testid":"img-plant-head-sign-preview"}):i.jsxs("div",{className:"text-slate-400 text-center text-sm",children:[i.jsx(Uc,{className:"w-6 h-6 mx-auto mb-1"}),"No signature"]})}),i.jsx(on,{control:n.control,name:"plantHeadSignUrl",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Plant Head"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"Signature URL","data-testid":"input-plant-head-sign-url"})}),i.jsx(sn,{})]})}),i.jsx("input",{type:"file",id:"plant-head-sign-file",onChange:O("plantHeadSignUrl"),accept:"image/*",className:"hidden","data-testid":"input-plant-head-sign-file"}),i.jsxs(Be,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>document.getElementById("plant-head-sign-file")?.click(),"data-testid":"button-upload-plant-head-sign",children:[i.jsx(zc,{className:"w-3 h-3 mr-2"}),"Upload"]})]})]})})]}),i.jsxs(Ar,{className:"lg:col-span-2",children:[i.jsxs(Yn,{children:[i.jsxs(Xn,{className:"flex items-center gap-2",children:[i.jsx(W1,{className:"w-5 h-5"}),"Registry Data Core"]}),i.jsx(Kc,{children:"Company registration and legal information"})]}),i.jsx(Pr,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(on,{control:n.control,name:"entityName",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Entity Registered Identity"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"Revira NexGen Structure Pvt. Ltd.","data-testid":"input-entity-name"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:n.control,name:"cin",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Corporate Registration (CIN)"}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"U16222DL2025PTC459465","data-testid":"input-cin"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:n.control,name:"website",render:({field:T})=>i.jsxs(tn,{children:[i.jsxs(rn,{className:"flex items-center gap-2",children:[i.jsx(kw,{className:"w-4 h-4"}),"Universal Digital Hub (Website)"]}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"www.reviranexgen.com","data-testid":"input-website"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:n.control,name:"companyGstin",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Company GST No."}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"07AAPCR3026H1ZA","data-testid":"input-company-gstin"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:n.control,name:"email",render:({field:T})=>i.jsxs(tn,{children:[i.jsxs(rn,{className:"flex items-center gap-2",children:[i.jsx(Lh,{className:"w-4 h-4"}),"Master Digital Channel (Email)"]}),i.jsx(nn,{children:i.jsx(et,{...T,placeholder:"info@reviranexgen.com","data-testid":"input-email"})}),i.jsx(sn,{})]})})]})})]}),i.jsxs(Ar,{className:"lg:col-span-2",children:[i.jsxs(Yn,{children:[i.jsxs(Xn,{className:"flex items-center gap-2",children:[i.jsx(eu,{className:"w-5 h-5"}),"Locations"]}),i.jsx(Kc,{children:"Head office and workshop addresses"})]}),i.jsx(Pr,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(on,{control:n.control,name:"headOfficeAddress",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Head Office (H.O)"}),i.jsx(nn,{children:i.jsx(ss,{...T,placeholder:"28, E2 Block, Shivram Park Nangloi Delhi - 110041",rows:3,"data-testid":"input-head-office-address"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:n.control,name:"workshopAddress",render:({field:T})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Workshop"}),i.jsx(nn,{children:i.jsx(ss,{...T,placeholder:"Flat No. 302, 3rd Floor Rajat Residency...",rows:3,"data-testid":"input-workshop-address"})}),i.jsx(sn,{})]})})]})})]})]})]})})})}const i7=B.object({entityName:B.string().min(1,"Entity name is required"),cin:B.string().min(1,"CIN is required"),website:B.string().min(1,"Website is required"),email:B.string().email("Valid email is required"),headOfficeAddress:B.string().min(1,"Head office address is required"),workshopAddress:B.string().min(1,"Workshop address is required")});function a7(){const{toast:t}=Ba(),{data:e}=Ca(),r=df({resolver:ff(i7),defaultValues:{entityName:"Revira NexGen Structure Pvt. Ltd.",cin:"U16222DL2025PTC459465",website:"www.reviranexgen.com",email:"info@reviranexgen.com",headOfficeAddress:"28, E2 Block, Shivram Park Nangloi Delhi - 110041",workshopAddress:"Flat No. 302, 3rd Floor Rajat Residency, Subharambha Society Near Toll Naka, Dabha, Nagpur 440023"}}),{data:n,isLoading:a}=Rr({queryKey:["/revira/api/branding"]});L.useEffect(()=>{n&&r.reset({entityName:n.entityName,cin:n.cin,website:n.website,email:n.email,headOfficeAddress:n.headOfficeAddress,workshopAddress:n.workshopAddress})},[n,r]);const o=kn({mutationFn:async c=>(await Mr("PUT","/revira/api/branding",{...n,...c})).json(),onSuccess:()=>{Ur.invalidateQueries({queryKey:["/revira/api/branding"]}),t({title:"Settings updated",description:"Your company registry data has been saved successfully."})},onError:c=>{t({title:"Error",description:c.message||"Failed to update settings",variant:"destructive"})}}),u=c=>{o.mutate(c)};return a?i.jsx(ks,{user:e,children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#da2032]"})})}):i.jsx(ks,{user:e,children:i.jsx(hf,{...r,children:i.jsxs("form",{onSubmit:r.handleSubmit(u),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-[#da2032] text-white shadow-lg",children:i.jsx(W1,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Settings"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Manage company registry information"})]})]}),i.jsxs(Be,{type:"submit",disabled:o.isPending,className:"bg-[#da2032] hover:bg-[#c41b2b]","data-testid":"button-save-settings",children:[i.jsx(af,{className:"w-4 h-4 mr-2"}),o.isPending?"Saving...":"Save Changes"]})]}),i.jsxs(Ar,{children:[i.jsxs(Yn,{children:[i.jsxs(Xn,{className:"flex items-center gap-2",children:[i.jsx(xa,{className:"w-5 h-5"}),"Company Registry Data Core"]}),i.jsx(Kc,{children:"Company registration and legal information"})]}),i.jsx(Pr,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(on,{control:r.control,name:"entityName",render:({field:c})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Entity Registered Identity"}),i.jsx(nn,{children:i.jsx(et,{...c,placeholder:"Revira NexGen Structure Pvt. Ltd.","data-testid":"input-entity-name"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:r.control,name:"website",render:({field:c})=>i.jsxs(tn,{children:[i.jsxs(rn,{className:"flex items-center gap-2",children:[i.jsx(kw,{className:"w-4 h-4"}),"Universal Digital Hub (Website)"]}),i.jsx(nn,{children:i.jsx(et,{...c,placeholder:"www.reviranexgen.com","data-testid":"input-website"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:r.control,name:"cin",render:({field:c})=>i.jsxs(tn,{children:[i.jsx(rn,{children:"Corporate Registration (CIN)"}),i.jsx(nn,{children:i.jsx(et,{...c,placeholder:"U16222DL2025PTC459465","data-testid":"input-cin"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:r.control,name:"email",render:({field:c})=>i.jsxs(tn,{children:[i.jsxs(rn,{className:"flex items-center gap-2",children:[i.jsx(Lh,{className:"w-4 h-4"}),"Master Digital Channel (Email)"]}),i.jsx(nn,{children:i.jsx(et,{...c,placeholder:"info@reviranexgen.com","data-testid":"input-email"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:r.control,name:"workshopAddress",render:({field:c})=>i.jsxs(tn,{children:[i.jsxs(rn,{className:"flex items-center gap-2",children:[i.jsx(eu,{className:"w-4 h-4"}),"Nagpur Regional Hub"]}),i.jsx(nn,{children:i.jsx(ss,{...c,placeholder:"Flat No. 302, 3rd Floor Rajat Residency, Subharambha Society Near Toll Naka, Dabha, Nagpur 440023",rows:3,"data-testid":"input-nagpur-address"})}),i.jsx(sn,{})]})}),i.jsx(on,{control:r.control,name:"headOfficeAddress",render:({field:c})=>i.jsxs(tn,{children:[i.jsxs(rn,{className:"flex items-center gap-2",children:[i.jsx(eu,{className:"w-4 h-4"}),"Delhi Strategic H.O."]}),i.jsx(nn,{children:i.jsx(ss,{...c,placeholder:"28, E2 Block, Shivram Park Nangloi Delhi - 110041",rows:3,"data-testid":"input-delhi-address"})}),i.jsx(sn,{})]})})]})})]})]})})})}function o7(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-50 p-4",children:i.jsx(Ar,{className:"w-full max-w-md border-slate-200 shadow-xl",children:i.jsxs(Pr,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(JC,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-slate-600",children:"The page you are looking for does not exist or has been moved."}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx(B5,{href:"/revira",children:i.jsx(Be,{className:"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20",children:"Return Home"})})})]})})})}function na({component:t}){const{data:e,isLoading:r}=Ca();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:i.jsx(e1,{className:"w-8 h-8 animate-spin text-primary"})}):e?i.jsx(t,{}):i.jsx(yj,{to:"/revira"})}function l7(){return i.jsxs(xj,{children:[i.jsx(Ai,{path:"/revira",component:UE}),i.jsx(Ai,{path:"/revira/dashboard",children:i.jsx(na,{component:tL})}),i.jsx(Ai,{path:"/revira/clients",children:i.jsx(na,{component:iL})}),i.jsx(Ai,{path:"/revira/projects",children:i.jsx(na,{component:OL})}),i.jsx(Ai,{path:"/revira/users",children:i.jsx(na,{component:VL})}),i.jsx(Ai,{path:"/revira/projects/:projectId/quotation/:quotationId",children:i.jsx(na,{component:S5})}),i.jsx(Ai,{path:"/revira/projects/:projectId/quotation",children:i.jsx(na,{component:S5})}),i.jsx(Ai,{path:"/revira/projects/:id/invoice/:invoiceId",children:i.jsx(na,{component:j5})}),i.jsx(Ai,{path:"/revira/projects/:id/invoice",children:i.jsx(na,{component:j5})}),i.jsx(Ai,{path:"/revira/projects/:id/gate-pass/:gatePassId",children:i.jsx(na,{component:C5})}),i.jsx(Ai,{path:"/revira/projects/:id/gate-pass",children:i.jsx(na,{component:C5})}),i.jsx(Ai,{path:"/revira/projects/:id/delivery-challan/:deliveryChallanId",children:i.jsx(na,{component:_5})}),i.jsx(Ai,{path:"/revira/projects/:id/delivery-challan",children:i.jsx(na,{component:_5})}),i.jsx(Ai,{path:"/revira/projects/:id/ledger",children:i.jsx(na,{component:e7})}),i.jsx(Ai,{path:"/clients/:id/ledger",children:i.jsx(na,{component:r7})}),i.jsx(Ai,{path:"/revira/branding",children:i.jsx(na,{component:s7})}),i.jsx(Ai,{path:"/revira/settings",children:i.jsx(na,{component:a7})}),i.jsx(Ai,{component:o7})]})}function c7(){return i.jsx(Bj,{client:Ur,children:i.jsx(w6,{children:i.jsxs(fE,{children:[i.jsx(l7,{}),i.jsx(K_,{})]})})})}Y3.createRoot(document.getElementById("root")).render(i.jsx(c7,{}));export{Hn as _,u7 as c,P5 as g};
